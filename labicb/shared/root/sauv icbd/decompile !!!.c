// Generated by Rec Studio 4 - build Sep 19 2015

_init()
{// addr = 0x08048FF0
    _unknown_ __ebx;                       // r1
    _unknown_ _t3;                         // _t3
    _unknown_ _t4;                         // _t4

    __esp = __esp - 4;
    L1();
    _pop(__ebx);
    if( *((intOrPtr*)(_t4 + 45912 - 4)) != 0) {
        __gmon_start__();
    }
    frame_dummy();
    _t3 = __do_global_ctors_aux();
    _pop(__eax);
    return _t3;
}

L08048FFC()
{
    _unknown_ _t3;                         // _t3
    _unknown_ _t4;                         // _t4

    _pop(__ebx);
    if( *((intOrPtr*)(_t4 + 45912 - 4)) != 0) {
        __gmon_start__();
    }
    frame_dummy();
    _t3 = __do_global_ctors_aux();
    _pop(__eax);
    _pop(__ebx);
    __esp = __ebp;
    _pop(__ebp);
    return _t3;
}

int* __errno_location()
{// addr = 0x08049030
    goto __imp____errno_location;
}

const char* inet_ntop(int __af, * __cp, char* __buf, socklen_t __len)
{// addr = 0x08049040  --  defined in 'inet.h' at line 65
    goto __imp__inet_ntop;
}

mkdir()
{// addr = 0x08049050
    goto __imp__mkdir;
}

char* strerror(int __errnum)
{// addr = 0x08049060
    goto __imp__strerror;
}

daemon()
{// addr = 0x08049070
    goto __imp__daemon;
}

void qsort(void* __base, int __nmemb, int __size, __compar_fn_t __compar)
{// addr = 0x08049080
    goto __imp__qsort;
}

freeaddrinfo()
{// addr = 0x08049090
    goto __imp__freeaddrinfo;
}

syslog()
{// addr = 0x080490A0
    goto __imp__syslog;
}

err()
{// addr = 0x080490B0
    goto __imp__err;
}

void* bsearch(void* __key, void* __base, int __nmemb, int __size, __compar_fn_t __compar)
{// addr = 0x080490C0
    goto __imp__bsearch;
}

epoll_create()
{// addr = 0x080490D0
    goto __imp__epoll_create;
}

signal()
{// addr = 0x080490E0
    goto __imp__signal;
}

__xstat()
{// addr = 0x080490F0
    goto __imp____xstat;
}

__gmon_start__()
{// addr = 0x08049100
    goto __imp____gmon_start__;
}

void* realloc(void* __ptr, int __size)
{// addr = 0x08049110
    goto __imp__realloc;
}

int socketpair(int __domain, int __type, int __protocol, int* __fds)
{// addr = 0x08049120  --  defined in 'socket.h' at line 111
    goto __imp__socketpair;
}

char* strchr(char* __s, int __c)
{// addr = 0x08049130
    goto __imp__strchr;
}

int vsnprintf(char* dst, int sz, char* format, _G_va_list vals)
{// addr = 0x08049140
    goto __imp__vsnprintf;
}

char* getenv(char* __name)
{// addr = 0x08049150
    goto __imp__getenv;
}

writev()
{// addr = 0x08049160
    goto __imp__writev;
}

void* calloc(int __nmemb, int __size)
{// addr = 0x08049170
    goto __imp__calloc;
}

int write(int __fd, void* __buf, int __n)
{// addr = 0x08049180
    goto __imp__write;
}

tzset()
{// addr = 0x08049190
    goto __imp__tzset;
}

int listen(int __fd, int __n)
{// addr = 0x080491A0  --  defined in 'socket.h' at line 204
    goto __imp__listen;
}

void* memset(void* __s, int __c, int __n)
{// addr = 0x080491B0
    goto __imp__memset;
}

__libc_start_main()
{// addr = 0x080491C0
    goto __imp____libc_start_main;
}

char* strrchr(char* __s, int __c)
{// addr = 0x080491D0
    goto __imp__strrchr;
}

__assert_fail()
{// addr = 0x080491E0
    goto __imp____assert_fail;
}

int read(int __fd, void* __buf, int __nbytes)
{// addr = 0x080491F0
    goto __imp__read;
}

gettimeofday()
{// addr = 0x08049200
    goto __imp__gettimeofday;
}

void free(void* __ptr)
{// addr = 0x08049210
    goto __imp__free;
}

getline()
{// addr = 0x08049220
    goto __imp__getline;
}

openlog()
{// addr = 0x08049230
    goto __imp__openlog;
}

sigaction()
{// addr = 0x08049240
    goto __imp__sigaction;
}

int accept(int __fd, struct sockaddr* __addr, socklen_t* __addr_len)
{// addr = 0x08049250  --  defined in 'socket.h' at line 214
    goto __imp__accept;
}

ioctl()
{// addr = 0x08049260
    goto __imp__ioctl;
}

int socket(int __domain, int __type, int __protocol)
{// addr = 0x08049270  --  defined in 'socket.h' at line 105
    goto __imp__socket;
}

getrlimit()
{// addr = 0x08049280
    goto __imp__getrlimit;
}

__ctype_b_loc()
{// addr = 0x08049290
    goto __imp____ctype_b_loc;
}

getaddrinfo()
{// addr = 0x080492A0
    goto __imp__getaddrinfo;
}

int fclose(struct _IO_FILE* fp)
{// addr = 0x080492B0
    goto __imp__fclose;
}

uint16_t ntohs(uint16_t __netshort)
{// addr = 0x080492C0  --  defined in 'in.h' at line 366
    goto __imp__ntohs;
}

int getopt(int __argc, __caddr_t* __argv, char* __opts)
{// addr = 0x080492D0
    goto __imp__getopt;
}

void* memcpy(void* __dest, void* __src, int __n)
{// addr = 0x080492E0
    goto __imp__memcpy;
}

int strlen(char* __s)
{// addr = 0x080492F0
    goto __imp__strlen;
}

struct _IO_FILE* fopen(char* name, char* mode)
{// addr = 0x08049300
    goto __imp__fopen;
}

epoll_ctl()
{// addr = 0x08049310
    goto __imp__epoll_ctl;
}

gai_strerror()
{// addr = 0x08049320
    goto __imp__gai_strerror;
}

__builtin_va_list setlocale(int __category, char* __locale)
{// addr = 0x08049330
    goto __imp__setlocale;
}

int bind(int __fd, const struct sockaddr* __addr, socklen_t __len)
{// addr = 0x08049340  --  defined in 'socket.h' at line 115
    goto __imp__bind;
}

errx()
{// addr = 0x08049350
    goto __imp__errx;
}

int strcasecmp(char* __s1, char* __s2)
{// addr = 0x08049360
    goto __imp__strcasecmp;
}

int clock_gettime(clockid_t __clock_id, struct timespec* __tp)
{// addr = 0x08049370  --  defined in 'time.h' at line 336
    goto __imp__clock_gettime;
}

select()
{// addr = 0x08049380
    goto __imp__select;
}

int close(int __fd)
{// addr = 0x08049390
    goto __imp__close;
}

int fprintf(struct _IO_FILE* fp, char* format)
{// addr = 0x080493A0
    goto __imp__fprintf;
}

time_t time(time_t* __timer)
{// addr = 0x080493B0  --  defined in 'time.h' at line 186
    goto __imp__time;
}

int setvbuf(struct _IO_FILE* fp, char* bufptr, int mode, int size)
{// addr = 0x080493C0
    goto __imp__setvbuf;
}

void* malloc(int __size)
{// addr = 0x080493D0
    goto __imp__malloc;
}

int gethostname(__caddr_t __name, int __len)
{// addr = 0x080493E0
    goto __imp__gethostname;
}

poll()
{// addr = 0x080493F0
    goto __imp__poll;
}

epoll_wait()
{// addr = 0x08049400
    goto __imp__epoll_wait;
}

void* memmove(void* __dest, void* __src, int __n)
{// addr = 0x08049410
    goto __imp__memmove;
}

sigfillset()
{// addr = 0x08049420
    goto __imp__sigfillset;
}

int fork()
{// addr = 0x08049430
    goto __imp__fork;
}

int setsockopt(int __fd, int __level, int __optname, * __optval, socklen_t __optlen)
{// addr = 0x08049440  --  defined in 'socket.h' at line 197
    goto __imp__setsockopt;
}

fcntl()
{// addr = 0x08049450
    goto __imp__fcntl;
}

void bzero(void* __s, int __n)
{// addr = 0x08049460
    goto __imp__bzero;
}

struct tm* gmtime(const time_t* __timer)
{// addr = 0x08049470  --  defined in 'time.h' at line 233
    goto __imp__gmtime;
}

void* memchr(void* __s, int __c, int __n)
{// addr = 0x08049480
    goto __imp__memchr;
}

size_t strftime(char* __s, size_t __maxsize, const char* __format, const struct tm* __tp)
{// addr = 0x08049490  --  defined in 'time.h' at line 199
    goto __imp__strftime;
}

int snprintf(char* dst, int sz, char* format)
{// addr = 0x080494A0
    goto __imp__snprintf;
}

__res_init()
{// addr = 0x080494B0
    goto __imp____res_init;
}

int getpeername(int __fd, struct sockaddr* __addr, socklen_t* __len)
{// addr = 0x080494C0  --  defined in 'socket.h' at line 133
    goto __imp__getpeername;
}

int strcmp(char* __s1, char* __s2)
{// addr = 0x080494D0
    goto __imp__strcmp;
}

void exit(int __status)
{// addr = 0x080494E0
    goto __imp__exit;
}

_start(
    signed int __eax,                      // r0
    _unknown_ __edx                        // r3
)
{// addr = 0x080494F0
    signed int __ebx;                      // r1
    signed int _t9;                        // _t9

    _t5 = __eax;
    _pop(__esi);
    __ecx = __esp;
    __esp = __esp & -16;
    _push(__eax);
    _push(__esp);
    _push(__edx);
    _push(__libc_csu_fini);
    _push(__libc_csu_init);
    _push(__ecx);
    _push(__esi);
    _push(main);
    __libc_start_main();
    asm("hlt");
    0;
    0;
    _push(0);
    _push(__ebx);
    __esp = __esp - 4;
    if(completed.5706 == 0) {
        _t9 = dtor_idx.5708;
        _t5 =  &__DTOR_END__ -  &__DTOR_LIST__ >> 2;
        __ebx = ( &__DTOR_END__ -  &__DTOR_LIST__ >> 2) - 1;
        while(_t9 < __ebx) {
            _t5 = _t9 + 1;
            dtor_idx.5708 = _t5;
             *((intOrPtr*)(_t5 * 4 +  &__DTOR_LIST__))();
            _t9 = dtor_idx.5708;
        }
        completed.5706 = 1;
    }
    __esp = __esp + 4;
    _pop(__ebx);
    _pop(__ebp);
}

__do_global_dtors_aux()
{// addr = 0x08049520
    signed int __ebx;                      // r1
    _unknown_ _t5;                         // _t5

    if(completed.5706 == 0) {
        __edx = dtor_idx.5708;
        _t8 =  &__DTOR_END__ -  &__DTOR_LIST__ >> 2;
        __ebx = ( &__DTOR_END__ -  &__DTOR_LIST__ >> 2) - 1;
        if(__edx >= __ebx) {
L4:
            completed.5706 = 1;
            return;
        }
        do {
            _t8 = __edx + 1;
            dtor_idx.5708 = _t8;
             *((intOrPtr*)(_t8 * 4 +  &__DTOR_LIST__))();
            __edx = dtor_idx.5708;
        } while(__edx < __ebx);
        goto L4;
    }
}

frame_dummy()
{// addr = 0x08049580
    if(__JCR_LIST__ == 0 || 0 == 0) {
        return;
    } else {
         *__esp =  &__JCR_LIST__;
         *0();
        return;
    }
}

signed int icb_cmd_lookup(
    char* _a4                              // _cfa_4
)
{// addr = 0x080495A4
    signed int _v16;                       // _cfa_fffffff0
    char _v112;                            // _cfa_ffffff90
    signed int _v128;                      // _cfa_ffffff80
    void* _v132;          // _cfa_ffffff7c
    void* _v136;          // _cfa_ffffff78
    signed int _v140;                      // _cfa_ffffff74
    _unknown_ _v152;                       // _cfa_ffffff68 (outparam)
    _unknown_ __edi;                       // r4

    asm("cld");
    _v132 =  &_v112;
    _v136 =  &C.0.3869;
    _v140 = 24;
    memcpy(_v132, _v136, _v140 << 2);
    _v16 = 0;
    while( *(__ebp + _v16 * 8 - 108) != 0) {
        if(strcasecmp( *(__ebp + _v16 * 8 - 108), _a4) != 0) {
            _v16 = _v16 + 1;
            continue;
        } else {
            _v128 =  *(__ebp + _v16 * 8 - 104);
        }
L6:
        return _v128;
    }
    _v128 = 0;
    goto L6;
}

icb_cmd_help(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804962D
    char* _v20;                            // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8

    _v20 = "Server supports following commands:";
    _v24 = 3;
     *__esp = _a4;
    icb_status();
    _v20 = "beep boot g m name nobeep pass topic w";
    _v24 = 3;
     *__esp = _a4;
    return icb_status();
}

signed int icb_cmd_beep(
    intOrPtr _a4,                          // _cfa_4
    signed char* _a8                       // _cfa_8
)
{// addr = 0x0804966B
    char* _v8;                             // _cfa_fffffff8
    char* _v12;                            // _cfa_fffffff4
    char _v44;                             // _cfa_ffffffd4
    intOrPtr _v64;                         // _cfa_ffffffc0 (outparam)
    _unknown_ _v68;                        // _cfa_ffffffbc (outparam)
    char* _v72;                            // _cfa_ffffffb8 (outparam)
    signed int _t91;                       // _t91

    _v12 =  *(_a4 + 1604);
    if(( *_a8 & 255) == 0) {
        _v72 = "Invalid user";
         *__esp = _a4;
        return icb_error();
    }
    icb_vis( &_v44, _a8, 32, 4);
    _v8 = _v12[0xc8];
    while(_v8 != 0) {
        if(strcmp(_v8,  &_v44) != 0) {
            _v8 = _v8[0x660];
            continue;
        }
        break;
    }
    if(_v8 == 0) {
        _v12 = groups;
        while(_v12 != 0) {
            if(strcmp( *(_a4 + 1604), _v12) == 0) {
L14:
                _v12 = _v12[0xc0];
                continue;
            } else {
                _v8 = _v12[0xc8];
                while(_v8 != 0) {
                    if(strcmp(_v8,  &_v44) != 0) {
                        _v8 = _v8[0x660];
                        continue;
                    }
                    break;
                }
                if(_v8 == 0) {
                    goto L14;
                }
            }
            goto L16;
        }
    }
L16:
    if(_v8 == 0) {
        return icb_status(_a4, 6, "%s is not signed on",  &_v44);
    }
    if(_v8 == _a4) {
        _v72 = "Very funny... Not!";
         *__esp = _a4;
        return icb_error();
    }
    if((_v8[0x65c] & 48) == 0) {
        _v64 = _a4;
        return icb_sendfmt(_v8, "%c%s", 107);
    }
    _v72 = "User has nobeep enabled";
     *__esp = _a4;
    icb_error();
    _t91 = _v8[0x65c] & 32;
    if(_t91 != 0) {
        return icb_status(_v8, 5, "%s attempted to beep you", _a4);
    }
    return _t91;
}

icb_cmd_boot(
    intOrPtr _a4,                          // _cfa_4
    signed char* _a8                       // _cfa_8
)
{// addr = 0x08049836
    char* _v8;                             // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v44;                             // _cfa_ffffffd4
    _unknown_ _v60;                        // _cfa_ffffffc4 (outparam)
    _unknown_ _v64;                        // _cfa_ffffffc0 (outparam)
    char* _v68;                            // _cfa_ffffffbc (outparam)
    char* _v72;                            // _cfa_ffffffb8 (outparam)

    _v12 =  *((intOrPtr*)(_a4 + 1604));
    if(icb_ismod(_v12, _a4) != 0) {
        if(( *_a8 & 255) != 0) {
            icb_vis( &_v44, _a8, 32, 4);
            _v8 =  *(_v12 + 200);
            while(_v8 != 0) {
                if(strcmp(_v8,  &_v44) == 0) {
                    break;
                }
                _v8 = _v8[0x660];
            }
            if(_v8 != 0) {
                if(_v8 != _a4) {
                    icb_status(_v8, 1, "%s booted you", _a4);
                    icb_status_group(_v8[0x644], _v8, 1, "%s was booted", _v8);
                    return icbd_drop(_v8, "booted");
                }
                _v72 = "Just quit, would you?";
                 *__esp = _a4;
                return icb_error();
            }
            _v68 = "No such user";
            _v72 = 6;
             *__esp = _a4;
            return icb_status();
        }
        _v72 = "Invalid user";
         *__esp = _a4;
        return icb_error();
    }
    _v68 = "Sorry, booting is a privilege you don't possess";
    _v72 = 6;
     *__esp = _a4;
    return icb_status();
}

signed int icb_cmd_change(
    char* _a4,                             // _cfa_4
    signed char* _a8                       // _cfa_8
)
{// addr = 0x080499A1
    intOrPtr _v12;                         // _cfa_fffffff4
    char* _v16;                            // _cfa_fffffff0
    char* _v20;                            // _cfa_ffffffec
    char _v52;                             // _cfa_ffffffcc
    char* _v60;                            // _cfa_ffffffc4
    intOrPtr _v64;                         // _cfa_ffffffc0
    char* _v68;                            // _cfa_ffffffbc
    char* _v72;                            // _cfa_ffffffb8
    char* _v76;                            // _cfa_ffffffb4
    char* _v84;                            // _cfa_ffffffac
    char* _v88;                            // _cfa_ffffffa8
    char* _v92;                            // _cfa_ffffffa4 (outparam)
    _unknown_ _v96;                        // _cfa_ffffffa0 (outparam)
    _unknown_ _v100;                       // _cfa_ffffff9c (outparam)
    char* _v104;                           // _cfa_ffffff98 (outparam)
    signed int _t194;                      // _t194

    _v12 = 0;
    if(( *_a8 & 255) != 0) {
        icb_vis( &_v52, _a8, 32, 4);
        _v20 = groups;
        while(_v20 != 0) {
            if(strcmp(_v20,  &_v52) == 0) {
                break;
            }
            _v20 = _v20[0xc0];
        }
        if(_v20 != 0) {
L12:
            if(_a4[0x644] == 0 || _a4[0x644] != _v20) {
                _v16 = _v20[0xc8];
                while(_v16 != 0) {
                    if(strcmp(_v16, _a4) != 0) {
                        _v16 = _v16[0x660];
                        continue;
                    }
                    _v104 = "Nick is already in use";
                     *__esp = _a4;
                    return icb_error();
                }
                if(_a4[0x644] != 0) {
                    _v12 = 1;
                    if(icb_ismod(_a4[0x644], _a4) != 0) {
                        icb_pass(_a4[0x644], _a4, 0);
                    }
                    if(_a4[0x660] != 0) {
                         *((intOrPtr*)(_a4[0x660] + 1636)) = _a4[0x664];
                    }
                     *(_a4[0x664]) = _a4[0x660];
                    _v84 =  &(_a4[0x40]);
                    _v88 =  &(_a4[0x20]);
                    icb_status_group(_a4[0x644], 0, 2, "%s (%s%s) just left", _a4);
                }
                _a4[0x644] = _v20;
                _a4[0x660] = _v20[0xc8];
                if(_a4[0x660] != 0) {
                     *(_v20[0xc8] + 1636) =  &(_a4[0x660]);
                }
                _v20[0xc8] = _a4;
                _a4[0x664] =  &(_v20[0xc8]);
                _v76 =  &(_a4[0x40]);
                _v72 =  &(_a4[0x20]);
                _v68 = _a4;
                if(_v12 == 0) {
                    _v64 = 7;
                } else {
                    _v64 = 0;
                }
                _v84 = _v76;
                _v88 = _v72;
                icb_status_group(_v20, _a4, _v64, "%s (%s%s) entered group", _v68);
                if(icb_ismod(_v20, _a4) == 0) {
                    _v60 = 134554356;
                } else {
                    _v60 = " as moderator";
                }
                _v92 = _v60;
                icb_status(_a4, 9, "You are now in group %s%s", _v20);
                _t194 = _v20[0x20] & 255;
                if(_t194 == 0) {
                    return _t194;
                } else {
                    return icb_status(_a4, 10, "The topic is: %s",  &(_v20[0x20]));
                }
            } else {
                _v104 = "You are already in that group";
                 *__esp = _a4;
                return icb_error();
            }
        }
        if(creategroups != 0) {
            _v20 = icb_addgroup(_a4,  &_v52);
            if(_v20 != 0) {
                _v92 =  &_v52;
                icbd_log(0, 7, "%s created group %s", _a4);
                goto L12;
            }
            return icb_error(_a4, "Can't create group %s",  &_v52);
        }
        _v104 = "Can't create new groups";
         *__esp = _a4;
        return icb_error();
    }
    _v104 = "Invalid group name";
     *__esp = _a4;
    return icb_error();
}

icb_cmd_name(
    intOrPtr _a4,                          // _cfa_4
    char* _a8                              // _cfa_8
)
{// addr = 0x08049D51
    char* _v8;                             // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v44;                             // _cfa_ffffffd4
    char* _v56;                            // _cfa_ffffffc8
    _unknown_ _v60;                        // _cfa_ffffffc4 (outparam)
    _unknown_ _v64;                        // _cfa_ffffffc0 (outparam)
    _unknown_ _v68;                        // _cfa_ffffffbc (outparam)
    char* _v72;                            // _cfa_ffffffb8 (outparam)

    _v12 =  *((intOrPtr*)(_a4 + 1604));
    if(( *_a8 & 255) != 0) {
        if(strcasecmp(_a8, "admin") != 0) {
            if(strlen(_a8) > 32) {
                _a8[0x1f] = 0;
            }
            icb_vis( &_v44, _a8, 32, 4);
            _v8 =  *(_v12 + 200);
            while(_v8 != 0) {
                if(strcmp(_v8,  &_v44) != 0) {
                    _v8 = _v8[0x660];
                    continue;
                }
                _v72 = "Nick is already in use";
                 *__esp = _a4;
                return icb_error();
            }
            _v56 =  &_v44;
            icb_status_group(_v12, 0, 4, "%s changed nickname to %s", _a4);
            return strlcpy(_a4,  &_v44, 32);
        }
        _v72 = "Wuff wuff!";
         *__esp = _a4;
        return icb_error();
    }
    return icb_status(_a4, 4, "Your nickname is %s", _a4);
}

icb_cmd_nobeep(
    intOrPtr _a4,                          // _cfa_4
    char* _a8                              // _cfa_8
)
{// addr = 0x08049E96
    char* _v8;                             // _cfa_fffffff8
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    char* _v20;                            // _cfa_ffffffec (outparam)
    char* _v24;                            // _cfa_ffffffe8 (outparam)

    if(( *_a8 & 255) != 0) {
        if(strcmp(_a8, "on") != 0) {
            if(strcmp(_a8, "verbose") != 0) {
                if(strcmp(_a8, "off") != 0) {
                    _v24 = "Invalid nobeep mode";
                     *__esp = _a4;
                    return icb_error();
                }
                 *(_a4 + 1628) =  *(_a4 + 1628) & -49;
                _v20 = "No-Beep off";
                _v24 = 5;
                 *__esp = _a4;
                return icb_status();
            }
             *(_a4 + 1628) =  *(_a4 + 1628) | 32;
             *(_a4 + 1628) =  *(_a4 + 1628) & -17;
            _v20 = "No-Beep on (verbose)";
            _v24 = 5;
             *__esp = _a4;
            return icb_status();
        }
         *(_a4 + 1628) =  *(_a4 + 1628) | 16;
         *(_a4 + 1628) =  *(_a4 + 1628) & -33;
        _v20 = "No-Beep on";
        _v24 = 5;
         *__esp = _a4;
        return icb_status();
    }
    if(( *(_a4 + 1628) & 32) == 0) {
        if(( *(_a4 + 1628) & 16) == 0) {
             *(_a4 + 1628) =  *(_a4 + 1628) | 16;
        } else {
             *(_a4 + 1628) =  *(_a4 + 1628) & -17;
        }
        if(( *(_a4 + 1628) & 16) == 0) {
            _v8 = "off";
        } else {
            _v8 = "on";
        }
        return icb_status(_a4, 5, "No-Beep %s", _v8);
    }
    _v24 = "Can't toggle your nobeep status";
     *__esp = _a4;
    return icb_error();
}

icb_cmd_personal(
    intOrPtr _a4,                          // _cfa_4
    char* _a8                              // _cfa_8
)
{// addr = 0x0804A080
    char* _v8;                             // _cfa_fffffff8
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    char* _v40;                            // _cfa_ffffffd8 (outparam)

    _v8 = strchr(_a8, 32);
    if(_v8 != 0) {
         *_v8 = 0;
        _v8 =  &(_v8[1]);
        return icb_privmsg(_a4, _a8, _v8);
    }
    _v40 = "Empty message";
     *__esp = _a4;
    return icb_error();
}

icb_cmd_pass(
    intOrPtr _a4,                          // _cfa_4
    signed char* _a8                       // _cfa_8
)
{// addr = 0x0804A0DC
    char* _v8;                             // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v44;                             // _cfa_ffffffd4
    _unknown_ _v64;                        // _cfa_ffffffc0 (outparam)
    char* _v68;                            // _cfa_ffffffbc (outparam)
    char* _v72;                            // _cfa_ffffffb8 (outparam)
    _unknown_ _t68;                        // _t68

    _v12 =  *((intOrPtr*)(_a4 + 1604));
    if(icb_ismod(_v12, _a4) == 0) {
        if(icb_modpermit(_a4,  *((intOrPtr*)(_v12 + 204)) != 0 & 255) == 0) {
            _v72 = "Operation not permitted.";
             *__esp = _a4;
            return icb_error();
        }
        _t68 = icb_pass(_v12,  *((intOrPtr*)(_v12 + 204)), _a4);
        if(_t68 < 0) {
            _v72 = "Failed to acquire group moderation.";
             *__esp = _a4;
            return icb_error();
        }
    } else {
        if(( *_a8 & 255) == 0) {
            return icb_pass(_v12,  *((intOrPtr*)(_v12 + 204)), 0);
        }
        icb_vis( &_v44, _a8, 32, 4);
        _v8 =  *(_v12 + 200);
        while(_v8 != 0) {
            if(strcmp(_v8,  &_v44) != 0) {
                _v8 = _v8[0x660];
                continue;
            }
            break;
        }
        if(_v8 == 0) {
            _v68 = "No such user";
            _v72 = 6;
             *__esp = _a4;
            return icb_status();
        }
        _t68 = icb_pass(_v12,  *((intOrPtr*)(_v12 + 204)), _v8);
        if(_t68 < 0) {
            _v72 = "Failed to pass group moderation.";
             *__esp = _a4;
            return icb_error();
        }
    }
    return _t68;
}

icb_cmd_topic(
    intOrPtr _a4,                          // _cfa_4
    signed char* _a8                       // _cfa_8
)
{// addr = 0x0804A262
    intOrPtr _v8;                          // _cfa_fffffff8
    char _v168;                            // _cfa_ffffff58
    intOrPtr _v184;                        // _cfa_ffffff48
    _unknown_ _v188;                       // _cfa_ffffff44 (outparam)
    _unknown_ _v192;                       // _cfa_ffffff40 (outparam)
    char* _v196;                           // _cfa_ffffff3c (outparam)
    intOrPtr _v200;                        // _cfa_ffffff38 (outparam)

    _v8 =  *((intOrPtr*)(_a4 + 1604));
    if(( *_a8 & 255) != 0) {
        if(icb_ismod(_v8, _a4) != 0) {
            icb_vis( &_v168, _a8, 160, 0);
            strlcpy(_v8 + 32,  &_v168, 160);
            _v184 = _v8 + 32;
            return icb_status_group(_v8, 0, 10, "%s changed the topic to "%s"", _a4);
        }
        _v196 = "Setting the topic is only for moderators.";
        _v200 = 6;
         *__esp = _a4;
        return icb_status();
    }
    if(( *(_v8 + 32) & 255) == 0) {
        _v196 = "The topic is not set.";
        _v200 = 10;
         *__esp = _a4;
        return icb_status();
    }
    return icb_status(_a4, 10, "The topic is: %s", _v8 + 32);
}

icb_cmd_who(
    intOrPtr _a4,                          // _cfa_4
    char* _a8                              // _cfa_8
)
{// addr = 0x0804A386
    char* _v8;                             // _cfa_fffffff8
    char _v40;                             // _cfa_ffffffd8
    _unknown_ _v64;                        // _cfa_ffffffc0 (outparam)
    _unknown_ _v68;                        // _cfa_ffffffbc (outparam)
    _unknown_ _v72;                        // _cfa_ffffffb8 (outparam)

    while(( *_a8 & 255) != 0 && ( *_a8 & 255) == 45) {
        while(( *_a8 & 255) != 32) {
            if(( *_a8 & 255) != 0) {
                _a8 =  &(_a8[1]);
                continue;
            }
            break;
        }
        if(( *_a8 & 255) == 32) {
            _a8 =  &(_a8[1]);
        }
    }
    if(( *_a8 & 255) == 0) {
        return icb_who(_a4, 0);
    }
    if(strlen(_a8) != 1 || ( *_a8 & 255) != 46) {
        icb_vis( &_v40, _a8, 32, 4);
        _v8 = groups;
        while(_v8 != 0) {
            if(strcmp(_v8,  &_v40) == 0) {
                break;
            }
            _v8 = _v8[0xc0];
        }
        if(_v8 != 0) {
            return icb_who(_a4, _v8);
        }
        return icb_error(_a4, "The group %s doesn't exist.",  &_v40);
    } else {
        return icb_who(_a4,  *((intOrPtr*)(_a4 + 1604)));
    }
}

icb_init()
{// addr = 0x0804A4AC
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)
    int _t4;                               // _t4

    groups = 0;
    if((srvname & 255) == 0) {
        gethostname( &srvname, 1025);
    }
    _t4 = strlen( &srvname);
    if(_t4 > 200) {
         *134569704 = 0;
        return _t4;
    }
    return _t4;
}

icb_start(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804A4F8
    char* _v16;                            // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    char* _v24;                            // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    intOrPtr _v32;                         // _cfa_ffffffe0
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    intOrPtr _t17;                         // _t17

    _v16 = "icbd";
    _v20 = 1;
    _v24 =  &srvname;
    _v28 = 1;
    _v32 = 49;
    icb_sendfmt(_a4, "%c%c%c%s%c%s", 106);
    _t17 = _a4;
     *(_t17 + 1628) =  *(_a4 + 1628) | 1;
    return _t17;
}

icb_input(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804A55A
    intOrPtr _v8;                          // _cfa_fffffff8
    signed int _v9;                        // _cfa_fffffff7
    intOrPtr _v16;                         // _cfa_fffffff0
    signed char* _v20;                     // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _v168;                        // _cfa_ffffff58
    signed int _v172;                      // _cfa_ffffff54
    _unknown_ _v196;                       // _cfa_ffffff3c (outparam)
    char* _v200;                           // _cfa_ffffff38 (outparam)

    _v20 = _a4 + 1129;
    _v16 =  *((intOrPtr*)(_a4 + 1608));
    _v24 = 0;
    _v8 = 0;
     *((intOrPtr*)(_a4 + 1620)) = getmonotime();
    _v9 =  *_v20 & 255;
    _v20 =  &(_v20[1]);
    if(( *(_a4 + 1628) & 2) != 0 || _v9 == 97) {
        _v172 = (_v9 & 255) - 97;
        if(_v172 > 13) {
            icb_error(_a4, "Undefined message type %u", _v9 & 255);
            _v168 = _v8;
            goto L6;
        }
        goto __eax;
    } else {
        _v200 = "Not logged in";
         *__esp = _a4;
        icb_error();
        _v168 = 0;
L6:
        return _v168;
    }
}

time_t* icb_login(
    char* _a4,                             // _cfa_4
    signed char* _a8,                      // _cfa_8
    signed char* _a12,                     // _cfa_c
    signed char* _a16                      // _cfa_10
)
{// addr = 0x0804AA20
    char* _v8;                             // _cfa_fffffff8
    char* _v12;                            // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    char _v48;                             // _cfa_ffffffd0
    char* _v56;                            // _cfa_ffffffc8
    time_t* _v60;       // _cfa_ffffffc4
    char* _v68;                            // _cfa_ffffffbc
    char* _v72;                            // _cfa_ffffffb8
    char* _v76;                            // _cfa_ffffffb4 (outparam)
    _unknown_ _v80;                        // _cfa_ffffffb0 (outparam)
    _unknown_ _v84;                        // _cfa_ffffffac (outparam)
    char* _v88;                            // _cfa_ffffffa8 (outparam)

    _v16 = 134555084;
    if(_a12 == 0 || ( *_a12 & 255) == 0 || icb_vis(_a4, _a12, 32, 4) != 0) {
        _v88 = "Invalid nick";
         *__esp = _a4;
        icb_error();
        icbd_drop(_a4, 0);
        _v60 = 1;
L35:
        return _v60;
    } else {
        if(_a8 == 0 || ( *_a8 & 255) == 0) {
            strlcpy( &_v48, _v16, 32);
        } else {
            icb_vis( &_v48, _a8, 32, 4);
        }
        _v12 = groups;
        while(_v12 != 0) {
            if(strcmp(_v12,  &_v48) == 0) {
                break;
            }
            _v12 = _v12[0xc0];
        }
        if(_v12 != 0) {
L18:
            _v8 = _v12[0xc8];
            while(_v8 != 0) {
                if(strcmp(_v8, _a4) != 0) {
                    _v8 = _v8[0x660];
                    continue;
                }
                _v88 = "Nick is already in use";
                 *__esp = _a4;
                icb_error();
                icbd_drop(_a4, 0);
                _v60 = 1;
                goto L35;
            }
            if(_a16 == 0 || ( *_a16 & 255) == 0) {
                strlcpy( &(_a4[0x20]), _a4, 32);
            } else {
                icb_vis( &(_a4[0x20]), _a16, 32, 4);
            }
            _a4[0x644] = _v12;
            _a4[0x650] = time(0);
            _a4[0x654] = getmonotime();
            _v68 =  &(_a4[0x40]);
            _v72 =  &(_a4[0x20]);
            icb_status_group(_v12, 0, 7, "%s (%s%s) entered group", _a4);
            _a4[0x65c] = _a4[0x65c] & -2;
            _a4[0x65c] = _a4[0x65c] | 2;
            _a4[0x660] = _v12[0xc8];
            if(_a4[0x660] != 0) {
                 *(_v12[0xc8] + 1636) =  &(_a4[0x660]);
            }
            _v12[0xc8] = _a4;
            _a4[0x664] =  &(_v12[0xc8]);
            icb_sendfmt(_a4, "%c", 97);
            if(icb_ismod(_v12, _a4) == 0) {
                _v56 = 134555214;
            } else {
                _v56 = " as moderator";
            }
            _v76 = _v56;
            icb_status(_a4, 9, "You are now in group %s%s", _v12);
            if((_v12[0x20] & 255) != 0) {
                _v76 =  &(_v12[0x20]);
                icb_status(_a4, 10, "Topic for %s is "%s"", _v12);
            }
            _v60 = 0;
            goto L35;
        }
        if(creategroups != 0) {
            _v12 = icb_addgroup(_a4,  &_v48);
            if(_v12 != 0) {
                _v76 =  &_v48;
                icbd_log(0, 7, "%s created group %s", _a4);
                goto L18;
            }
            icb_error(_a4, "Can't create group %s",  &_v48);
            _v60 = 0;
            goto L35;
        }
        icb_error(_a4, "Can't create new groups",  &_v48);
        icbd_drop(_a4, 0);
        _v60 = 1;
        goto L35;
    }
}

int icb_groupmsg(
    intOrPtr _a4,                          // _cfa_4
    signed char* _a8                       // _cfa_8
)
{// addr = 0x0804AE2A
    int _v8;                               // _cfa_fffffff8
    int _v12;                              // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    char _v276;                            // _cfa_fffffeec
    int _v280;                             // _cfa_fffffee8
    signed char* _v292;                    // _cfa_fffffedc
    intOrPtr _v296;                        // _cfa_fffffed8
    intOrPtr _v300;                        // _cfa_fffffed4
    intOrPtr _v304;                        // _cfa_fffffed0 (outparam)
    _unknown_ _v308;                       // _cfa_fffffecc (outparam)
    char* _v312;                           // _cfa_fffffec8 (outparam)
    int _t76;                              // _t76

    _v20 =  *((intOrPtr*)(_a4 + 1604));
    if(( *_a8 & 255) != 0) {
        goto L2;
    } else {
        _v312 = "Empty message";
         *__esp = _a4;
        return icb_error();
    }
    while(1) {
L2:
        _v292 = _a8;
        _v296 = 1;
        _v300 = _a4;
        _v304 = 98;
        _v12 = snprintf( &_v276 + 1, 255, "%c%s%c%s");
        if(_v12 < 0) {
            break;
        }
        _v280 = _v12 + 1;
        if(_v280 > 255) {
            _v280 = 255;
        }
        _v8 = _v280;
        _v276 = _v8;
        logger(_v20, _a4, _a8);
        _v16 =  *((intOrPtr*)(_v20 + 200));
        while(_v16 != 0) {
            if(_v16 != _a4) {
                icbd_send(_v16,  &_v276, _v8 + 1);
            }
            _v16 =  *((intOrPtr*)(_v16 + 1632));
        }
        _a8 =  &(_a8[_v8 - 1]);
        _t76 = _v8 - 1;
        if(_t76 < _v12) {
            continue;
        }
        return _t76;
    }
    return icbd_log(_a4, 3, "Format error in %s", "icb_groupmsg");
}

int icb_privmsg(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804AF7F
    int _v8;                               // _cfa_fffffff8
    int _v12;                              // _cfa_fffffff4
    char* _v16;                            // _cfa_fffffff0
    char* _v20;                            // _cfa_ffffffec
    char _v276;                            // _cfa_fffffeec
    char _v308;                            // _cfa_fffffecc
    int _v312;                             // _cfa_fffffec8
    intOrPtr _v324;                        // _cfa_fffffebc
    intOrPtr _v328;                        // _cfa_fffffeb8
    intOrPtr _v332;                        // _cfa_fffffeb4
    intOrPtr _v336;                        // _cfa_fffffeb0 (outparam)
    _unknown_ _v340;                       // _cfa_fffffeac (outparam)
    _unknown_ _v344;                       // _cfa_fffffea8 (outparam)
    int _t99;                              // _t99

    _v20 =  *((intOrPtr*)(_a4 + 1604));
    icb_vis( &_v308, _a8, 32, 4);
    _v16 =  *(_v20 + 200);
    while(_v16 != 0) {
        if(strcmp(_v16,  &_v308) != 0) {
            _v16 = _v16[0x660];
            continue;
        }
        break;
    }
    if(_v16 == 0) {
        _v20 = groups;
        while(_v20 != 0) {
            _v16 =  *(_v20 + 200);
            while(_v16 != 0) {
                if(strcmp(_v16,  &_v308) != 0) {
                    _v16 = _v16[0x660];
                    continue;
                }
                break;
            }
            if(_v16 == 0) {
                _v20 =  *((intOrPtr*)(_v20 + 192));
                continue;
            }
            break;
        }
        if(_v16 != 0) {
            goto L15;
        } else {
            return icb_error(_a4, "No such user %s",  &_v308);
        }
        while(1) {
L15:
            _v324 = _a12;
            _v328 = 1;
            _v332 = _a4;
            _v336 = 99;
            _v12 = snprintf( &_v276 + 1, 255, "%c%s%c%s");
            if(_v12 < 0) {
                break;
            }
            _v312 = _v12 + 1;
            if(_v312 > 255) {
                _v312 = 255;
            }
            _v8 = _v312;
            _v276 = _v8;
            icbd_send(_v16,  &_v276, _v8 + 1);
            _a12 = _a12 + _v8 - 1;
            _t99 = _v8 - 1;
            if(_t99 < _v12) {
                continue;
            }
            return _t99;
        }
        return icbd_log(_a4, 3, "Format error in %s", "icb_privmsg");
    }
    goto L15;
}

icb_command(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804B159
    intOrPtr* _v8;                         // _cfa_fffffff8
    char _v40;                             // _cfa_ffffffd8
    _unknown_ _v64;                        // _cfa_ffffffc0 (outparam)
    _unknown_ _v68;                        // _cfa_ffffffbc (outparam)
    intOrPtr _v72;                         // _cfa_ffffffb8 (outparam)

    icb_vis( &_v40, _a8, 32, 4);
    _v8 = icb_cmd_lookup( &_v40);
    if(_v8 != 0) {
        _v72 = _a12;
         *__esp = _a4;
         *_v8();
        return;
    }
    icb_error(_a4, "Unsupported command: %s",  &_v40);
}

icb_cmdout(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804B1C5
    intOrPtr _v8;                          // _cfa_fffffff8
    _unknown_ _v32;                        // _cfa_ffffffe0 (outparam)
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)

    _v8 = 0;
    if(_a8 > 4) {
        return icbd_log(_a4, 3, "unknown cmdout type %d", _a8);
    }
    goto __eax;
}

icb_status(
    intOrPtr _a4,                          // _cfa_4
    signed int _a8,                        // _cfa_8
    char* _a12,                            // _cfa_c
    char _a16                              // _cfa_10
)
{// addr = 0x0804B294
    int _v12;                              // _cfa_fffffff4
    int _v16;                              // _cfa_fffffff0
    void* _v20;           // _cfa_ffffffec
    char _v276;                            // _cfa_fffffeec
    int _v284;                             // _cfa_fffffee4
    int _v288;                             // _cfa_fffffee0
    int _v292;                             // _cfa_fffffedc
    intOrPtr _v296;                        // _cfa_fffffed8
    intOrPtr _v300;                        // _cfa_fffffed4
    intOrPtr _v304;                        // _cfa_fffffed0 (outparam)
    char* _v308;                           // _cfa_fffffecc (outparam)
    intOrPtr _v312;                        // _cfa_fffffec8 (outparam)
    _unknown_ __ebx;                       // r1
    _unknown_ _t65;                        // _t65

    if(_a8 < 0 || _a8 > 12) {
        return _t65;
    } else {
        _v296 = 1;
        _v300 =  *((intOrPtr*)(134555556 + _a8 * 8));
        _v304 = 100;
        _v16 = snprintf( &_v276 + 1, 255, "%c%s%c");
        if(_v16 >= 0) {
            if(_v16 <= 255) {
                _v292 = _v16 + 1;
                if(_v292 > 255) {
                    _v292 = 255;
                }
                _v12 = _v292;
                _v20 =  &_a16;
                _v16 = vsnprintf( &_v276 + _v12, 255 - _v12, _a12, _v20);
                _v12 = _v12 - 1;
                if(_v16 >= 0) {
                    if(_v16 + _v12 <= 255) {
                        _v288 = _v16 + 1;
                        _v284 = 255 - _v12;
                        if(_v284 > _v288) {
                            _v284 = _v288;
                        }
                        _v12 = _v12 + _v284;
                        _v276 = _v12;
                        return icbd_send(_a4,  &_v276, _v12 + 1);
                    }
                    _v308 = "Status message too long";
                    _v312 = 3;
                     *__esp = 0;
                    return icbd_log();
                } else {
                    return icbd_log(0, 3, "Message format error in %s", "icb_status");
                }
            }
            _v308 = "Status buffer too small";
            _v312 = 3;
             *__esp = 0;
            return icbd_log();
        }
        return icbd_log(0, 3, "Format error in %s", "icb_status");
    }
}

icb_status_group(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12,                         // _cfa_c
    char* _a16,                            // _cfa_10
    char _a20                              // _cfa_14
)
{// addr = 0x0804B48A
    intOrPtr _v8;                          // _cfa_fffffff8
    char _v254;                            // _cfa_ffffff02
    void* _v260;          // _cfa_fffffefc
    _unknown_ _v272;                       // _cfa_fffffef0 (outparam)
    char* _v276;                           // _cfa_fffffeec (outparam)
    intOrPtr _v280;                        // _cfa_fffffee8 (outparam)

    _v260 =  &_a20;
    vsnprintf( &_v254, 246, _a16, _v260);
    _v8 =  *((intOrPtr*)(_a4 + 200));
    while(_v8 != 0) {
        if(_a8 == 0 || _v8 != _a8) {
            _v276 =  &_v254;
            _v280 = _a12;
             *__esp = _v8;
            icb_status();
        }
        _v8 =  *((intOrPtr*)(_v8 + 1632));
    }
    logger(_a4, 134555214,  &_v254);
    return icbd_log(0, 7, "%s",  &_v254);
}

icb_error(
    intOrPtr _a4,                          // _cfa_4
    char* _a8,                             // _cfa_8
    char _a12                              // _cfa_c
)
{// addr = 0x0804B552
    int _v8;                               // _cfa_fffffff8
    int _v12;                              // _cfa_fffffff4
    char _v267;                            // _cfa_fffffef5
    char _v268;                            // _cfa_fffffef4
    void* _v272;          // _cfa_fffffef0
    int _v280;                             // _cfa_fffffee8
    _unknown_ _v288;                       // _cfa_fffffee0 (outparam)
    char* _v292;                           // _cfa_fffffedc (outparam)
    intOrPtr _v296;                        // _cfa_fffffed8 (outparam)

    _v272 =  &_a12;
    _v12 = vsnprintf( &_v268 + 2, 254, _a8, _v272);
    if(_v12 >= 0) {
        _v280 = _v12 + 1;
        if(_v280 > 254) {
            _v280 = 254;
        }
        _v8 = _v280;
        _v8 = _v8 + 1;
        _v268 = _v8;
        _v267 = 101;
        icbd_send(_a4,  &_v268, _v8 + 1);
        return icbd_log(_a4, 7, "%s",  &_v268 + 2);
    }
    _v292 = "Format error";
    _v296 = 3;
     *__esp = 0;
    return icbd_log();
}

icb_remove(
    char _a4,                              // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804B640
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    _unknown_ _v28;                        // _cfa_ffffffe4 (outparam)
    _unknown_ _v32;                        // _cfa_ffffffe0 (outparam)
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    _unknown_ __ebx;                       // r1
    intOrPtr _t55;                         // _t55
    intOrPtr _t69;                         // _t69

    _t55 =  *((intOrPtr*)(_a4 + 1604));
    if(_t55 != 0) {
        if(icb_ismod( *((intOrPtr*)(_a4 + 1604)), _a4) != 0) {
            icb_pass( *((intOrPtr*)(_a4 + 1604)), _a4, 0);
        }
        if( *((intOrPtr*)(_a4 + 1632)) != 0) {
             *((intOrPtr*)( *((intOrPtr*)(_a4 + 1632)) + 1636)) =  *((intOrPtr*)(_a4 + 1636));
        }
         *((intOrPtr*)( *((intOrPtr*)(_a4 + 1636)))) =  *((intOrPtr*)(_a4 + 1632));
        if(_a8 == 0) {
            _v20 = _a4 + 64;
            _v24 = _a4 + 32;
            icb_status_group( *((intOrPtr*)(_a4 + 1604)), 0, 8, "%s (%s%s) just left", _a4);
        } else {
            _v16 = _a8;
            _v20 = _a4 + 64;
            _v24 = _a4 + 32;
            icb_status_group( *((intOrPtr*)(_a4 + 1604)), 0, 8, "%s (%s%s) just left: %s", _a4);
        }
        _t69 = _a4;
         *((intOrPtr*)(_t69 + 1604)) = 0;
        return _t69;
    }
    return _t55;
}

void* icb_addgroup(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804B779
    void* _v8;            // _cfa_fffffff8
    void* _v24;           // _cfa_ffffffe8
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)

    _v8 = calloc(1, 208);
    if(_v8 != 0) {
        strlcpy(_v8, _a8, 32);
        if(_a4 != 0) {
             *((intOrPtr*)(_v8 + 204)) = _a4;
        }
         *(_v8 + 200) = 0;
         *(_v8 + 192) = groups;
        if( *((void**)(_v8 + 192)) != 0) {
            groups[0xc4] = _v8 + 192;
        }
        groups = _v8;
         *(_v8 + 196) =  &groups;
        _v24 = _v8;
    } else {
        _v24 = 0;
    }
    return _v24;
}

signed int icb_dowho(
    intOrPtr _a4,                          // _cfa_4
    signed int _a8                         // _cfa_8
)
{// addr = 0x0804B831
    signed int _v8;                        // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    char* _v16;                            // _cfa_fffffff0
    char _v262;                            // _cfa_fffffefa
    char* _v280;                           // _cfa_fffffee8
    char* _v284;                           // _cfa_fffffee4
    intOrPtr _v288;                        // _cfa_fffffee0
    char _v292;                            // _cfa_fffffedc
    char* _v296;                           // _cfa_fffffed8
    char* _v300;                           // _cfa_fffffed4
    char* _v304;                           // _cfa_fffffed0
    char* _v308;                           // _cfa_fffffecc
    char* _v312;                           // _cfa_fffffec8
    char* _v316;                           // _cfa_fffffec4
    char* _v320;                           // _cfa_fffffec0
    char* _v324;                           // _cfa_fffffebc
    char* _v328;                           // _cfa_fffffeb8
    char* _v332;                           // _cfa_fffffeb4
    char* _v336;                           // _cfa_fffffeb0
    intOrPtr _v340;                        // _cfa_fffffeac
    char* _v344;                           // _cfa_fffffea8
    char* _v348;                           // _cfa_fffffea4
    intOrPtr _v352;                        // _cfa_fffffea0
    char* _v356;                           // _cfa_fffffe9c
    char* _v360;                           // _cfa_fffffe98
    char* _v364;                           // _cfa_fffffe94
    char* _v368;                           // _cfa_fffffe90
    char* _v372;                           // _cfa_fffffe8c (outparam)
    _unknown_ _v376;                       // _cfa_fffffe88 (outparam)

    _v8 = 0;
    _v12 = getmonotime();
    _v372 = 134555800;
    icb_cmdout(_a4, 0);
    if((32[_a8] & 255) == 0) {
        _v312 = "(None)";
    } else {
        _v312 =  &(32[_a8]);
    }
    if( *(_a8 + 204) == 0) {
        _v308 = "(None)";
    } else {
        _v308 =  *(_a8 + 204);
    }
    if( *(_a8 + 204) == 0) {
        _v304 = 112;
    } else {
        _v304 = 109;
    }
    _v356 = _v312;
    _v360 = _v308;
    _v364 = _v304;
    _v368 = _a8;
    snprintf( &_v262, 246, "Group: %-8s (%cvl) Mod: %-13s Topic: %s");
    _v372 =  &_v262;
    icb_cmdout(_a4, 0);
    _v16 =  *(_a8 + 200);
    while(_v16 != 0) {
        _v300 =  &(_v16[0x40]);
        _v296 =  &(_v16[0x20]);
        _v292 = _v16[0x650];
        _v288 = _v12 - _v16[0x654];
        _v284 = _v16;
        if(icb_ismod(_a8, _v16) == 0) {
            _v280 = 32;
        } else {
            _v280 = 109;
        }
        _v316 = 134555800;
        _v320 = 1;
        _v324 = _v300;
        _v328 = 1;
        _v332 = _v296;
        _v336 = 1;
        _v340 = _v292;
        _v344 = 1;
        _v348 = 1;
        _v352 = _v288;
        _v356 = 1;
        _v360 = _v284;
        _v364 = 1;
        _v368 = _v280;
        snprintf( &_v262, 246, "%c%c%s%c%ld%c0%c%ld%c%s%c%s%c%s");
        _v372 =  &_v262;
        icb_cmdout(_a4, 4);
        _v8 =  &(1[_v8]);
        _v16 = _v16[0x660];
    }
    return _v8;
}

icb_who(
    intOrPtr _a4,                          // _cfa_4
    signed int _a8                         // _cfa_8
)
{// addr = 0x0804BA8D
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    signed int _v16;                       // _cfa_fffffff0
    char _v262;                            // _cfa_fffffefa
    char* _v280;                           // _cfa_fffffee8
    char* _v284;                           // _cfa_fffffee4
    char* _v292;                           // _cfa_fffffedc
    intOrPtr _v296;                        // _cfa_fffffed8
    char* _v300;                           // _cfa_fffffed4
    intOrPtr _v304;                        // _cfa_fffffed0
    char* _v308;                           // _cfa_fffffecc (outparam)
    _unknown_ _v312;                       // _cfa_fffffec8 (outparam)

    if(_a8 != 0) {
        return icb_dowho(_a4, _a8);
    }
    _v12 = 0;
    _v8 = 0;
    _v16 = groups;
    while(_v16 != 0) {
        _v12 = _v12 + icb_dowho(_a4, _v16);
        _v8 = _v8 + 1;
        _v16 =  *((intOrPtr*)(_v16 + 192));
    }
    if(_v12 <= 0) {
        snprintf( &_v262, 246, "No users found.");
    } else {
        if(_v8 <= 1) {
            _v284 = "group";
        } else {
            _v284 = "groups";
        }
        if(_v12 <= 1) {
            _v280 = "user";
        } else {
            _v280 = "users";
        }
        _v292 = _v284;
        _v296 = _v8;
        _v300 = _v280;
        _v304 = _v12;
        snprintf( &_v262, 246, "Total: %d %s in %d %s");
    }
    _v308 =  &_v262;
    return icb_cmdout(_a4, 0);
}

signed int icb_ismod(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804BBB4
    return  *((intOrPtr*)(_a4 + 204)) == _a8 & 255;
}

icb_modpermit(
    void* _a4,            // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804BBCB
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)

    icbd_modupdate();
    if(_a8 != 0 || modtabcnt != 0) {
        _v12 = strcmp;
        if(bsearch(_a4,  &modtab, modtabcnt, 32) == 0) {
            _v8 = 0;
            goto L5;
        }
        goto L3;
    } else {
L3:
        _v8 = 1;
L5:
        return _v8;
    }
}

icb_pass(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804BC2B
    char _v8;                              // _cfa_fffffff8
    char* _v12;                            // _cfa_fffffff4
    char _v16;                             // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _v40;                         // _cfa_ffffffd8
    intOrPtr _v44;                         // _cfa_ffffffd4 (outparam)
    _unknown_ _v48;                        // _cfa_ffffffd0 (outparam)
    _unknown_ _v52;                        // _cfa_ffffffcc (outparam)
    _unknown_ _v56;                        // _cfa_ffffffc8 (outparam)

    if( *((intOrPtr*)(_a4 + 204)) == 0 ||  *((intOrPtr*)(_a4 + 204)) == _a8) {
        if(_a8 != 0 || _a12 != 0) {
             *((intOrPtr*)(_a4 + 204)) = _a12;
            if(_a12 != 0) {
                _v20 = _a4;
                if(_a8 == 0) {
                    _v16 = "server";
                } else {
                    _v16 = _a8;
                }
                _v44 = _v20;
                icb_status(_a12, 6, "%s just passed you moderation of %s", _v16);
            }
            if(_a12 == 0) {
                _v12 = "server";
            } else {
                _v12 = _a12;
            }
            if(_a8 == 0) {
                _v8 = "server";
            } else {
                _v8 = _a8;
            }
            _v40 = _v12;
            icb_status_group(_a4, _a12, 6, "%s has passed moderation to %s", _v8);
            _v24 = 1;
        } else {
            _v24 = -1;
        }
    } else {
        _v24 = -1;
    }
    return _v24;
}

icb_sendfmt(
    intOrPtr _a4,                          // _cfa_4
    char* _a8,                             // _cfa_8
    char _a12                              // _cfa_c
)
{// addr = 0x0804BD2C
    int _v8;                               // _cfa_fffffff8
    int _v12;                              // _cfa_fffffff4
    char _v268;                            // _cfa_fffffef4
    void* _v272;          // _cfa_fffffef0
    int _v280;                             // _cfa_fffffee8
    _unknown_ _v288;                       // _cfa_fffffee0 (outparam)
    _unknown_ _v292;                       // _cfa_fffffedc (outparam)
    _unknown_ _v296;                       // _cfa_fffffed8 (outparam)

    _v272 =  &_a12;
    _v12 = vsnprintf( &_v268 + 1, 255, _a8, _v272);
    if(_v12 >= 0) {
        _v280 = _v12 + 1;
        if(_v280 > 255) {
            _v280 = 255;
        }
        _v8 = _v280;
        _v268 = _v8;
        return icbd_send(_a4,  &_v268, _v8 + 1);
    }
    return icbd_log(0, 3, "Format error in %s", "icb_sendfmt");
}

icb_token(
    signed char* _a4,                      // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    signed char** _a12,                    // _cfa_c
    intOrPtr _a16,                         // _cfa_10
    intOrPtr _a20,                         // _cfa_14
    intOrPtr _a24,                         // _cfa_18
    intOrPtr _a28                          // _cfa_1c
)
{// addr = 0x0804BDEC
    intOrPtr _v8;                          // _cfa_fffffff8
    signed int _v12;                       // _cfa_fffffff4
    signed char* _v16;                     // _cfa_fffffff0
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    intOrPtr _v32;                         // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    _unknown_ _v52;                        // _cfa_ffffffcc (outparam)
    _unknown_ _v56;                        // _cfa_ffffffc8 (outparam)

    if(_a4 == 0 || _a8 <= 0 || _a16 == 0) {
L4:
        _v32 = 0;
        goto L28;
    } else {
        if(_a20 > 0) {
            if( *_a12 == 0) {
                 *_a12 = _a4;
            }
            _v16 =  *_a12;
            _v12 =  *_a12 - _a4;
            while(_v12 < _a8) {
                if(( *( *_a12) & 255) == _a24 || ( *( *_a12) & 255) == 0) {
                    _v36 = _a20;
                    _v28 =  *_a12 - _v16 + 1;
                    if(_v28 > _v36) {
                        _v28 = _v36;
                    }
                    _v8 = strlcpy(_a16, _v16, _v28);
                    if(( *( *_a12) & 255) != 0) {
                         *_a12 =  &(( *_a12)[1]);
                    }
                    if(_v8 > 0 && _a28 != 0) {
                        _v8 = icb_trim(_a16, _a20);
                    }
                    _v32 = _v8;
L28:
                    return _v32;
                } else {
                    _v12 = _v12 + 1;
                     *_a12 =  &(( *_a12)[1]);
                    continue;
                }
            }
            if( *_a12 - _v16 <= 0) {
                _v32 = 0;
            } else {
                _v40 = _a20;
                _v24 =  *_a12 - _v16 + 1;
                if(_v24 > _v40) {
                    _v24 = _v40;
                }
                _v8 = strlcpy(_a16, _v16, _v24);
                if(_v8 > 0 && _a28 != 0) {
                    _v8 = icb_trim(_a16, _a20);
                }
                _v32 = _v8;
            }
            goto L28;
        }
        goto L4;
    }
}

icb_trim(
    signed char* _a4,                      // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804BF9E
    signed char _v8;                       // _cfa_fffffff8
    signed char* _v12;                     // _cfa_fffffff4
    signed char* _t32;                     // _t32

    _v12 = _a4;
    _v8 = 0;
    do {
    } while(_v8 < _a8 && ( *_v12 & 255) != 0);
    if(( *_v12 & 255) == 0 && _v12 - _a4 > 0) {
        _v12 = _v12 - 1;
    }
    while(1) {
        _t32 = _v12;
        if(_t32 < _a4) {
            break;
        }
        __ctype_b_loc();
        if(( *( *_t32 + ( *_v12 & 255) + ( *_v12 & 255)) & 0x2000) != 0) {
             *_v12 = 0;
            _v8 = _v8 - 1;
            if(_v12 > _a4) {
                _v12 = _v12 - 1;
            }
            continue;
        }
        break;
    }
    return _v8;
}

icb_vis(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12,                         // _cfa_c
    signed int _a16                        // _cfa_10
)
{// addr = 0x0804C030
    int _v12;                              // _cfa_fffffff4
    char _v16;                             // _cfa_fffffff0
    char _v20;                             // _cfa_ffffffec
    intOrPtr _v28;                         // _cfa_ffffffe4
    intOrPtr _v32;                         // _cfa_ffffffe0
    signed int _v48;                       // _cfa_ffffffd0
    _unknown_ _v52;                        // _cfa_ffffffcc (outparam)
    _unknown_ _v56;                        // _cfa_ffffffc8 (outparam)
    _unknown_ __ebx;                       // r1
    signed int _t78;                       // _t78

    _v20 = 0;
    _v16 = 0;
    while(_v16 < _a12 - 1 && ( *(_v20 + _a8) & 255) != 0) {
        if(( *(_v20 + _a8) & 255) != 37) {
            _t78 =  *(_v20 + _a8) & 255;
            if(_t78 != 32) {
L7:
                __ctype_b_loc();
                if(( *( *_t78 + ( *(_v20 + _a8) & 255) + ( *(_v20 + _a8) & 255)) & 65535) < 0 || ( *(_v20 + _a8) & 255) == 32) {
                     *(_v16 + _a4) =  *(_v20 + _a8) & 255;
                    goto L13;
                } else {
                    _v48 =  *(_v20 + _a8) & 0xff;
                    _v12 = snprintf(_v16 + _a4, _a12 - _v16, "\\%03o");
                    if(_v12 == -1 || _v12 >= _a12 - _v16) {
                        break;
                    } else {
                        _v16 = _v16 + _v12 - 1;
L13:
                        _v20 = _v20 + 1;
                        _v16 = _v16 + 1;
                        continue;
                    }
                }
            }
            _t78 = _a16 & 4;
            if(_t78 == 0) {
                goto L7;
            } else {
                 *(_v16 + _a4) = 95;
                goto L13;
            }
        }
        if(_v16 + 1 >= _a12 - 1) {
            break;
        } else {
             *(_v16 + _a4) = 37;
            _v16 = _v16 + 1;
             *(_v16 + _a4) = 37;
            goto L13;
        }
    }
    _v32 = _v16;
    _v28 = _a12 - 1;
    if(_v28 > _v32) {
        _v28 = _v32;
    }
     *((char*)(_v28 + _a4)) = 0;
    return 0;
}

char* main(
    _unknown_ __ebx,                       // r1
    _unknown_ __edi,                       // r4
    _unknown_ __esi,                       // r5
    char _a4                               // _cfa_4
)
{// addr = 0x0804C19C
    int _v16;                              // _cfa_fffffff0
    char* _v20;                            // _cfa_ffffffec
    char* _v24;                            // _cfa_ffffffe8
    char* _v28;                            // _cfa_ffffffe4
    void* _v32;           // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    char* _v40;                            // _cfa_ffffffd8
    char* _v44;                            // _cfa_ffffffd4
    char* _v48;                            // _cfa_ffffffd0
    int _v52;                              // _cfa_ffffffcc
    char* _v56;                            // _cfa_ffffffc8
    signed int _v60;                       // _cfa_ffffffc4
    char* _v64;                            // _cfa_ffffffc0
    char _v96;                             // _cfa_ffffffa0
    char _v100;                            // _cfa_ffffff9c
    char _v104;                            // _cfa_ffffff98
    _unknown_ _v108;                       // _cfa_ffffff94
    int _v132;                             // _cfa_ffffff7c
    int _v136;                             // _cfa_ffffff78
    char _v140;                            // _cfa_ffffff74
    char* _v144;                           // _cfa_ffffff70
    char* _v148;                           // _cfa_ffffff6c
    int _v152;                             // _cfa_ffffff68
    int* _v156;                            // _cfa_ffffff64
    signed int _v160;                      // _cfa_ffffff60
    _unknown_ _v168;                       // _cfa_ffffff58 (outparam)
    _unknown_ _v172;                       // _cfa_ffffff54 (outparam)
    _unknown_ _v176;                       // _cfa_ffffff50 (outparam)
    char* _v180;                           // _cfa_ffffff4c (outparam)
    char* _v184;                           // _cfa_ffffff48 (outparam)
    char* _v188;                           // _cfa_ffffff44 (outparam)
    intOrPtr _t203;                        // _t203
    char* _t216;                           // _t216
    intOrPtr _t219;                        // _t219
    char* _t256;                           // _t256
    _unknown_ _t303;                       // _t303

    __esi = __esi;
    __edi = __edi;
    __ebx = __ebx;
    __ecx =  &_a4;
    __esp = __esp & -16;
    _push( *((intOrPtr*)( &_a4 - 4)));
    _push(_t303);
    _push( &_a4);
    __esp = __esp - 180;
    _v156 =  &_a4;
    _v64 = 0;
    _v56 = 0;
    _v52 = 0;
    _v48 = 0;
    _v44 = 0;
    _v40 = 0;
    _v100 = 0;
    icb_init();
    goto L4;
    do {
    } while();main
    goto L7;
L4:
    _v60 = getopt( *_v156, _v156[1], "46CdG:M:nL:S:v");
    if(_v60 != -1) {
        _v160 = _v60 - 52;
        if(_v160 <= 66) {
            goto __eax;
        }
        usage();
        goto L4;
    } else {
         *_v156 =  *_v156 - __imp__optind;
        _v156[1] =  &(_v156[1][__imp__optind]);
        if(icb_addgroup(0, 134556059) == 0) {
            _v188 = 0;
             *__esp = 69;
            err();
        }
    }
L7:
    if(_v40 == 0) {
L12:
        if( *_v156 == 0) {
             *_v156 =  *_v156 + 1;
        }
        if(_v48 != 0 && _v44 != 0) {
            _v188 = "Can't specify both -4 and -6";
             *__esp = 64;
            errx();
        }
        tzset();
        setlocale(6, 134556090);
        if(foreground == 0) {
            _v184 = 24;
            _v188 = 9;
             *__esp = 134556092;
            openlog();
        } else {
            _v184 = 24;
            _v188 = 33;
             *__esp = 134556092;
            openlog();
        }
        _t203 = foreground;
        if(_t203 == 0) {
            _v188 = 0;
             *__esp = 0;
            daemon();
            if(_t203 < 0) {
                _v188 = 0;
                 *__esp = 71;
                err();
            }
        }
        event_init();
        _v60 = 0;
        while(_v60 <  *_v156) {
            _v108 = 1;
            _v24 = 0;
            _v28 = _v24;
            if(_v156[1][_v60] != 0) {
                if(( *(_v156[1][_v60]) & 255) != 58) {
                    _v28 = _v156[1][_v60];
                }
                _v24 = strrchr(_v156[1][_v60], 58);
                if(_v24 != 0) {
                     *_v24 = 0;
                    _v24 =  &(_v24[1]);
                }
            }
            bzero( &_v140, 32);
            if(_v48 != 0 || _v44 != 0) {
                if(_v48 == 0) {
                    _v152 = 10;
                } else {
                    _v152 = 2;
                }
                _v136 = _v152;
            } else {
                _v136 = 0;
            }
            _v132 = 1;
            _v140 = 1;
            if(_v24 == 0) {
                _v148 = 134556097;
            } else {
                _v148 = _v24;
            }
            _v180 =  &_v104;
            _v184 =  &_v140;
            _v188 = _v148;
            _t216 = _v28;
             *__esp = _t216;
            getaddrinfo();
            _v20 = _t216;
            if(_v20 == 0) {
                _v36 = _v104;
                while(_v36 != 0) {
                    _t219 = _v36;
                    __ecx =  *(_t219 + 8);
                    _v16 = socket( *(_v36 + 4),  *(_t219 + 8),  *(_v36 + 12));
                    if(_v16 >= 0) {
                        if(setsockopt(_v16, 1, 2,  &_v108, 4) >= 0) {
                            if(bind(_v16,  *(_v36 + 20),  *(_v36 + 16)) >= 0) {
                                listen(_v16, 5);
                                _v32 = calloc(1, 168);
                                if(_v32 == 0) {
                                    _v188 = 0;
                                     *__esp = 69;
                                    err();
                                }
                                event_set(_v32, _v16, 18, icbd_accept, _v32);
                                _v188 = 0;
                                if(event_add(__ebx, __edi, __esi, _v32) >= 0) {
                                    event_set(_v32 + 84, -1, 0, icbd_paused, _v32);
                                    _v56 =  &(_v56[1]);
L53:
                                    _v36 =  *((intOrPtr*)(_v36 + 28));
                                    continue;
                                } else {
                                    _v188 = "event_add: %m";
                                     *__esp = 3;
                                    syslog();
                                    _v144 = 69;
                                    goto L60;
                                }
                            }
                            _v64 = "bind";
                            _v52 =  *(__errno_location());
                            close(_v16);
                            goto L53;
                        }
                        _v64 = "SO_REUSEADDR";
                        _v52 =  *(__errno_location());
                        close(_v16);
                        goto L53;
                    }
                    _v64 = "socket";
                    _v52 =  *(__errno_location());
                    goto L53;
                }
                 *__esp = _v104;
                freeaddrinfo();
                _v60 = _v60 + 1;
                continue;
            } else {
                _t256 = _v20;
                 *__esp = _t256;
                gai_strerror();
                _v184 = _t256;
                _v188 = 134556101;
                 *__esp = 3;
                syslog();
                _v144 = 69;
L60:
                __esp = __esp + 180;
                _pop(__ecx);
                _pop(__ebp);
                __esp = __ecx - 4;
                return _v144;
            }
        }
        if(_v56 != 0) {
            logger_init(__ebx, __edi, __esi);
            __res_init();
            icbd_modupdate();
            _v188 = 1;
             *__esp = 13;
            signal();
            event_dispatch();
            _v188 = "event_dispatch: %m";
             *__esp = 3;
            syslog();
            _v144 = 69;
        } else {
             *(__errno_location()) = _v52;
            _v184 = _v64;
            _v188 = "%s: %m";
             *__esp = 3;
            syslog();
            _v144 = 69;
        }
        goto L60;
    }
    while(icb_token(_v40, strlen(_v40),  &_v100,  &_v96, 32, 44, 0) > 0) {
        if(icb_addgroup(0,  &_v96) == 0) {
            _v188 = 0;
             *__esp = 69;
            err();
        }
    }
    goto L12;
}

int icbd_accept(
    _unknown_ __ebx,                       // r1
    _unknown_ __edi,                       // r4
    _unknown_ __esi,                       // r5
    int _a4,                               // _cfa_4
    short _a8,                             // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804C890
    int _v8;                               // _cfa_fffffff8
    void* _v12;           // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    short _v144;                           // _cfa_ffffff70
    int _v148;                             // _cfa_ffffff6c
    char _v152;                            // _cfa_ffffff68
    unsigned int _v156;                    // _cfa_ffffff64
    _unknown_ _v160;                       // _cfa_ffffff60
    _unknown_ _v164;                       // _cfa_ffffff5c
    short _v168;                           // _cfa_ffffff58
    int _v172;                             // _cfa_ffffff54
    _unknown_ _v188;                       // _cfa_ffffff44 (outparam)
    _unknown_ _v192;                       // _cfa_ffffff40 (outparam)
    _unknown_ _v196;                       // _cfa_ffffff3c (outparam)
    char* _v200;                           // _cfa_ffffff38 (outparam)
    void* _t99;           // _t99
    void* _t102;          // _t102
    int _t109;                             // _t109

    __esi = __esi;
    __edi = __edi;
    __ebx = __ebx;
    _v168 = _a8;
    _v16 = _a12;
    _v152 = 1;
    _v148 = 0;
    _v156 = 128;
    _v160 = 1;
    _v164 = 16;
    _v8 = accept(_a4,  &_v144,  &_v156);
    if(_v8 != -1) {
        if((_v144 & 65535) == 2 && setsockopt(_v8, 0, 1,  &_v164, 4) < 0) {
            _v200 = "IP_TOS: %m";
             *__esp = 4;
            syslog();
        }
        if(setsockopt(_v8, 1, 9,  &_v160, 4) < 0) {
            _v200 = "SO_KEEPALIVE: %m";
             *__esp = 4;
            syslog();
        }
        _v12 = calloc(1, 1640);
        if(_v12 != 0) {
             *((intOrPtr*)(_v12 + 1600)) = bufferevent_new(_v8, icbd_dispatch, 0, icbd_ioerr, _v12);
            if( *((intOrPtr*)(_v12 + 1600)) != 0) {
                if(bufferevent_enable(__ebx, __edi, __esi,  *((intOrPtr*)(_v12 + 1600)), 2) == 0) {
                    getpeerinfo(_v12);
                    return icb_start(_v12);
                }
                _v200 = "bufferevent_enable: %m";
                 *__esp = 3;
                syslog();
                close(_v8);
                bufferevent_free( *((intOrPtr*)(_v12 + 1600)));
                _t99 = _v12;
                free(_t99);
                return _t99;
            }
            _v200 = "bufferevent_new: %m";
             *__esp = 3;
            syslog();
            close(_v8);
            _t102 = _v12;
            free(_t102);
            return _t102;
        } else {
            _v200 = "calloc: %m";
             *__esp = 3;
            syslog();
            return close(_v8);
        }
    }
    _t109 =  *(__errno_location());
    _v172 = _t109;
    if(_v172 > 24) {
        if(_v172 == 103) {
L22:
            return _t109;
        }
L9:
        _v200 = "accept: %m";
         *__esp = 3;
        syslog();
        return _t109;
    }
    if(_v172 >= 23) {
        event_del(__ebx, __edi, __esi, _v16);
        _v200 =  &_v152;
        return event_add(__ebx, __edi, __esi, _v16 + 84);
    }
    if(_v172 == 4 || _v172 == 11) {
        goto L22;
    } else {
        goto L9;
    }
}

icbd_paused(
    short _a8,                             // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804CB4A
    intOrPtr _v8;                          // _cfa_fffffff8
    short _v24;                            // _cfa_ffffffe8
    intOrPtr _v40;                         // _cfa_ffffffd8

    _v24 = _a8;
    _v8 = _a12;
    _v40 = 0;
    return event_add(__ebx, __edi, __esi, _v8);
}

signed int usage()
{// addr = 0x0804CB72
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed short _v20;                     // _cfa_ffffffec
    _unknown_ _v24;                        // _cfa_ffffffe8
    signed int _v28;                       // _cfa_ffffffe4
    char* _v32;                            // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    signed short _v52;                     // _cfa_ffffffcc
    _unknown_ _v68;                        // _cfa_ffffffbc (outparam)
    signed int _t29;                       // _t29
    _unknown_ _t39;                        // _t39

    _v20 = __imp____progname;
    fprintf(__imp__stderr, "usage: %s [-46Cdv] [-G group1[,group2,...]] [-L prefix] [-M modtab]\n\t[-S name] [[addr][:port] ...]\n");
    exit(64);
    _push(_t39);
    __esp = __esp - 40;
    _v52 = _v20;
    _v36 = _v16;
    if((_v52 & 64) != 0) {
        return icbd_drop(_v12, "timeout");
    }
    if((_v28 & 16) != 0) {
        return icbd_drop(_v12, 0);
    }
    _t29 = _v28 & 32;
    if(_t29 != 0) {
        if((_v28 & 1) == 0) {
            _v32 = "write error";
        } else {
            _v32 = "read error";
        }
        return icbd_drop(_v12, _v32);
    }
    return _t29;
}

signed int icbd_ioerr(
    signed int _a8,                        // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804CBA3
    intOrPtr _v8;                          // _cfa_fffffff8
    signed int _v24;                       // _cfa_ffffffe8
    char* _v28;                            // _cfa_ffffffe4
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    signed int _t25;                       // _t25

    _v24 = _a8;
    _v8 = _a12;
    if((_v24 & 64) != 0) {
        return icbd_drop(_v8, "timeout");
    }
    if((_v24 & 16) != 0) {
        return icbd_drop(_v8, 0);
    }
    _t25 = _v24 & 32;
    if(_t25 != 0) {
        if((_v24 & 1) == 0) {
            _v28 = "write error";
        } else {
            _v28 = "read error";
        }
        return icbd_drop(_v8, _v28);
    }
    return _t25;
}

signed int icbd_dispatch(
    _unknown_ __ebx,                       // r1
    _unknown_ __esi,                       // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804CC30
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    signed int _v13;                       // _cfa_fffffff3
    int _v24;                              // _cfa_ffffffe8
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    signed int _t64;                       // _t64

    __esi = __esi;
    __ebx = __ebx;
    _v12 = _a8;
    while(1) {
        _t64 =  *( *((intOrPtr*)(_a4 + 168)) + 16);
        if(_t64 == 0) {
            break;
        }
        if( *(_v12 + 1608) == 0) {
            bufferevent_read(__ebx, __esi, _a4,  &_v13, 1);
            if((_v13 & 255) == 0) {
                return icbd_drop(_v12, "invalid packet");
            }
             *(_v12 + 1608) = _v13 & 0xff;
             *(_v12 + 1612) = 0;
        }
        _v8 = bufferevent_read(__ebx, __esi, _a4, _v12 + 1129 +  *(_v12 + 1612),  *(_v12 + 1608) -  *(_v12 + 1612));
         *(_v12 + 1612) =  *(_v12 + 1612) + _v8;
        _t64 =  *(_v12 + 1608);
        if( *(_v12 + 1612) >= _t64) {
            _v24 =  *(_v12 + 1612);
            if(_v24 > 255) {
                _v24 = 255;
            }
             *((char*)(_v12 + _v24 + 1129)) = 0;
            _t64 = icb_input(_v12);
            if(_t64 == 0) {
                memset(_v12 + 1129, 0, 256);
                 *(_v12 + 1608) = 0;
                 *(_v12 + 1612) =  *(_v12 + 1608);
                continue;
            }
        }
        break;
    }
    return _t64;
}

icbd_send(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804CDA5
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    char* _v24;                            // _cfa_ffffffe8 (outparam)
    _unknown_ _t10;                        // _t10

    _t10 = bufferevent_write(__ebx, __edi, __esi,  *((intOrPtr*)(_a4 + 1600)), _a8, _a12);
    if(_t10 == -1) {
        _v24 = "bufferevent_write: %m";
         *__esp = 3;
        syslog();
        return _t10;
    }
    return _t10;
}

void* icbd_drop(
    void* _a4,            // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804CDE5
    intOrPtr _v20;                         // _cfa_ffffffec (outparam)
    intOrPtr _v24;                         // _cfa_ffffffe8 (outparam)
    void* _t51;           // _t51
    void* _t52;           // _t52

    if(_a8 == 0) {
        icb_remove(_a4, 0);
    } else {
        icb_remove(_a4, _a8);
        _v20 = _a8;
        _v24 = 7;
         *__esp = _a4;
        icbd_log();
    }
    memset(_a4 + 1129, 0, 256);
     *(_a4 + 1608) = 0;
     *(_a4 + 1612) =  *(_a4 + 1608);
    close( *( *((intOrPtr*)(_a4 + 1600)) + 44));
    bufferevent_free( *((intOrPtr*)(_a4 + 1600)));
    if(( *(_a4 + 1628) & 4096) != 0) {
        _t51 = _a4;
         *((intOrPtr*)(_t51 + 1628)) =  *(_a4 + 1628) | 32;
        return _t51;
    } else {
        _t52 = _a4;
        free(_t52);
        return _t52;
    }
}

icbd_log(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    char* _a12,                            // _cfa_c
    char _a16                              // _cfa_10
)
{// addr = 0x0804CECE
    char _v516;                            // _cfa_fffffdfc
    void* _v520;          // _cfa_fffffdf8
    char* _v540;                           // _cfa_fffffde4
    intOrPtr _v544;                        // _cfa_fffffde0 (outparam)
    char* _v548;                           // _cfa_fffffddc (outparam)
    char* _v552;                           // _cfa_fffffdd8 (outparam)
    intOrPtr _t25;                         // _t25
    intOrPtr _t32;                         // _t32
    intOrPtr _t36;                         // _t36

    _t25 = verbose;
    if(_t25 != 0 || _a8 != 7) {
        _v520 =  &_a16;
        vsnprintf( &_v516, 512, _a12, _v520);
        if(_a4 == 0) {
            _v548 =  &_v516;
            _v552 = 134556101;
            _t32 = _a8;
             *__esp = _t32;
            syslog();
            return _t32;
        }
        _v540 =  &_v516;
        _v544 =  *((intOrPtr*)(_a4 + 1624));
        _v548 = _a4 + 64;
        _v552 = "%s:%u: %s";
        _t36 = _a8;
         *__esp = _t36;
        syslog();
        return _t36;
    } else {
        return _t25;
    }
}

void* icbd_modupdate()
{// addr = 0x0804CF75
    void* _v8;            // _cfa_fffffff8
    void* _v12;           // _cfa_fffffff4
    struct _IO_FILE* _v16;   // _cfa_fffffff0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    signed int _v60;                       // _cfa_ffffffc4
    void _v104;                            // _cfa_ffffff98
    int _v108;                             // _cfa_ffffff94
    intOrPtr _v128;                        // _cfa_ffffff80
    char* _v132;                           // _cfa_ffffff7c (outparam)
    void* _v136;          // _cfa_ffffff78 (outparam)
    signed int _t57;                       // _t57
    _unknown_ _t59;                        // _t59
    struct _IO_FILE* _t61;   // _t61
    signed int _t107;                      // _t107

    _t57 = modtabpath & 255;
    if( &modtabpath == 0) {
L25:
        return _t57;
    }
    _t59 = __stat( &modtabpath,  &_v104);
    if(_t59 != 0) {
        _v132 =  &modtabpath;
        _v136 = "stat %s: %m";
         *__esp = 3;
        syslog();
        return _t59;
    }
    if(_v40 !=  *134565344) {
        _t57 =  *134565344;
        if(_v40 == _t57) {
            goto L25;
        }
        goto L7;
    } else {
        _t57 =  *134565348;
        if(_v36 == _t57) {
            goto L25;
        } else {
L7:
            _t57 = _v60;
            if(_t57 == 0) {
                goto L25;
            }
            _t61 = fopen( &modtabpath, 134556726);
            _v16 = _t61;
            if(_v16 == 0) {
                _v132 =  &modtabpath;
                _v136 = "open %s: %m";
                 *__esp = 3;
                syslog();
                return _t61;
            }
            modtabcnt = 0;
            bzero( &modtab, 1600);
            _v8 = 0;
            while(1) {
                _v12 = fgetln(_v16,  &_v108);
                if(_v12 == 0 || modtabcnt > 49) {
                    break;
                }
                if(( *(_v12 + _v108 - 1) & 255) != 10) {
                    _v8 = malloc(_v108 + 1);
                    if(_v8 == 0) {
                        _v136 = 0;
                         *__esp = 1;
                        err();
                    }
                    memcpy(_v8, _v12, _v108);
                     *((char*)(_v8 + _v108)) = 0;
                    _v12 = _v8;
                } else {
                     *(_v12 + _v108 - 1) = 0;
                }
                while(( *_v12 & 255) == 32 || ( *_v12 & 255) == 9) {
                    _v12 = _v12 + 1;
                }
                if(( *_v12 & 255) != 35 && ( *_v12 & 255) != 0) {
                    _t107 = modtabcnt;
                    modtabcnt = _t107 + 1;
                    strlcpy( &modtab + (_t107 << 5), _v12, 32);
                }
            }
            free(_v8);
            _v128 = strcmp;
            qsort( &modtab, modtabcnt, 32);
            fclose(_v16);
            return memcpy( &modtabst,  &_v104, 88);
        }
    }
}

struct timespec getmonotime()
{// addr = 0x0804D1B9
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v24;                         // _cfa_ffffffe8 (outparam)

    if(clock_gettime(1,  &_v12) != 0) {
        _v24 = "%m";
         *__esp = 3;
        syslog();
        exit(71);
    }
    return _v12;
}

const char* getpeerinfo(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804D1FB
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    unsigned int _v16;                     // _cfa_fffffff0
    * _v24;                   // _cfa_ffffffe8
    char* _v28;                            // _cfa_ffffffe4
    signed int _v32;                       // _cfa_ffffffe0
    _unknown_ _v48;                        // _cfa_ffffffd0 (outparam)
    _unknown_ _v52;                        // _cfa_ffffffcc (outparam)
    _unknown_ _v56;                        // _cfa_ffffffc8 (outparam)
    int _t56;                              // _t56

    _v12 = _a4 + 1388;
    _v8 = _a4 + 1388;
    _v16 = 128;
    bzero(_a4 + 1388, 128);
    _t56 = getpeername( *( *((intOrPtr*)(_a4 + 1600)) + 44), _a4 + 1388,  &_v16);
    if(_t56 != 0) {
        return _t56;
    }
     *(_a4 + 1624) = 0;
    _v32 =  *(_a4 + 1388) & 0xffff;
    if(_v32 == 2) {
         *(_a4 + 1624) = ntohs( *(_v12 + 2) & 0xffff) & 65535;
    } else {
        if(_v32 == 10) {
             *(_a4 + 1624) = ntohs( *(_v8 + 2) & 0xffff) & 65535;
        }
    }
    _v28 = _a4 + 64;
    if(( *(_a4 + 1388) & 65535) != 2) {
        _v24 = _v8 + 8;
    } else {
        _v24 = _v12 + 4;
    }
    return inet_ntop( *(_a4 + 1388) & 0xffff, _v24, _v28, 40);
}

int logger_init(
    _unknown_ __ebx,                       // r1
    _unknown_ __edi,                       // r4
    _unknown_ __esi                        // r5
)
{// addr = 0x0804D32C
    intOrPtr _v8;                          // _cfa_fffffff8
    int _v12;                              // _cfa_fffffff4
    int _v16;                              // _cfa_fffffff0
    int _v24;                              // _cfa_ffffffe8
    int _v28;                              // _cfa_ffffffe4
    _unknown_ _v44;                        // _cfa_ffffffd4 (outparam)
    _unknown_ _v48;                        // _cfa_ffffffd0 (outparam)
    char* _v52;                            // _cfa_ffffffcc (outparam)
    char* _v56;                            // _cfa_ffffffc8 (outparam)

    __esi = __esi;
    __edi = __edi;
    __ebx = __ebx;
    if(socketpair(1, 1, 0,  &_v16) == -1) {
        _v52 = "logger_init";
        _v56 = "%s: socketpair: %m";
         *__esp = 3;
        syslog();
        exit(71);
    }
    _v28 = fork();
    if(_v28 == -1) {
        _v52 = "logger_init";
        _v56 = "%s: fork: %m";
         *__esp = 3;
        syslog();
        exit(71);
        goto L6;
    } else {
        if(_v28 == 0) {
L6:
            close(_v16);
            event_init();
            _v8 = bufferevent_new(_v12, logger_dispatch, 0, logger_ioerr, 0);
            if(_v8 == 0) {
                _v52 = "logger_init";
                _v56 = "%s: bufferevent_new: %m";
                 *__esp = 3;
                syslog();
                exit(69);
            }
            if(bufferevent_enable(__ebx, __edi, __esi, _v8, 2) != 0) {
                _v52 = "logger_init";
                _v56 = "%s: bufferevent_enable: %m";
                 *__esp = 3;
                syslog();
                bufferevent_free(_v8);
                exit(69);
            }
            event_set( &ev_tick, -1, 0, logger_tick, 0);
            logger_tick();
            _v24 = event_dispatch();
        } else {
            close(_v12);
            logger_pipe = _v16;
            _v24 = 0;
        }
    }
    return _v24;
}

struct _IO_FILE* logger_ioerr(
    _unknown_ __ebx,                       // r1
    _unknown_ __esi,                       // r5
    struct _IO_FILE* _a8   // _cfa_8
)
{// addr = 0x0804D4D6
    intOrPtr _v0;                          // _cfa_0
    char* _v8;                             // _cfa_fffffff8
    signed int _v12;                       // _cfa_fffffff4
    char* _v16;                            // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    struct _IO_FILE* _v24;   // _cfa_ffffffe8
    char* _v28;                            // _cfa_ffffffe4
    char* _v32;                            // _cfa_ffffffe0
    signed int _v44;                       // _cfa_ffffffd4
    void* _v48;           // _cfa_ffffffd0
    char* _v52;                            // _cfa_ffffffcc
    char* _v56;                            // _cfa_ffffffc8
    intOrPtr _v72;                         // _cfa_ffffffb8
    signed int _v80;                       // _cfa_ffffffb0
    char* _v84;                            // _cfa_ffffffac
    char* _v104;                           // _cfa_ffffff98
    char* _v108;                           // _cfa_ffffff94
    char* _v112;                           // _cfa_ffffff90 (outparam)
    char* _v116;                           // _cfa_ffffff8c (outparam)
    struct _IO_FILE* _t101;   // _t101
    _unknown_ _t175;                       // _t175

    __esi = __esi;
    __ebx = __ebx;
    _v24 = _a8;
    _v8 = 0;
    if((_v24 & 64) == 0) {
        if((_v24 & 16) == 0) {
            if((_v24 & 32) != 0) {
                if((_v24 & 1) == 0) {
                    _v32 = "write";
                } else {
                    _v32 = "read";
                }
                _v8 = _v32;
            }
        } else {
            _v8 = "eof";
        }
    } else {
        _v8 = "timeout";
    }
    if(_v8 == 0) {
        _v28 = "unknown";
    } else {
        _v28 = _v8;
    }
    _v48 = _v28;
    _v52 = "logger_ioerr";
    _v56 = "%s: %s";
     *__esp = 3;
    syslog();
    exit(74);
    _push(_t175);
    __esp = __esp - 56;
    _v80 = 0;
    _v84 =  &buf.4143;
    _v72 = 134563204;
    while(1) {
        _t101 =  *( *((intOrPtr*)(_v0 + 168)) + 16);
        if(_t101 == 0) {
            break;
        }
        if(nread.4144 != 0) {
L16:
            if(nread.4144 > 67) {
L18:
                if(_v28[0x40] > 255) {
                    _v108 = _v28[0x40];
                    _v112 = "logger_dispatch";
                    _v116 = "%s: message too big: %u";
                     *__esp = 3;
                    syslog();
                    exit(65);
                }
                _v20 = bufferevent_read(__ebx, __esi, _v0, nread.4144 +  &buf.4143, _v28[0x40] - nread.4144 + 68);
                nread.4144 = nread.4144 + _v20;
                _t101 = _v28[0x40];
                if(nread.4144 - 68 < _t101) {
                    break;
                } else {
                    _v44 = nread.4144 - 68;
                    if(_v44 > 255) {
                        _v44 = 255;
                    }
                    _v16[_v44] = 0;
                    _v12 = 0;
                    while(_v12 < nlogfiles) {
                        if(strcmp(((_v12 << 3) + _v12 << 2) +  &logfiles, _v28) == 0) {
                            _v24 =  *(((_v12 << 3) + _v12 << 2) + 134572768);
                        }
                        _v12 = _v12 + 1;
                    }
                    if(_v24 != 0) {
L30:
                        if((_v28[0x20] & 255) != 0) {
                            _v104 = _v16;
                            _v108 =  &(_v28[0x20]);
                            _v112 =  &line_ts;
                            fprintf(_v24, "[%s] <%s> %s\n");
                        } else {
                            _v108 = _v16;
                            _v112 =  &line_ts;
                            fprintf(_v24, "[%s] %s\n");
                        }
                        nread.4144 = 0;
                        continue;
                    }
                    _t101 = logger_open(_v28);
                    _v24 = _t101;
                    if(_v24 == 0) {
                        break;
                    }
                    goto L30;
                }
            }
            _v20 = bufferevent_read(__ebx, __esi, _v0, nread.4144 +  &buf.4143, 68 - nread.4144);
            nread.4144 = nread.4144 + _v20;
            _t101 = nread.4144;
            if(_t101 <= 67) {
                break;
            }
            goto L18;
        }
        bzero(_v28, 68);
        _v20 = bufferevent_read(__ebx, __esi, _v0,  &buf.4143, 68);
        nread.4144 = nread.4144 + _v20;
        _t101 = nread.4144;
        if(_t101 <= 67) {
            break;
        }
        goto L16;
    }
    return _t101;
}

struct _IO_FILE* logger_dispatch(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804D582
    signed int _v8;                        // _cfa_fffffff8
    char* _v12;                            // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    struct _IO_FILE* _v20;   // _cfa_ffffffec
    char* _v24;                            // _cfa_ffffffe8
    signed int _v40;                       // _cfa_ffffffd8
    char* _v44;                            // _cfa_ffffffd4
    char* _v48;                            // _cfa_ffffffd0
    char* _v52;                            // _cfa_ffffffcc (outparam)
    char* _v56;                            // _cfa_ffffffc8 (outparam)
    struct _IO_FILE* _t72;   // _t72

    _v20 = 0;
    _v24 =  &buf.4143;
    _v12 = 134563204;
    while(1) {
        _t72 =  *( *((intOrPtr*)(_a4 + 168)) + 16);
        if(_t72 == 0) {
            break;
        }
        if(nread.4144 != 0) {
L3:
            if(nread.4144 > 67) {
L5:
                if(_v24[0x40] > 255) {
                    _v48 = _v24[0x40];
                    _v52 = "logger_dispatch";
                    _v56 = "%s: message too big: %u";
                     *__esp = 3;
                    syslog();
                    exit(65);
                }
                _v16 = bufferevent_read(__ebx, __esi, _a4, nread.4144 +  &buf.4143, _v24[0x40] - nread.4144 + 68);
                nread.4144 = nread.4144 + _v16;
                _t72 = _v24[0x40];
                if(nread.4144 - 68 >= _t72) {
                    _v40 = nread.4144 - 68;
                    if(_v40 > 255) {
                        _v40 = 255;
                    }
                    _v12[_v40] = 0;
                    _v8 = 0;
                    while(_v8 < nlogfiles) {
                        if(strcmp(((_v8 << 3) + _v8 << 2) +  &logfiles, _v24) == 0) {
                            _v20 =  *(((_v8 << 3) + _v8 << 2) + 134572768);
                        }
                        _v8 = _v8 + 1;
                    }
                    if(_v20 != 0) {
L17:
                        if((_v24[0x20] & 255) != 0) {
                            _v44 = _v12;
                            _v48 =  &(_v24[0x20]);
                            _v52 =  &line_ts;
                            fprintf(_v20, "[%s] <%s> %s\n");
                        } else {
                            _v48 = _v12;
                            _v52 =  &line_ts;
                            fprintf(_v20, "[%s] %s\n");
                        }
                        nread.4144 = 0;
                        continue;
                    } else {
                        _t72 = logger_open(_v24);
                        _v20 = _t72;
                        if(_v20 != 0) {
                            goto L17;
                        }
                    }
                }
            } else {
                _v16 = bufferevent_read(__ebx, __esi, _a4, nread.4144 +  &buf.4143, 68 - nread.4144);
                nread.4144 = nread.4144 + _v16;
                _t72 = nread.4144;
                if(_t72 > 67) {
                    goto L5;
                }
            }
        } else {
            bzero(_v24, 68);
            _v16 = bufferevent_read(__ebx, __esi, _a4,  &buf.4143, 68);
            nread.4144 = nread.4144 + _v16;
            _t72 = nread.4144;
            if(_t72 > 67) {
                goto L3;
            }
        }
        break;
    }
    return _t72;
}

char* logger_open(
    char* _a4                              // _cfa_4
)
{// addr = 0x0804D7F0
    struct _IO_FILE* _v8;   // _cfa_fffffff8
    char _v4104;                           // _cfa_ffffeff8
    char* _v4120;                          // _cfa_ffffefe8
    char* _v4136;                          // _cfa_ffffefd8
    char* _v4140;                          // _cfa_ffffefd4
    char* _v4144;                          // _cfa_ffffefd0 (outparam)
    char* _v4148;                          // _cfa_ffffefcc (outparam)
    char* _v4152;                          // _cfa_ffffefc8 (outparam)
    signed int _t86;                       // _t86

    _v8 = 0;
    if(nlogfiles != 10) {
        _v4140 = _a4;
        _v4144 =  &logprefix;
        snprintf( &_v4104, 4096, "%s/%s");
        _v4152 = 493;
         *__esp =  &_v4104;
        mkdir();
        if( &_v4104 >= 0 ||  *(__errno_location()) == 17) {
            _v4136 =  &file_ts;
            _v4140 = _a4;
            _v4144 =  &logprefix;
            snprintf( &_v4104, 4096, "%s/%s/%s");
            _v8 = fopen( &_v4104, 134557018);
            if(_v8 != 0) {
                setvbuf(_v8, 0, 1, 0);
                if(verbose != 0) {
                    _v4144 =  &_v4104;
                    _v4148 = "logger_open";
                    _v4152 = "%s: %s";
                     *__esp = 5;
                    syslog();
                }
                strlcpy(((nlogfiles << 3) + nlogfiles << 2) +  &logfiles, _a4, 32);
                _t86 = nlogfiles;
                 *(134572768 + ((_t86 << 3) + _t86) * 4) = _v8;
                nlogfiles = _t86 + 1;
                _v4120 = _v8;
            } else {
                _v4144 =  &_v4104;
                _v4148 = "logger_open";
                _v4152 = "%s: %s: %m";
                 *__esp = 3;
                syslog();
                _v4120 = 0;
            }
        } else {
            _v4144 = _a4;
            _v4148 = "logger_open";
            _v4152 = "%s: %s: %m";
             *__esp = 3;
            syslog();
            _v4120 = 0;
        }
    } else {
        _v4148 = "logger_open";
        _v4152 = "%s: logfiles table is full";
         *__esp = 5;
        syslog();
        _v4120 = 0;
    }
    return _v4120;
}

logger(
    char* _a4,                             // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    char* _a12                             // _cfa_c
)
{// addr = 0x0804D9F8
    char* _v8;                             // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v76;                             // _cfa_ffffffb4
    intOrPtr _v80;                         // _cfa_ffffffb0
    char* _v84;                            // _cfa_ffffffac
    intOrPtr _v88;                         // _cfa_ffffffa8
    char _v92;                             // _cfa_ffffffa4
    char* _v116;                           // _cfa_ffffff8c (outparam)
    char* _v120;                           // _cfa_ffffff88 (outparam)

    _v8 = 134557027;
    _t27 = dologging;
    if(_t27 != 0) {
        _t27 = strcmp(_a4, _v8);
        if(_t27 != 0) {
            strlcpy( &_v76, _a4, 32);
            strlcpy( &_v76 + 32, _a8, 32);
            _v12 = strlen(_a12) + 1;
            _v92 =  &_v76;
            _v88 = 68;
            _v84 = _a12;
            _v80 = _v12;
            _v116 = 2;
            _t27 =  &_v92;
            _v120 =  &_v92;
             *__esp = logger_pipe;
            writev();
            if( &_v92 == -1) {
                _v116 = "logger";
                _v120 = "%s: %m";
                 *__esp = 3;
                syslog();
                return  &_v92;
            }
        }
    }
    return _t27;
}

logger_tick()
{// addr = 0x0804DACD
    signed int _v8;                        // _cfa_fffffff8
    const struct tm* _v12;   // _cfa_fffffff4
    signed int _v16;                       // _cfa_fffffff0
    char _v20;                             // _cfa_ffffffec
    char _v148;                            // _cfa_ffffff6c
    long int _v152;                        // _cfa_ffffff68
    int _v172;                             // _cfa_ffffff54
    int _v176;                             // _cfa_ffffff50 (outparam)
    char* _v180;                           // _cfa_ffffff4c (outparam)
    char* _v184;                           // _cfa_ffffff48 (outparam)
    _unknown_ _t70;                        // _t70

    _v20 = 60;
    _v16 = 0;
    time( &_v152);
    _v12 = gmtime( &_v152);
    if(_v12->tm_mon != last_mon.4272) {
        _v172 = _v12->tm_mon + 1;
        _v176 = _v12->tm_year + 1900;
        snprintf( &file_ts, 8, "%04d-%02d");
        last_mon.4272 = _v12->tm_mon;
        _v8 = 0;
        while(_v8 < nlogfiles) {
            fclose( *(((_v8 << 3) + _v8 << 2) + 134572768));
             *(((_v8 << 3) + _v8 << 2) + 134572768) = 0;
            _v8 = _v8 + 1;
        }
        nlogfiles = 0;
    }
    if(_v12->tm_mday != last_mday.4273) {
        strftime( &_v148, 128, "Today is %a %b %e %Y %H:%M %Z (%z)", _v12);
        _v8 = 0;
        while(_v8 < nlogfiles) {
            _v180 =  &_v148;
            fprintf( *(((_v8 << 3) + _v8 << 2) + 134572768), "%s\n");
            _v8 = _v8 + 1;
        }
        last_mday.4273 = _v12->tm_mday;
    }
    _v172 = _v12->tm_min;
    _v176 = _v12->tm_hour;
    snprintf( &line_ts, 6, "%02d:%02d");
    _v184 =  &_v20;
    _t70 = event_add(__ebx, __edi, __esi,  &ev_tick);
    if(_t70 < 0) {
        _v180 = "logger_tick";
        _v184 = "%s: evtimer_add: %m";
         *__esp = 3;
        syslog();
        exit(69);
        return _t70;
    }
    return _t70;
}

signed int compare(
    _unknown_ __eax,                       // r0
    intOrPtr __ebx,                        // r1
    _unknown_ __edx,                       // r3
    intOrPtr __esi                         // r5
)
{// addr = 0x0804DCA0
    intOrPtr _v8;                          // _cfa_fffffff8
    _unknown_ _t12;                        // _t12
    signed int _t15;                       // _t15
    intOrPtr _t21;                         // _t21
    _unknown_ _t22;                        // _t22
    intOrPtr _t24;                         // _t24
    _unknown_ _t29;                        // _t29
    _unknown_ _t32;                        // _t32

     *__esp = __ebx;
    _v8 = __esi;
    _t24 =  *((intOrPtr*)(__eax + 56));
    _t21 =  *((intOrPtr*)(__edx + 56));
    _t29 = _t24 - _t21;
    if(_t29 == 0) {
        __eflags =  *((intOrPtr*)(__eax + 60)) -  *((intOrPtr*)(__edx + 60));
        _t12 =  *((intOrPtr*)(__eax + 60)) -  *((intOrPtr*)(__edx + 60)) < 0;
    } else {
        _t12 = _t29 < 0;
    }
    if(_t12 != 0) {
L7:
        return -1;
    } else {
        _t32 = _t24 - _t21;
        if(_t32 == 0) {
            __eflags =  *((intOrPtr*)(__eax + 60)) -  *((intOrPtr*)(__edx + 60));
            _t22 =  *((intOrPtr*)(__eax + 60)) -  *((intOrPtr*)(__edx + 60)) > 0;
        } else {
            _t22 = _t32 > 0;
        }
        _t15 = 1;
        if(_t22 == 0) {
            __eflags = __eax - __edx;
            if(__eflags < 0) {
                goto L7;
            } else {
                _t15 = __eflags > 0 & 255;
                goto L6;
            }
        } else {
L6:
            return _t15;
        }
    }
}

event_tree_RB_INSERT_COLOR(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804DD20
    _unknown_ __ebx;                       // r1
    intOrPtr __edi;                        // r4
    _unknown_ __esi;                       // r5
    intOrPtr _t74;                         // _t74
    intOrPtr _t75;                         // _t75
    intOrPtr _t76;                         // _t76
    intOrPtr _t77;                         // _t77
    intOrPtr _t78;                         // _t78
    intOrPtr _t80;                         // _t80
    intOrPtr _t81;                         // _t81
    intOrPtr _t82;                         // _t82
    intOrPtr _t83;                         // _t83
    intOrPtr _t84;                         // _t84
    intOrPtr _t86;                         // _t86
    intOrPtr _t87;                         // _t87
    intOrPtr _t88;                         // _t88
    intOrPtr _t89;                         // _t89
    intOrPtr _t91;                         // _t91
    intOrPtr _t92;                         // _t92
    intOrPtr _t94;                         // _t94
    intOrPtr _t96;                         // _t96
    intOrPtr _t97;                         // _t97
    intOrPtr _t98;                         // _t98
    intOrPtr _t99;                         // _t99

    __edi = _a8;
    while(1) {
L1:
        _t74 =  *((intOrPtr*)(__edi + 32));
        if(_t74 == 0) {
            break;
        }
        while( *((intOrPtr*)(_t74 + 36)) == 1) {
            __ecx =  *((intOrPtr*)(_t74 + 32));
            _t91 =  *((intOrPtr*)(__ecx + 24));
            _t87 = __ecx;
            _t98 = _t91;
            if(_t91 == _t74) {
                _t76 =  *((intOrPtr*)(__ecx + 28));
                if(_t76 == 0 ||  *((intOrPtr*)(_t76 + 36)) != 1) {
                    _t88 =  *((intOrPtr*)(_t91 + 28));
                    if(_t88 == __edi) {
                        _t77 =  *((intOrPtr*)(__edi + 24));
                         *((intOrPtr*)(_t91 + 28)) = _t77;
                        if(_t77 != 0) {
                             *((intOrPtr*)(_t77 + 32)) = _t91;
                        }
                        _t78 =  *((intOrPtr*)(_t91 + 32));
                         *((intOrPtr*)(__edi + 32)) = _t78;
                        if(_t78 == 0) {
                             *_a4 = __edi;
                        } else {
                            _t82 =  *((intOrPtr*)(_t91 + 32));
                            if(_t91 ==  *((intOrPtr*)(_t82 + 24))) {
                                 *((intOrPtr*)(_t82 + 24)) = __edi;
                            } else {
                                 *((intOrPtr*)(_t82 + 28)) = __edi;
                            }
                        }
                         *((intOrPtr*)(_t88 + 24)) = _t91;
                        __edi = _t91;
                        _t98 = _t88;
                         *((intOrPtr*)(_t91 + 32)) = _t88;
                        _t91 =  *((intOrPtr*)(__ecx + 24));
                    }
                    _t89 = _t91;
                    _t92 =  *((intOrPtr*)(_t91 + 28));
                     *((intOrPtr*)(_t98 + 36)) = 0;
                     *((intOrPtr*)(__ecx + 36)) = 1;
                     *((intOrPtr*)(__ecx + 24)) = _t92;
                    if(_t92 != 0) {
                         *((intOrPtr*)(_t92 + 32)) = __ecx;
                    }
                    _t80 =  *((intOrPtr*)(__ecx + 32));
                     *((intOrPtr*)(_t89 + 32)) = _t80;
                    if(_t80 == 0) {
                         *_a4 = _t89;
                    } else {
                        _t81 =  *((intOrPtr*)(__ecx + 32));
                        if( *((intOrPtr*)(_t81 + 24)) == __ecx) {
                             *((intOrPtr*)(_t81 + 24)) = _t89;
                        } else {
                             *((intOrPtr*)(_t81 + 28)) = _t89;
                        }
                    }
                     *((intOrPtr*)(_t89 + 28)) = __ecx;
                     *((intOrPtr*)(__ecx + 32)) = _t89;
                } else {
                    __edi = __ecx;
                     *((intOrPtr*)(_t76 + 36)) = 0;
                     *((intOrPtr*)(_t91 + 36)) = 0;
                     *((intOrPtr*)(__ecx + 36)) = 1;
                }
                goto L1;
            }
            if(_t91 == 0 ||  *((intOrPtr*)(_t91 + 36)) != 1) {
                _t99 =  *((intOrPtr*)(_t74 + 24));
                if(_t99 == __edi) {
                    _t94 =  *((intOrPtr*)(__edi + 28));
                     *((intOrPtr*)(_t74 + 24)) = _t94;
                    if(_t94 != 0) {
                         *((intOrPtr*)(_t94 + 32)) = _t74;
                        _t87 =  *((intOrPtr*)(_t74 + 32));
                    }
                     *((intOrPtr*)(__edi + 32)) = _t87;
                    if(_t87 == 0) {
                         *_a4 = __edi;
                    } else {
                        _t97 =  *((intOrPtr*)(_t74 + 32));
                        if( *((intOrPtr*)(_t97 + 24)) == _t74) {
                             *((intOrPtr*)(_t97 + 24)) = __edi;
                        } else {
                             *((intOrPtr*)(_t97 + 28)) = __edi;
                        }
                    }
                     *((intOrPtr*)(_t99 + 28)) = _t74;
                    __edi = _t74;
                     *((intOrPtr*)(_t74 + 32)) = _t99;
                    _t74 = _t99;
                }
                _t96 =  *((intOrPtr*)(__ecx + 28));
                 *((intOrPtr*)(_t74 + 36)) = 0;
                 *((intOrPtr*)(__ecx + 36)) = 1;
                _t83 =  *((intOrPtr*)(_t96 + 24));
                 *((intOrPtr*)(__ecx + 28)) = _t83;
                if(_t83 != 0) {
                     *((intOrPtr*)(_t83 + 32)) = __ecx;
                }
                _t84 =  *((intOrPtr*)(__ecx + 32));
                 *((intOrPtr*)(_t96 + 32)) = _t84;
                if(_t84 == 0) {
                     *_a4 = _t96;
                } else {
                    _t86 =  *((intOrPtr*)(__ecx + 32));
                    if( *((intOrPtr*)(_t86 + 24)) == __ecx) {
                         *((intOrPtr*)(_t86 + 24)) = _t96;
                    } else {
                         *((intOrPtr*)(_t86 + 28)) = _t96;
                    }
                }
                 *((intOrPtr*)(__ecx + 32)) = _t96;
                _t74 =  *((intOrPtr*)(__edi + 32));
                 *((intOrPtr*)(_t96 + 24)) = __ecx;
                if(_t74 != 0) {
                    continue;
                } else {
                    goto L13;
                }
            } else {
                __edi = __ecx;
                 *((intOrPtr*)(_t91 + 36)) = 0;
                 *((intOrPtr*)(_t74 + 36)) = 0;
                 *((intOrPtr*)(__ecx + 36)) = 1;
                goto L1;
            }
        }
        break;
    }
L13:
    _t75 =  *_a4;
     *((intOrPtr*)(_t75 + 36)) = 0;
    return _t75;
}

event_tree_RB_REMOVE_COLOR(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804DF20
    _unknown_ __ebx;                       // r1
    intOrPtr* __edi;                       // r4
    intOrPtr __esi;                        // r5
    intOrPtr _t111;                        // _t111
    intOrPtr _t112;                        // _t112
    intOrPtr _t115;                        // _t115
    intOrPtr _t117;                        // _t117
    intOrPtr _t118;                        // _t118
    intOrPtr _t119;                        // _t119
    intOrPtr _t121;                        // _t121
    intOrPtr _t123;                        // _t123
    intOrPtr _t124;                        // _t124
    intOrPtr _t126;                        // _t126
    intOrPtr _t127;                        // _t127
    intOrPtr _t130;                        // _t130
    intOrPtr _t131;                        // _t131
    intOrPtr _t132;                        // _t132
    intOrPtr _t133;                        // _t133
    intOrPtr _t134;                        // _t134
    intOrPtr _t135;                        // _t135
    intOrPtr _t136;                        // _t136
    intOrPtr _t137;                        // _t137
    intOrPtr _t138;                        // _t138
    intOrPtr _t139;                        // _t139
    intOrPtr _t140;                        // _t140
    intOrPtr _t141;                        // _t141
    intOrPtr _t144;                        // _t144

    _t111 = _a12;
    __edi = _a4;
    __esi = _a8;
    while(_t111 == 0 ||  *((intOrPtr*)(_t111 + 36)) == 0) {
        _t138 =  *__edi;
        if(_t138 == _t111) {
L30:
            if(_t138 == 0) {
                return _t111;
            }
L31:
             *((intOrPtr*)(_t138 + 36)) = 0;
            return _t111;
        }
        _t139 =  *((intOrPtr*)(__esi + 24));
        _t134 = _t139;
        if(_t139 == _t111) {
            _t140 =  *((intOrPtr*)(__esi + 28));
            _t135 = _t140;
            if( *((intOrPtr*)(_t140 + 36)) == 1) {
                 *((intOrPtr*)(_t140 + 36)) = 0;
                _t141 =  *((intOrPtr*)(_t140 + 24));
                 *((intOrPtr*)(__esi + 36)) = 1;
                 *((intOrPtr*)(__esi + 28)) = _t141;
                if(_t141 != 0) {
                     *((intOrPtr*)(_t141 + 32)) = __esi;
                }
                _t112 =  *((intOrPtr*)(__esi + 32));
                 *((intOrPtr*)(_t135 + 32)) = _t112;
                if(_t112 == 0) {
                     *__edi = _t135;
                } else {
                    _t121 =  *((intOrPtr*)(__esi + 32));
                    if( *((intOrPtr*)(_t121 + 24)) == __esi) {
                         *((intOrPtr*)(_t121 + 24)) = _t135;
                    } else {
                         *((intOrPtr*)(_t121 + 28)) = _t135;
                    }
                }
                _t140 =  *((intOrPtr*)(__esi + 28));
                 *((intOrPtr*)(_t135 + 24)) = __esi;
                 *((intOrPtr*)(__esi + 32)) = _t135;
            }
            _t132 =  *((intOrPtr*)(_t140 + 24));
            if(_t132 == 0 ||  *((intOrPtr*)(_t132 + 36)) == 0) {
                _t136 =  *((intOrPtr*)(_t140 + 28));
                if(_t136 == 0 ||  *((intOrPtr*)(_t136 + 36)) == 0) {
L5:
                     *((intOrPtr*)(_t140 + 36)) = 1;
                    _t111 = __esi;
                    __esi =  *((intOrPtr*)(__esi + 32));
                    continue;
                } else {
                    goto L22;
                }
            } else {
                _t136 =  *((intOrPtr*)(_t140 + 28));
                if(_t136 == 0 ||  *((intOrPtr*)(_t136 + 36)) == 0) {
                    _t117 =  *((intOrPtr*)(_t132 + 28));
                     *((intOrPtr*)(_t132 + 36)) = 0;
                     *((intOrPtr*)(_t140 + 36)) = 1;
                     *((intOrPtr*)(_t140 + 24)) = _t117;
                    if(_t117 != 0) {
                         *((intOrPtr*)(_t117 + 32)) = _t140;
                    }
                    _t118 =  *((intOrPtr*)(_t140 + 32));
                     *((intOrPtr*)(_t132 + 32)) = _t118;
                    if(_t118 == 0) {
                         *__edi = _t132;
                    } else {
                        _t119 =  *((intOrPtr*)(_t140 + 32));
                        if( *((intOrPtr*)(_t119 + 24)) == _t140) {
                             *((intOrPtr*)(_t119 + 24)) = _t132;
                        } else {
                             *((intOrPtr*)(_t119 + 28)) = _t132;
                        }
                    }
                     *((intOrPtr*)(_t132 + 28)) = _t140;
                     *((intOrPtr*)(_t140 + 32)) = _t132;
                    _t140 =  *((intOrPtr*)(__esi + 28));
                    _t136 =  *((intOrPtr*)(_t140 + 28));
                }
L22:
                 *((intOrPtr*)(_t140 + 36)) =  *((intOrPtr*)(__esi + 36));
                 *((intOrPtr*)(__esi + 36)) = 0;
                if(_t136 != 0) {
                     *((intOrPtr*)(_t136 + 36)) = 0;
                }
                _t115 =  *((intOrPtr*)(_t140 + 24));
                 *((intOrPtr*)(__esi + 28)) = _t115;
                if(_t115 != 0) {
                     *((intOrPtr*)(_t115 + 32)) = __esi;
                }
                _t111 =  *((intOrPtr*)(__esi + 32));
                 *((intOrPtr*)(_t140 + 32)) = _t111;
                if(_t111 == 0) {
                     *__edi = _t140;
                } else {
                    _t111 =  *((intOrPtr*)(__esi + 32));
                    if( *((intOrPtr*)(_t111 + 24)) == __esi) {
                         *((intOrPtr*)(_t111 + 24)) = _t140;
                    } else {
                         *((intOrPtr*)(_t111 + 28)) = _t140;
                    }
                }
                 *((intOrPtr*)(_t140 + 24)) = __esi;
                 *((intOrPtr*)(__esi + 32)) = _t140;
                _t138 =  *__edi;
                goto L30;
            }
        }
        if( *((intOrPtr*)(_t139 + 36)) != 1) {
L1:
            _t137 =  *((intOrPtr*)(_t139 + 24));
            if(_t137 == 0 ||  *((intOrPtr*)(_t137 + 36)) == 0) {
                _t133 =  *((intOrPtr*)(_t139 + 28));
                if(_t133 == 0 ||  *((intOrPtr*)(_t133 + 36)) == 0) {
                    goto L5;
                } else {
                    if(_t137 == 0 ||  *((intOrPtr*)(_t137 + 36)) == 0) {
                        _t123 =  *((intOrPtr*)(_t133 + 24));
                         *((intOrPtr*)(_t133 + 36)) = 0;
                         *((intOrPtr*)(_t139 + 36)) = 1;
                         *((intOrPtr*)(_t139 + 28)) = _t123;
                        if(_t123 != 0) {
                             *((intOrPtr*)(_t123 + 32)) = _t139;
                        }
                        _t124 =  *((intOrPtr*)(_t139 + 32));
                         *((intOrPtr*)(_t133 + 32)) = _t124;
                        if(_t124 == 0) {
                             *__edi = _t133;
                        } else {
                            _t127 =  *((intOrPtr*)(_t139 + 32));
                            if( *((intOrPtr*)(_t127 + 24)) == _t139) {
                                 *((intOrPtr*)(_t127 + 24)) = _t133;
                            } else {
                                 *((intOrPtr*)(_t127 + 28)) = _t133;
                            }
                        }
                         *((intOrPtr*)(_t133 + 24)) = _t139;
                         *((intOrPtr*)(_t139 + 32)) = _t133;
                        _t139 =  *((intOrPtr*)(__esi + 24));
                        _t137 =  *((intOrPtr*)(_t139 + 24));
                    }
                    goto L49;
                }
            } else {
L49:
                 *((intOrPtr*)(_t139 + 36)) =  *((intOrPtr*)(__esi + 36));
                 *((intOrPtr*)(__esi + 36)) = 0;
                if(_t137 != 0) {
                     *((intOrPtr*)(_t137 + 36)) = 0;
                }
                _t126 =  *((intOrPtr*)(_t139 + 28));
                 *((intOrPtr*)(__esi + 24)) = _t126;
                if(_t126 != 0) {
                     *((intOrPtr*)(_t126 + 32)) = __esi;
                }
                _t111 =  *((intOrPtr*)(__esi + 32));
                 *((intOrPtr*)(_t139 + 32)) = _t111;
                if(_t111 == 0) {
                     *__edi = _t139;
                } else {
                    _t111 =  *((intOrPtr*)(__esi + 32));
                    if( *((intOrPtr*)(_t111 + 24)) == __esi) {
                         *((intOrPtr*)(_t111 + 24)) = _t139;
                    } else {
                         *((intOrPtr*)(_t111 + 28)) = _t139;
                    }
                }
                 *((intOrPtr*)(_t139 + 28)) = __esi;
                 *((intOrPtr*)(__esi + 32)) = _t139;
                _t138 =  *__edi;
                goto L30;
            }
        } else {
             *((intOrPtr*)(_t139 + 36)) = 0;
            _t144 =  *((intOrPtr*)(_t139 + 28));
             *((intOrPtr*)(__esi + 36)) = 1;
             *((intOrPtr*)(__esi + 24)) = _t144;
            if(_t144 != 0) {
                 *((intOrPtr*)(_t144 + 32)) = __esi;
            }
            _t130 =  *((intOrPtr*)(__esi + 32));
             *((intOrPtr*)(_t134 + 32)) = _t130;
            if(_t130 == 0) {
                 *__edi = _t134;
            } else {
                _t131 =  *((intOrPtr*)(__esi + 32));
                if( *((intOrPtr*)(_t131 + 24)) == __esi) {
                     *((intOrPtr*)(_t131 + 24)) = _t134;
                } else {
                     *((intOrPtr*)(_t131 + 28)) = _t134;
                }
            }
            _t139 =  *((intOrPtr*)(__esi + 24));
             *((intOrPtr*)(_t134 + 28)) = __esi;
             *((intOrPtr*)(__esi + 32)) = _t134;
            goto L1;
        }
    }
    _t138 = _t111;
    goto L31;
}

event_tree_RB_REMOVE(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804E200
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    intOrPtr __ebx;                        // r1
    intOrPtr __edi;                        // r4
    intOrPtr __esi;                        // r5
    intOrPtr _t50;                         // _t50
    intOrPtr _t56;                         // _t56
    intOrPtr _t59;                         // _t59
    intOrPtr _t60;                         // _t60
    intOrPtr _t61;                         // _t61
    intOrPtr _t62;                         // _t62

    __ebx = _a8;
    __esi =  *((intOrPtr*)(__ebx + 24));
    if(__esi == 0) {
        __esi =  *((intOrPtr*)(__ebx + 28));
        _t61 =  *((intOrPtr*)(__ebx + 32));
        __edi =  *((intOrPtr*)(__ebx + 36));
        if(__esi == 0) {
L26:
            if(_t61 == 0) {
                 *_a4 = __esi;
            } else {
                if( *((intOrPtr*)(_t61 + 24)) == __ebx) {
                     *((intOrPtr*)(_t61 + 24)) = __esi;
                } else {
                     *((intOrPtr*)(_t61 + 28)) = __esi;
                }
            }
L19:
            if(__edi == 0) {
                event_tree_RB_REMOVE_COLOR(_a4, _t61, __esi);
            }
            return __ebx;
        }
L25:
         *((intOrPtr*)(__esi + 32)) = _t61;
        goto L26;
    }
    __edx =  *((intOrPtr*)(__ebx + 28));
    if(__edx != 0) {
        while(1) {
            _t50 =  *((intOrPtr*)(__edx + 24));
            if(_t50 == 0) {
                break;
            }
            __edx = _t50;
        }
        __esi =  *((intOrPtr*)(__edx + 28));
        _t62 =  *((intOrPtr*)(__edx + 32));
        __edi =  *((intOrPtr*)(__edx + 36));
        if(__esi != 0) {
             *((intOrPtr*)(__esi + 32)) = _t62;
        }
        if(_t62 == 0) {
             *_a4 = __esi;
            goto L10;
        } else {
            if( *((intOrPtr*)(_t62 + 24)) == __edx) {
                 *((intOrPtr*)(_t62 + 24)) = __esi;
                if(__ebx !=  *((intOrPtr*)(__edx + 32))) {
L11:
                     *((intOrPtr*)(__edx + 24)) =  *((intOrPtr*)(__ebx + 24));
                     *((intOrPtr*)(__edx + 28)) =  *((intOrPtr*)(__ebx + 28));
                     *((intOrPtr*)(__edx + 32)) =  *((intOrPtr*)(__ebx + 32));
                     *((intOrPtr*)(__edx + 36)) =  *((intOrPtr*)(__ebx + 36));
                    _t56 =  *((intOrPtr*)(__ebx + 32));
                    if(_t56 == 0) {
                         *_a4 = __edx;
                    } else {
                        if(__ebx ==  *((intOrPtr*)(_t56 + 24))) {
                             *((intOrPtr*)(_t56 + 24)) = __edx;
                        } else {
                             *((intOrPtr*)(_t56 + 28)) = __edx;
                        }
                    }
                     *((intOrPtr*)( *((intOrPtr*)(__ebx + 24)) + 32)) = __edx;
                    _t59 =  *((intOrPtr*)(__ebx + 28));
                    if(_t59 != 0) {
                         *((intOrPtr*)(_t59 + 32)) = __edx;
                    }
                    if(_t61 != 0) {
                        _t60 = _t61;
                        do {
                            _t60 =  *((intOrPtr*)(_t60 + 32));
                        } while(_t60 != 0);
                    }
                    goto L19;
                }
L23:
                _t61 = __edx;
                goto L11;
            }
             *((intOrPtr*)(_t62 + 28)) = __esi;
L10:
            if(__ebx ==  *((intOrPtr*)(__edx + 32))) {
                goto L23;
            }
            goto L11;
        }
    } else {
        _t61 =  *((intOrPtr*)(__ebx + 32));
        __edi =  *((intOrPtr*)(__ebx + 36));
        goto L25;
    }
}

event_tree_RB_INSERT(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804E320
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr __ebx;                        // r1
    intOrPtr* __edi;                       // r4
    intOrPtr __esi;                        // r5
    signed int _t17;                       // _t17
    intOrPtr _t19;                         // _t19
    signed int _t22;                       // _t22

    __edi = _a4;
    __esi = _a8;
    __ebx =  *__edi;
    if(__ebx != 0) {
        while(1) {
            _t17 = compare(__esi, __ebx, __ebx, __esi);
            __eflags = _t17;
            _t22 = _t17;
            if(__eflags >= 0) {
                goto L2;
            }
            _t19 =  *((intOrPtr*)(__ebx + 24));
            __eflags = _t19;
            if(_t19 != 0) {
L4:
                __ebx = _t19;
                continue;
            } else {
L7:
                __eflags = __ebx;
                 *((intOrPtr*)(__esi + 32)) = __ebx;
                 *((intOrPtr*)(__esi + 28)) = 0;
                 *((intOrPtr*)(__esi + 24)) = 0;
                 *((intOrPtr*)(__esi + 36)) = 1;
                if(__ebx == 0) {
                    goto L13;
                } else {
                    __eflags = _t22;
                    if(_t22 < 0) {
                         *((intOrPtr*)(__ebx + 24)) = __esi;
                    } else {
                         *((intOrPtr*)(__ebx + 28)) = __esi;
                    }
                }
                goto L10;
            }
            goto L11;
L2:
            if(__eflags != 0) {
                _t19 =  *((intOrPtr*)(__ebx + 28));
                __eflags = _t19;
                if(_t19 == 0) {
                    goto L7;
                } else {
                    goto L4;
                }
            }
            goto L11;
        }
    } else {
         *((intOrPtr*)(__esi + 32)) = 0;
         *((intOrPtr*)(__esi + 28)) = 0;
         *((intOrPtr*)(__esi + 24)) = 0;
         *((intOrPtr*)(__esi + 36)) = 1;
L13:
         *__edi = __esi;
L10:
        _v20 = __esi;
        __ebx = 0;
         *__esp = __edi;
        event_tree_RB_INSERT_COLOR();
    }
L11:
    return __ebx;
}

event_tree_RB_FIND(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804E3C0
    intOrPtr __ebx;                        // r1
    intOrPtr __esi;                        // r5
    signed int _t10;                       // _t10

    __esi = _a8;
    __ebx =  *_a4;
    while(__ebx != 0) {
        while(1) {
            __edx = __ebx;
            _t10 = compare(__esi, __ebx, __ebx, __esi);
            if(_t10 < 0) {
                break;
            }
            if(_t10 != 0) {
                __ebx =  *((intOrPtr*)(__ebx + 28));
                if(__ebx != 0) {
                    continue;
                }
            }
            goto L5;
        }
        __ebx =  *((intOrPtr*)(__ebx + 24));
    }
L5:
    return __ebx;
}

event_tree_RB_NEXT(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804E400
    intOrPtr _t8;                          // _t8
    intOrPtr _t9;                          // _t9

    _t8 = _a4;
    __edx =  *((intOrPtr*)(_t8 + 28));
    if(__edx != 0) {
        while(1) {
            _t9 =  *((intOrPtr*)(__edx + 24));
            if(_t9 == 0) {
                goto L4;
            }
            __edx = _t9;
        }
        goto L4;
    } else {
        __edx =  *((intOrPtr*)(_t8 + 32));
        __ecx = __edx;
        if(__edx == 0) {
L4:
            return __edx;
        } else {
            if( *((intOrPtr*)(__edx + 24)) != _t8) {
                while(1) {
                    __edx = __ecx;
                    if(__ecx == 0) {
                        goto L4;
                    }
                    if( *((intOrPtr*)(__ecx + 28)) == _t8) {
                        _t8 = __ecx;
                        __ecx =  *((intOrPtr*)(__ecx + 32));
                        continue;
                    } else {
                        return __edx;
                    }
                    goto L12;
                }
            } else {
            }
            goto L4;
        }
    }
L12:
}

event_tree_RB_MINMAX(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804E450
    intOrPtr _t6;                          // _t6
    intOrPtr _t8;                          // _t8
    intOrPtr _t9;                          // _t9

    _t8 = 0;
    __ecx = _a8;
    _t6 =  *_a4;
    if(_t6 != 0) {
L4:
        while(1) {
            if(__ecx >= 0) {
                _t9 =  *((intOrPtr*)(_t6 + 28));
                if(_t9 != 0) {
                    goto L3;
                }
            } else {
                _t9 =  *((intOrPtr*)(_t6 + 24));
                if(_t9 != 0) {
L3:
                    _t6 = _t9;
                    continue;
                }
            }
            _t8 = _t6;
            goto L7;
        }
    } else {
    }
L7:
    return _t8;
}

event_loopexit_cb(
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804E480
    __eax = _a12;
     *((intOrPtr*)(__eax + 16)) = 1;
    return __eax;
}

signed int event_set(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    short _a12,                            // _cfa_c
    intOrPtr _a16,                         // _cfa_10
    intOrPtr _a20                          // _cfa_14
)
{// addr = 0x0804E490
    short _t20;                            // _t20
    signed int _t24;                       // _t24
    intOrPtr _t25;                         // _t25

    _t25 = current_base;
    __ecx = _a4;
     *((intOrPtr*)(__ecx + 40)) = _t25;
     *((intOrPtr*)(__ecx + 68)) = _a16;
     *((intOrPtr*)(__ecx + 52)) = 0;
     *((intOrPtr*)(__ecx + 72)) = _a20;
     *((intOrPtr*)(__ecx + 76)) = 0;
     *((intOrPtr*)(__ecx + 80)) = 128;
     *((intOrPtr*)(__ecx + 44)) = _a8;
    _t20 = _a12;
     *((short*)(__ecx + 50)) = 0;
     *((short*)(__ecx + 48)) = _t20;
    if(_t25 != 0) {
        _t24 = ( *(_t25 + 24) >> 31) +  *(_t25 + 24) >> 1;
         *(__ecx + 64) = _t24;
        return _t24;
    }
    return _t20;
}

event_base_set(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804E4F0
    intOrPtr _t8;                          // _t8

    __ecx = _a8;
    if( *((intOrPtr*)(__ecx + 80)) == 128) {
        _t8 = _a4;
        __edx =  *(_t8 + 24);
         *((intOrPtr*)(__ecx + 40)) = _t8;
         *(__ecx + 64) = ( *(_t8 + 24) >> 31) + __edx >> 1;
        return 0;
    } else {
        return -1;
    }
}

event_priority_set(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804E520
    intOrPtr _t14;                         // _t14

    __edx = _a4;
    if(( *(__edx + 80) & 8) == 0) {
        if(_a8 < 0) {
            goto L1;
        } else {
            _t14 = _a8;
            if(_t14 >=  *((intOrPtr*)( *((intOrPtr*)(__edx + 40)) + 24))) {
                goto L1;
            } else {
                 *((intOrPtr*)(__edx + 64)) = _t14;
                return 0;
            }
        }
    } else {
L1:
        return -1;
    }
}

event_get_version()
{// addr = 0x0804E550
    return "1.3e";
}

event_get_method()
{// addr = 0x0804E560
    _unknown_ _t4;                         // _t4

    _push(_t4);
    _pop(__ebp);
    return  *((intOrPtr*)( *current_base));
}

event_queue_remove(
    _unknown_ __eax,                       // r0
    intOrPtr __ebx,                        // r1
    signed int __ecx,                      // r2
    intOrPtr* __edx,                       // r3
    intOrPtr __edi,                        // r4
    intOrPtr __esi                         // r5
)
{// addr = 0x0804E570
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v24;                       // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    signed int _v32;                       // _cfa_ffffffe0
    char* _v36;                            // _cfa_ffffffdc
    char* _v40;                            // _cfa_ffffffd8 (outparam)
    signed char _t52;                      // _t52
    intOrPtr* _t58;                        // _t58
    intOrPtr _t70;                         // _t70
    intOrPtr _t72;                         // _t72
    intOrPtr _t73;                         // _t73
    intOrPtr _t74;                         // _t74
    _unknown_ _t86;                        // _t86

    _v16 = __ebx;
    _v12 = __esi;
    _v8 = __edi;
    _t52 =  *(__edx + 80);
    if((__ecx & _t52) == 0) {
        _v24 = __ecx;
        _v32 = __edx;
        _v36 = "event_queue_remove";
        _v40 = "%s: %p(fd %d) not on queue %x";
        _v28 =  *((intOrPtr*)(__edx + 44));
         *__esp = 1;
        event_errx();
        _t52 =  *(__edx + 80);
    }
    _t72 = 0;
    if((_t52 & 16) == 0) {
         *((intOrPtr*)(__eax + 8)) =  *((intOrPtr*)(__eax + 8)) - 1;
        _t72 = 1;
    }
     *(__edx + 80) =  *(__edx + 80) &  !__ecx;
    _t86 = __ecx - 2;
    if(_t86 == 0) {
        _t73 =  *__edx;
        if(_t73 == 0) {
             *((intOrPtr*)(__eax + 400)) =  *((intOrPtr*)(__edx + 4));
        } else {
             *((intOrPtr*)(_t73 + 4)) =  *((intOrPtr*)(__edx + 4));
        }
        _t58 =  *((intOrPtr*)(__edx + 4));
         *_t58 = _t73;
        goto L7;
    } else {
        if(_t86 > 0) {
            if(__ecx == 4) {
                _t74 =  *((intOrPtr*)(__edx + 16));
                if(_t74 == 0) {
                     *((intOrPtr*)(__eax + 32)) =  *((intOrPtr*)(__edx + 20));
                } else {
                     *((intOrPtr*)(_t74 + 20)) =  *((intOrPtr*)(__edx + 20));
                }
                _t58 =  *((intOrPtr*)(__edx + 20));
                 *_t58 = _t74;
L7:
                return _t58;
            }
            if(__ecx != 8) {
L6:
                _v32 = __ecx;
                _v36 = "event_queue_remove";
                _t58 = event_errx(1, "%s: unknown queue %x");
                goto L7;
            }
            if(_t72 != 0) {
                 *((intOrPtr*)(__eax + 12)) =  *((intOrPtr*)(__eax + 12)) - 1;
            }
            _t70 =  *((intOrPtr*)(__edx + 8));
            if(_t70 == 0) {
                 *((intOrPtr*)( *((intOrPtr*)( *((intOrPtr*)(__eax + 20)) +  *(__edx + 64) * 4)) + 4)) =  *((intOrPtr*)(__edx + 12));
            } else {
                 *((intOrPtr*)(_t70 + 12)) =  *((intOrPtr*)(__edx + 12));
            }
            _t58 =  *((intOrPtr*)(__edx + 12));
             *_t58 = _t70;
            goto L7;
        }
        if(__ecx == 1) {
            _t58 = event_tree_RB_REMOVE(__eax + 412, __edx);
            goto L7;
        }
        goto L6;
    }
}

signed char event_queue_insert(
    _unknown_ __eax,                       // r0
    intOrPtr __ebx,                        // r1
    signed int __ecx,                      // r2
    signed char __edx,                     // r3
    intOrPtr __edi,                        // r4
    intOrPtr __esi                         // r5
)
{// addr = 0x0804E6B0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v24;                       // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    _unknown_ _v32;                        // _cfa_ffffffe0
    char* _v36;                            // _cfa_ffffffdc
    char* _v40;                            // _cfa_ffffffd8 (outparam)
    signed char _t58;                      // _t58
    signed int _t72;                       // _t72
    intOrPtr _t74;                         // _t74

    __ecx = __ecx;
    _v16 = __ebx;
    _v12 = __esi;
    _v8 = __edi;
    _t58 =  *(__edx + 80);
    if((__ecx & _t58) == 0) {
L4:
        _t72 = 0;
        __eflags = _t58 & 16;
        if((_t58 & 16) == 0) {
             *((intOrPtr*)(__eax + 8)) =  *((intOrPtr*)(__eax + 8)) + 1;
            _t72 = 1;
             *(__edx + 80) =  *(__edx + 80) | __ecx;
            __eflags = __ecx - 2;
            if(__eflags != 0) {
L6:
                if(__eflags <= 0) {
                    __eflags = __ecx - 1;
                    if(__ecx != 1) {
L9:
                        _v32 = __ecx;
                        _v36 = "event_queue_insert";
                        _t58 = event_errx(1, "%s: unknown queue %x");
L2:
                        return _t58;
                    }
                    _t58 = event_tree_RB_INSERT(__eax + 412, __edx);
                    __eflags = _t58;
                    if(_t58 == 0) {
                        goto L2;
                    }
                    _v32 = "event_queue_insert";
                    _v36 = 900;
                    _v40 = "event.c";
                     *__esp = "tmp == ((void *)0)";
                    __assert_fail();
L15:
                     *(__edx + 16) = 0;
                     *((intOrPtr*)(__edx + 20)) =  *((intOrPtr*)(__eax + 32));
                     *((intOrPtr*)( *((intOrPtr*)(__eax + 32)))) = __edx;
                    _t58 = __edx + 16;
                     *((intOrPtr*)(__eax + 32)) = _t58;
                    goto L2;
                }
                __eflags = __ecx - 4;
                if(__ecx == 4) {
                    goto L15;
                }
                __eflags = __ecx - 8;
                if(__ecx == 8) {
                    __eflags = _t72;
                    if(_t72 != 0) {
                        _t45 = __eax + 12;
                         *_t45 =  *(__eax + 12) + 1;
                        __eflags =  *_t45;
                    }
                     *(__edx + 8) = 0;
                    _t74 =  *((intOrPtr*)( *((intOrPtr*)(__eax + 20)) +  *(__edx + 64) * 4));
                     *((intOrPtr*)(__edx + 12)) =  *((intOrPtr*)(_t74 + 4));
                     *((intOrPtr*)( *((intOrPtr*)(_t74 + 4)))) = __edx;
                    _t58 = __edx + 8;
                     *((intOrPtr*)(_t74 + 4)) = _t58;
                    goto L2;
                }
                goto L9;
            }
L11:
             *__edx = 0;
             *((intOrPtr*)(__edx + 4)) =  *(__eax + 400);
            _t58 =  *(__eax + 400);
             *(__eax + 400) = __edx;
             *_t58 = __edx;
            goto L2;
        }
         *(__edx + 80) =  *(__edx + 80) | __ecx;
        __eflags = __ecx - 2;
        if(__eflags == 0) {
            goto L11;
        }
        goto L6;
    }
    if((__ecx & 8) == 0) {
        _v24 = __ecx;
        _v32 = __edx;
        _v36 = "event_queue_insert";
        _v40 = "%s: %p(fd %d) already on queue %x";
        _v28 =  *((intOrPtr*)(__edx + 44));
         *__esp = 1;
        event_errx();
        _t58 =  *(__edx + 80);
        goto L4;
    }
    goto L2;
}

signed int event_active(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    signed char _a4,                       // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804E820
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    _unknown_ _v20;                        // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    signed char _v32;                      // _cfa_ffffffe0
    char* _v36;                            // _cfa_ffffffdc
    char* _v40;                            // _cfa_ffffffd8 (outparam)
    intOrPtr _t69;                         // _t69
    signed char _t70;                      // _t70
    signed char _t83;                      // _t83
    signed int _t84;                       // _t84
    intOrPtr _t86;                         // _t86
    intOrPtr _t88;                         // _t88
    signed char _t91;                      // _t91
    _unknown_ _t93;                        // _t93

    _t83 = _a4;
    _t69 = _a8;
    __ecx = _a12;
    if(( *(_t83 + 80) & 8) == 0) {
         *((intOrPtr*)(_t83 + 76)) = _t69;
        _t69 =  *((intOrPtr*)(_t83 + 40));
         *((short*)(_t83 + 50)) = __cx;
        __ecx = 8;
         *((intOrPtr*)(_t83 + 52)) = 0;
        _pop(__ebp);
        _push(_t93);
        __esp = __esp - 40;
        _v16 = __ebx;
        _v12 = __esi;
        _t91 = _t83;
        _v8 = __edi;
        _t88 = _t69;
        _t70 =  *(_t83 + 80);
        if((8 & _t70) == 0) {
L5:
            _t84 = 0;
            __eflags = _t70 & 16;
            if((_t70 & 16) == 0) {
                 *((intOrPtr*)(_t88 + 8)) =  *((intOrPtr*)(_t88 + 8)) + 1;
                _t84 = 1;
                 *(_t91 + 80) =  *(_t91 + 80) | 8;
                __eflags = 8 - 2;
                if(__eflags != 0) {
                    goto L7;
                } else {
                    goto L12;
                }
            } else {
                 *(_t91 + 80) =  *(_t91 + 80) | 8;
                __eflags = 8 - 2;
                if(__eflags == 0) {
L12:
                     *_t91 = 0;
                     *((intOrPtr*)(_t91 + 4)) =  *(_t88 + 400);
                    _t70 =  *(_t88 + 400);
                     *(_t88 + 400) = _t91;
                     *_t70 = _t91;
                } else {
L7:
                    if(__eflags <= 0) {
                        __eflags = 8 - 1;
                        if(8 != 1) {
                            goto L10;
                        } else {
                            _t70 = event_tree_RB_INSERT(_t88 + 412, _t91);
                            __eflags = _t70;
                            if(_t70 != 0) {
                                _v32 = "event_queue_insert";
                                _v36 = 900;
                                _v40 = "event.c";
                                 *__esp = "tmp == ((void *)0)";
                                __assert_fail();
                                goto L16;
                            }
                        }
                    } else {
                        __eflags = 8 - 4;
                        if(8 == 4) {
L16:
                             *(_t91 + 16) = 0;
                             *((intOrPtr*)(_t91 + 20)) =  *((intOrPtr*)(_t88 + 32));
                             *((intOrPtr*)( *((intOrPtr*)(_t88 + 32)))) = _t91;
                            _t70 = _t91 + 16;
                             *((intOrPtr*)(_t88 + 32)) = _t70;
                        } else {
                            __eflags = 8 - 8;
                            if(8 == 8) {
                                __eflags = _t84;
                                if(_t84 != 0) {
                                    _t51 = _t88 + 12;
                                     *_t51 =  *(_t88 + 12) + 1;
                                    __eflags =  *_t51;
                                }
                                 *(_t91 + 8) = 0;
                                _t86 =  *((intOrPtr*)( *((intOrPtr*)(_t88 + 20)) +  *(_t91 + 64) * 4));
                                 *((intOrPtr*)(_t91 + 12)) =  *((intOrPtr*)(_t86 + 4));
                                 *((intOrPtr*)( *((intOrPtr*)(_t86 + 4)))) = _t91;
                                _t70 = _t91 + 8;
                                 *((intOrPtr*)(_t86 + 4)) = _t70;
                            } else {
L10:
                                _v32 = 8;
                                _v36 = "event_queue_insert";
                                _t70 = event_errx(1, "%s: unknown queue %x");
                            }
                        }
                    }
                }
            }
        } else {
            if(8 == 0) {
                _v24 = 8;
                _v32 = _t83;
                _v36 = "event_queue_insert";
                _v40 = "%s: %p(fd %d) already on queue %x";
                _v28 =  *((intOrPtr*)(_t83 + 44));
                 *__esp = 1;
                event_errx();
                _t70 =  *(_t91 + 80);
                goto L5;
            }
        }
        return _t70;
    } else {
        _t63 = __edx + 76;
         *_t63 =  *(__edx + 76) | __eax;
        __eflags =  *_t63;
        return __eax;
    }
}

event_del(
    signed int __ebx,                      // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804E860
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    signed int _v16;                       // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    char* _v32;                            // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    char* _v40;                            // _cfa_ffffffd8
    short _v84;                            // _cfa_ffffffac (outparam)
    intOrPtr _t44;                         // _t44
    struct timespec _t45;   // _t45
    intOrPtr _t46;                         // _t46
    short* _t53;                           // _t53
    struct timespec* _t58;   // _t58
    long int _t60;                         // _t60
    _unknown_ _t64;                        // _t64
    signed int _t66;                       // _t66
    intOrPtr _t67;                         // _t67
    long int _t79;                         // _t79
    intOrPtr _t81;                         // _t81
    _unknown_ _t83;                        // _t83

    _t44 = -1;
    _v12 = __esi;
    _t81 = _a4;
    _v16 = __ebx;
    _v8 = __edi;
    _t58 =  *(_t81 + 40);
    if(_t58 == 0) {
L7:
        return _t44;
    } else {
        _t66 =  *(_t81 + 80);
        _t45 =  *_t58;
        _t79 = _t58->tv_nsec;
        _v20 = _t45;
        if((_t66 & -61600) != 0) {
            _v32 = "event_del";
            _v36 = 702;
            _v40 = "event.c";
             *__esp = "!(ev->ev_flags & ~(0xf000 | 0x9f))";
            __assert_fail();
            _push(_t83);
            _push(_t58);
            _t60 = _t45;
            __esp = __esp - 36;
            _t46 = use_monotonic;
            if(_t46 != 0) {
                __eax = clock_gettime(1,  &_v20);
                _t67 = -1;
                if( &(( &_v20)[0]) != 0) {
                    _t61 = _v16;
                     *_t60 = _v20;
                     *((intOrPtr*)(_t60 + 4)) = (_v16 * 274877907 >> 32 >> 6) - (_t61 >> 31);
                    _t67 = 0;
                }
            } else {
                _v84 = 0;
                 *__esp = _t60;
                gettimeofday();
                _t67 = _t46;
            }
            __esp =  &(__esp[9]);
            _pop(__ebx);
            return _t67;
        } else {
            if( *((short*)(_t81 + 50)) != 0) {
                _t53 =  *((intOrPtr*)(_t81 + 52));
                if(_t53 == 0) {
                    goto L3;
                } else {
                     *_t53 = 0;
                    if((_t66 & 1) == 0) {
                        goto L4;
                    } else {
                        goto L12;
                    }
                }
                goto L21;
            } else {
L3:
                if((_t66 & 1) != 0) {
L12:
                    event_queue_remove(_t58, _t58, 1, _t81, _t79, _t81);
                    _t66 =  *(_t81 + 80);
                    if((_t66 & 8) == 0) {
                        goto L5;
                    } else {
                        goto L14;
                    }
                    goto L21;
                } else {
L4:
                    if((_t66 & 8) != 0) {
L14:
                        event_queue_remove(_t58, _t58, 8, _t81, _t79, _t81);
                        _t66 =  *(_t81 + 80);
                    }
                }
            }
L5:
            _t64 = 2;
            if((_t66 & 2) != 0) {
L9:
                _t44 = event_queue_remove(_t58, _t58, _t64, _t81, _t79, _t81);
                _v40 = _t81;
                 *__esp = _t79;
                 *((intOrPtr*)(_v20 + 12))();
            } else {
                _t44 = 0;
                if((_t66 & 4) != 0) {
                    _t64 = 4;
                    goto L9;
                }
            }
            goto L7;
        }
    }
L21:
}

gettime(
    intOrPtr* __eax                        // r0
)
{// addr = 0x0804E950
    signed int _v12;                       // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v40;                         // _cfa_ffffffd8 (outparam)
    intOrPtr _t12;                         // _t12
    int _t14;                              // _t14
    intOrPtr _t22;                         // _t22

    _t12 = use_monotonic;
    if(_t12 != 0) {
        _t14 = clock_gettime(1,  &_v16);
        _t22 = -1;
        if(_t14 + 1 != 0) {
            _t20 = _v12;
             *__eax = _v16;
             *((intOrPtr*)(__eax + 4)) = (_v12 * 274877907 >> 32 >> 6) - (_t20 >> 31);
            _t22 = 0;
        }
    } else {
        _v40 = 0;
         *__esp = __eax;
        gettimeofday();
        _t22 = _t12;
    }
    return _t22;
}

signed int event_add(
    _unknown_ __ebx,                       // r1
    _unknown_ __edi,                       // r4
    _unknown_ __esi,                       // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr* _a8                          // _cfa_8
)
{// addr = 0x0804E9C0
    intOrPtr _v0;                          // _cfa_0
    _unknown_ _v12;                        // _cfa_fffffff4
    _unknown_ _v16;                        // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    char _v24;                             // _cfa_ffffffe8
    char _v28;                             // _cfa_ffffffe4
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    char* _v48;                            // _cfa_ffffffd0
    signed short _v52;                     // _cfa_ffffffcc
    char* _v56;                            // _cfa_ffffffc8
    intOrPtr* _v68;                        // _cfa_ffffffbc
    intOrPtr _v72;                         // _cfa_ffffffb8
    intOrPtr _v76;                         // _cfa_ffffffb4
    intOrPtr _v100;                        // _cfa_ffffff9c
    signed char _t90;                      // _t90
    signed char _t91;                      // _t91
    intOrPtr _t99;                         // _t99
    intOrPtr _t101;                        // _t101
    intOrPtr _t105;                        // _t105
    signed char _t106;                     // _t106
    intOrPtr _t110;                        // _t110
    intOrPtr _t117;                        // _t117
    _unknown_ _t122;                       // _t122
    intOrPtr _t124;                        // _t124
    _unknown_ _t127;                       // _t127
    intOrPtr _t129;                        // _t129
    _unknown_ _t132;                       // _t132
    signed int _t137;                      // _t137
    intOrPtr* _t138;                       // _t138
    intOrPtr* _t145;                       // _t145
    signed int _t146;                      // _t146
    intOrPtr* _t150;                       // _t150
    signed int _t151;                      // _t151
    _unknown_ _t154;                       // _t154

    _push(__edi);
    _push(__esi);
    _push(__ebx);
    __esp = __esp - 44;
    _t124 = _a4;
    _t145 = _a8;
    _t150 =  *((intOrPtr*)(_t124 + 40));
    _v40 =  *_t150;
    _t90 =  *(_t124 + 80);
    _v36 =  *((intOrPtr*)(_t150 + 4));
    if((_t90 & -61600) != 0) {
        _v48 = "event_add";
        _v52 = 635;
        _v56 = "event.c";
         *__esp = "!(ev->ev_flags & ~(0xf000 | 0x9f))";
        __assert_fail();
        _push(_t154);
        __esp = __esp - 40;
        _t129 = _v56;
        _v68 = _t145;
        _t146 = 0;
        _t137 = _v52 & 65535;
        _v76 = _t124;
        _v72 = _t150;
        _t91 =  *(_t129 + 80);
        if((_t91 & 2) != 0) {
            _t146 =  *(_t129 + 48) & 6;
        }
        if((_t91 & 8) != 0) {
            _t146 = _t146 |  *(_v0 + 76);
        }
        if((_t91 & 1) != 0) {
            _t146 = _t146 | 1;
        }
        if((_t91 & 4) != 0) {
            _t146 = _t146 | 8;
        }
        _t151 = _t137 & 15;
        if(_a8 != 0 && (_t151 & 1 & _t146) != 0) {
            gettime( &_v28);
            _t99 = _v0;
            _t127 =  *((intOrPtr*)(_t99 + 56)) - _v28;
            _t101 =  *((intOrPtr*)(_t99 + 60)) - _v24;
            _v40 = _t101;
            if(_t101 < 0) {
                _t127 = _t127 - 1;
                _v40 = _t101 + 1000000;
            }
            _v100 = 0;
             *__esp =  &_v28;
            gettimeofday();
            _t138 = _a8;
             *_a8 = _t127 + _v28;
            _t105 = _v40 + _v24;
            _t138[1] = _t105;
            if(_t105 > 999999) {
                 *_t138 =  *_t138 + 1;
                _t138[1] = _t138[1] - 1000000;
            }
        }
        return _t151 & _t146;
    } else {
        if(_t145 != 0) {
            if((_t90 & 1) != 0) {
                event_queue_remove(_t150, _t124, 1, _t124, _t145, _t150);
                _t90 =  *(_t124 + 80);
            }
            if((_t90 & 8) != 0 && ( *(_t124 + 76) & 1) != 0) {
                event_queue_remove(_t150, _t124, 8, _t124, _t145, _t150);
            }
            gettime( &_v24);
             *((intOrPtr*)(_t124 + 56)) = _v24 +  *_t145;
            _t117 = _v20 + _t145[1];
             *((intOrPtr*)(_t124 + 60)) = _t117;
            if(_t117 > 999999) {
                 *((intOrPtr*)(_t124 + 56)) =  *((intOrPtr*)(_t124 + 56)) + 1;
                 *((intOrPtr*)(_t124 + 60)) =  *((intOrPtr*)(_t124 + 60)) - 1000000;
            }
            event_queue_insert(_t150, _t124, 1, _t124, _t145, _t150);
        }
        _t106 =  *((short*)(_t124 + 48));
        if((_t106 & 6) != 0) {
            _t132 = 2;
            if(( *(_t124 + 80) & 10) != 0) {
                goto L12;
            } else {
                goto L19;
            }
        } else {
L12:
            if((_t106 & 8) == 0 || ( *(_t124 + 80) & 4) != 0) {
                __esp = __esp + 44;
                _pop(__ebx);
                _pop(__esi);
                _pop(__edi);
                return 0;
            } else {
                _t132 = 4;
L19:
                event_queue_insert(_t150, _t124, _t132, _t124, _t145, _t150);
                _v56 = _t124;
                _t110 = _v36;
                 *__esp = _t110;
                 *((intOrPtr*)(_v40 + 8))();
                __esp = __esp + 44;
                _pop(__ebx);
                _pop(__esi);
                _pop(__edi);
                return _t110;
            }
        }
    }
}

signed int event_pending(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    signed short _a8,                      // _cfa_8
    intOrPtr* _a12                         // _cfa_c
)
{// addr = 0x0804EAF0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    char _v24;                             // _cfa_ffffffe8
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    signed char _t42;                      // _t42
    intOrPtr _t51;                         // _t51
    intOrPtr _t53;                         // _t53
    intOrPtr _t57;                         // _t57
    _unknown_ _t61;                        // _t61
    intOrPtr _t63;                         // _t63
    signed int _t66;                       // _t66
    intOrPtr* _t67;                        // _t67
    signed int _t69;                       // _t69
    signed int _t73;                       // _t73

    _t63 = _a4;
    _v8 = __edi;
    _t69 = 0;
    _t66 = _a8 & 65535;
    _v16 = __ebx;
    _v12 = __esi;
    _t42 =  *(_t63 + 80);
    if((_t42 & 2) != 0) {
        _t69 =  *(_t63 + 48) & 6;
    }
    if((_t42 & 8) != 0) {
        _t69 = _t69 |  *(_a4 + 76);
    }
    if((_t42 & 1) != 0) {
        _t69 = _t69 | 1;
    }
    if((_t42 & 4) != 0) {
        _t69 = _t69 | 8;
    }
    _t73 = _t66 & 15;
    if(_a12 != 0 && (_t73 & 1 & _t69) != 0) {
        gettime( &_v24);
        _t51 = _a4;
        _t61 =  *((intOrPtr*)(_t51 + 56)) - _v24;
        _t53 =  *((intOrPtr*)(_t51 + 60)) - _v20;
        _v36 = _t53;
        if(_t53 < 0) {
            _t61 = _t61 - 1;
            _v36 = _t53 + 1000000;
        }
        _v40 = 0;
         *__esp =  &_v24;
        gettimeofday();
        _t67 = _a12;
         *_a12 = _t61 + _v24;
        _t57 = _v36 + _v20;
        _t67[1] = _t57;
        if(_t57 > 999999) {
             *_t67 =  *_t67 + 1;
            _t67[1] = _t67[1] - 1000000;
        }
    }
    return _t73 & _t69;
}

event_base_once(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    signed short _a12,                     // _cfa_c
    intOrPtr _a16,                         // _cfa_10
    intOrPtr _a20,                         // _cfa_14
    char* _a24                             // _cfa_18
)
{// addr = 0x0804EBC0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    short _v20;                            // _cfa_ffffffec
    char _v24;                             // _cfa_ffffffe8
    _unknown_ _v44;                        // _cfa_ffffffd4 (outparam)
    _unknown_ _v48;                        // _cfa_ffffffd0 (outparam)
    _unknown_ _v52;                        // _cfa_ffffffcc (outparam)
    intOrPtr _v56;                         // _cfa_ffffffc8 (outparam)
    void* _t33;           // _t33
    signed int _t41;                       // _t41
    signed int _t43;                       // _t43
    signed int _t49;                       // _t49
    signed int _t50;                       // _t50
    void* _t53;           // _t53
    signed int _t56;                       // _t56

    _v16 = __ebx;
    _t49 = _a12 & 65535;
    _v12 = __esi;
    _v8 = __edi;
    _t56 = _t49;
    if((_t56 & 8) == 0) {
        _t33 = calloc(1, 92);
        _t53 = _t33;
        if(_t33 == 0) {
            goto L1;
        }
         *((intOrPtr*)(_t53 + 84)) = _a16;
         *((intOrPtr*)(_t53 + 88)) = _a20;
        if(_t49 == 1) {
            if(_a24 == 0) {
                _v20 = 0;
                _v24 = 0;
                _a24 =  &_v24;
            }
            event_set(_t53, -1, 0, event_once_cb, _t53);
L7:
            _t41 = event_base_set(_a4, _t53);
            _t50 = _t41;
            if(_t41 != 0) {
L9:
                free(_t53);
L2:
                return _t50;
            }
             *__esp = _t53;
            _v56 = _a24;
            _t43 = event_add(_t50, _t53, _t56);
            _t50 = _t43;
            if(_t43 == 0) {
                goto L2;
            }
            goto L9;
        }
        if(_t56 == 0) {
             *__esp = _t53;
            _t50 = -1;
            free();
            goto L2;
        }
        event_set(_t53, _a8, _t49 & 6, event_once_cb, _t53);
        goto L7;
    }
L1:
    _t50 = -1;
    goto L2;
}

event_once(
    intOrPtr _a4,                          // _cfa_4
    short _a8,                             // _cfa_8
    intOrPtr _a12,                         // _cfa_c
    intOrPtr _a16,                         // _cfa_10
    char* _a20                             // _cfa_14
)
{// addr = 0x0804ECE0
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)
    _unknown_ _v12;                        // _cfa_fffffff4 (outparam)
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)

    return event_base_once(__ebx, __edi, __esi, current_base, _a4, _a8, _a12, _a16, _a20);
}

event_loopexit(
    char* _a4                              // _cfa_4
)
{// addr = 0x0804ED20
    _unknown_ _v12;                        // _cfa_fffffff4 (outparam)
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)

    return event_once(-1, 1, event_loopexit_cb, current_base, _a4);
}

event_base_loopexit(
    intOrPtr _a4,                          // _cfa_4
    char* _a8                              // _cfa_8
)
{// addr = 0x0804ED60
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)
    _unknown_ _v12;                        // _cfa_fffffff4 (outparam)
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)

    return event_base_once(__ebx, __edi, __esi, _a4, -1, 1, event_loopexit_cb, _t8, _a8);
}

intOrPtr event_once_cb(
    intOrPtr _a4,                          // _cfa_4
    short _a8,                             // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804EDA0
    intOrPtr _v20;                         // _cfa_ffffffec
    short _v24;                            // _cfa_ffffffe8

    __ebx = _a12;
    _v24 = _a8;
    _v20 =  *((intOrPtr*)(__ebx + 88));
     *__esp = _a4;
     *((intOrPtr*)(__ebx + 84))();
    _a4 = __ebx;
    __esp = __esp + 20;
    _pop(__ebx);
    _pop(__ebp);
    goto __imp__free;
}

event_base_free(
    signed int __ebx,                      // r1
    signed int _a4                         // _cfa_4
)
{// addr = 0x0804EDD0
    signed int _v0;                        // _cfa_0
    char* _v16;                            // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    signed int _v22;                       // _cfa_ffffffea
    _unknown_ _v24;                        // _cfa_ffffffe8
    signed int _v28;                       // _cfa_ffffffe4
    char _v32;                             // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    char* _v56;                            // _cfa_ffffffc8
    intOrPtr _v60;                         // _cfa_ffffffc4
    signed int _v64;                       // _cfa_ffffffc0
    intOrPtr _v80;                         // _cfa_ffffffb0
    intOrPtr _v84;                         // _cfa_ffffffac
    char* _v92;                            // _cfa_ffffffa4
    char* _v96;                            // _cfa_ffffffa0
    char* _v100;                           // _cfa_ffffff9c (outparam)
    intOrPtr _v112;                        // _cfa_ffffff90
    signed int _t151;                      // _t151
    signed int _t158;                      // _t158
    signed int _t165;                      // _t165
    signed int _t166;                      // _t166
    signed int _t167;                      // _t167
    signed int _t168;                      // _t168
    signed int _t169;                      // _t169
    signed int _t171;                      // _t171
    signed int _t179;                      // _t179
    signed short _t181;                    // _t181
    signed int _t188;                      // _t188
    signed int _t190;                      // _t190
    signed int _t198;                      // _t198
    signed int _t200;                      // _t200
    signed int _t201;                      // _t201
    char* _t202;                           // _t202
    signed int _t206;                      // _t206
    signed int _t214;                      // _t214
    intOrPtr _t215;                        // _t215
    signed int _t217;                      // _t217
    signed int _t218;                      // _t218
    signed int _t224;                      // _t224
    intOrPtr* _t227;                       // _t227
    signed int _t233;                      // _t233
    char* _t235;                           // _t235
    signed int _t237;                      // _t237
    signed int* _t238;                     // _t238
    intOrPtr _t243;                        // _t243
    signed int _t245;                      // _t245
    signed int _t246;                      // _t246
    _unknown_ _t247;                       // _t247
    _unknown_ _t250;                       // _t250
    signed int* _t251;                     // _t251

    _t212 = __ebx;
    _push(_t247);
    _push(__ebx);
    __esp = __esp - 16;
    _t248 = _a4;
    if(_t248 == 0) {
        _t151 = current_base;
        __eflags = _t151;
        if(_t151 != 0) {
            _t248 = _t151;
        }
        goto L17;
    } else {
        if(_t248 == current_base) {
L17:
            __eflags = _t248;
            current_base = 0;
            if(_t248 != 0) {
                goto L3;
            } else {
                _v16 = "event_base_free";
                _v20 = 235;
                _v24 = "event.c";
                 *__esp = "base";
                __assert_fail();
                goto L19;
            }
        } else {
L3:
            _t227 =  *((intOrPtr*)( *_t248 + 24));
            if(_t227 != 0) {
                 *__esp = _t248;
                _v24 =  *((intOrPtr*)(_t248 + 4));
                 *_t227();
            }
            _t214 =  *(_t248 + 24);
            if(_t214 <= 0) {
L10:
                __eflags =  *(_t248 + 412);
                if( *(_t248 + 412) == 0) {
                    _t212 = 0;
                    __eflags = _t214;
                    if(_t214 > 0) {
                        do {
                            _t206 =  *( *(_t248 + 20) + _t212 * 4);
                            _t212 =  &(1[_t212]);
                             *__esp = _t206;
                            L1();
                            __eflags =  *(_t248 + 24) - _t212;
                        } while( *(_t248 + 24) > _t212);
                    }
                     *__esp =  *(_t248 + 20);
                    L1();
                    __eflags =  *(_t248 + 396);
                    if( *(_t248 + 396) == 0) {
                        _a4 = _t248;
                        __esp =  &(__esp[4]);
                        _pop(__ebx);
                        _pop(__esi);
                        _pop(__ebp);
                        goto __imp__free;
                    }
                    goto L20;
                }
            } else {
                _t212 =  *(_t248 + 20);
                _t246 = 0;
                if( *((intOrPtr*)( *_t212)) == 0) {
                    while(1) {
                        _t246 =  &(1[_t246]);
                        __eflags = _t246 - _t214;
                        if(_t246 == _t214) {
                            goto L10;
                        }
                        __eflags =  *( *(_t212 + _t246 * 4));
                        if( *( *(_t212 + _t246 * 4)) != 0) {
                            goto L19;
                        } else {
                            continue;
                        }
                        goto L21;
                    }
                    goto L10;
                } else {
L19:
                    _v16 = "event_base_free";
                    _v20 = 239;
                    _v24 = "event.c";
                     *__esp = "(((base->activequeues[i])->tqh_first) == ((void *)0))";
                    __assert_fail();
L20:
                    _v16 = "event_base_free";
                    _v20 = 247;
                    _v24 = "event.c";
                     *__esp = "(((&base->eventqueue)->tqh_first) == ((void *)0))";
                    __assert_fail();
                }
            }
        }
    }
L21:
    _v16 = "event_base_free";
    _v20 = 241;
    _v24 = "event.c";
     *__esp = "((&base->timetree)->rbh_root == ((void *)0))";
    __assert_fail();
    _push(_t250);
    _t251 = __esp;
    _push(__edi);
    _push(_t248);
    _push(_t212);
    __esp = __esp - 60;
    _t215 = _v24;
    _v80 =  *((intOrPtr*)(_v24 + 4));
    _v84 =  *_v24;
    if( *((intOrPtr*)(_t215 + 28)) != 0) {
        evsignal_base = _t215;
    }
    _v64 = _v0 + 412;
    while(1) {
L25:
        _t158 =  *(_v60 + 16);
        _v96 = 0;
        _v100 = _v56;
         *__esp = _v0;
         *_t158();
        if( &(1[_t158]) == 0) {
            break;
        }
        _t217 = _v0;
        if( *(_t217 + 16) != 0) {
             *(_t217 + 16) = 0;
            goto L32;
        } else {
            while(event_gotsig != 0) {
                _t201 = event_sigcb;
                event_gotsig = 0;
                if(_t201 == 0) {
                    continue;
                } else {
                     *_t201();
                    _t202 =  &(1[_t201]);
                    if(_t202 != 0) {
                        continue;
                    } else {
                        __errno_location();
                         *_t202 = 4;
L32:
                        __esp =  &(__esp[0xf]);
                        _pop(__ebx);
                        _pop(__esi);
                        _pop(__edi);
                        return;
                    }
                }
                goto L93;
            }
            __eflags = use_monotonic;
            if(use_monotonic == 0) {
                gettime( &_v32);
                _t165 = _v0;
                _t218 = _v32;
                _t212 =  *(_t165 + 404);
                __eflags = _t218 - _t212;
                if(__eflags == 0) {
L82:
                    _t233 = _v28;
                    __eflags = _t233 -  *((intOrPtr*)(_t165 + 408));
                    _t166 = _t233 -  *((intOrPtr*)(_t165 + 408)) >= 0;
                } else {
                    _t233 = _v28;
                    _t166 = __eflags >= 0;
                    __eflags = _t166;
                }
                __eflags = _t166;
                if(_t166 != 0) {
L80:
                    _t167 = _v0;
                     *(_t167 + 408) = _t233;
                     *(_t167 + 404) = _t218;
                } else {
                    _t248 = _t212 - _t218;
                    _t212 =  *((intOrPtr*)(_v0 + 408)) - _t233;
                    __eflags = _t212;
                    if(_t212 < 0) {
                        _t248 = _t248 - 1;
                        _t212 = _t212 + 1000000;
                    }
                    _v100 = -1;
                    _t198 = _v64;
                     *__esp = _t198;
                    event_tree_RB_MINMAX();
                    __eflags = _t198;
                    _t245 = _t198;
                    if(_t198 != 0) {
                        do {
                             *(_t245 + 56) =  *(_t245 + 56) - _t248;
                            _t200 =  *(_t245 + 60) - _t212;
                            __eflags = _t200;
                             *(_t245 + 60) = _t200;
                            if(_t200 < 0) {
                                 *(_t245 + 56) =  *(_t245 + 56) - 1;
                                 *(_t245 + 60) =  *(_t245 + 60) + 1000000;
                            }
                            event_tree_RB_NEXT(_t245);
                            __eflags = _t200;
                            _t245 = _t200;
                        } while(_t200 != 0);
                    } else {
                    }
                }
            }
            _t168 =  *(_v0 + 12);
            __eflags = _t168;
            if(_t168 != 0) {
L36:
                _v28 = 0;
                _v32 = 0;
                goto L37;
            } else {
                __eflags = _a4 & 2;
                if((_a4 & 2) == 0) {
                    event_tree_RB_MINMAX(_v64, -1);
                    _t235 = 0;
                    __eflags = _t168;
                    _t212 = _t168;
                    if(_t168 == 0) {
L38:
                        _t169 = _v0;
                        __eflags =  *(_t169 + 8);
                        if( *(_t169 + 8) <= 0) {
                            goto L32;
                        } else {
                            _t171 =  *(_v60 + 20);
                            _v96 = _t235;
                            _v100 = _v56;
                             *__esp = _v0;
                             *_t171();
                            __eflags =  &(1[_t171]);
                            if( &(1[_t171]) == 0) {
                                break;
                            } else {
                                gettime( &_v40);
                                _v100 = -1;
                                _t165 = _v64;
                                 *__esp = _t165;
                                event_tree_RB_MINMAX();
                                __eflags = _t165;
                                _t212 = _t165;
                                if(_t165 != 0) {
                                    while(1) {
                                        __eflags =  *(_t212 + 56) - _v40;
                                        if(__eflags != 0) {
                                            goto L42;
                                        }
L46:
                                        __eflags =  *((intOrPtr*)(_t212 + 60)) - _v36;
                                        _t165 =  *((intOrPtr*)(_t212 + 60)) - _v36 > 0;
                                        __eflags = _t165;
                                        if(_t165 == 0) {
L43:
                                            event_tree_RB_NEXT(_t212);
                                            _t248 = _t165;
                                            _t165 = _v0;
                                            event_queue_remove(_t165, _t212, 1, _t212, __edi, _t248);
                                            event_del(_t212, __edi, _t248, _t212);
                                            _v96 = 1;
                                            event_active(_t212, __edi, _t248, _t212, 1);
                                            __eflags = _t248;
                                            if(_t248 != 0) {
                                                _t212 = _t248;
                                                __eflags =  *(_t212 + 56) - _v40;
                                                if(__eflags != 0) {
                                                    goto L42;
                                                }
                                            }
                                        }
                                        goto L47;
L42:
                                        _t165 = __eflags > 0;
                                        __eflags = _t165;
                                        if(_t165 == 0) {
                                            goto L43;
                                        }
                                        goto L47;
                                    }
                                } else {
                                }
L47:
                                _t237 = _v0;
                                __edi =  *(_t237 + 12);
                                __eflags = __edi;
                                if(__edi == 0) {
                                    __eflags = _a4 & 2;
                                    if((_a4 & 2) == 0) {
                                        continue;
                                    } else {
                                        goto L59;
                                    }
                                } else {
                                    _t218 =  *(_t237 + 24);
                                    __eflags = _t218;
                                    if(_t218 <= 0) {
L81:
                                        _v92 = "event_process_active";
                                        _v96 = 320;
                                        _v100 = "event.c";
                                         *__esp = "activeq != ((void *)0)";
                                        __assert_fail();
                                        goto L82;
                                    } else {
                                        _t238 =  *(_t237 + 20);
                                        __edi =  *_t238;
                                        _t248 =  *__edi;
                                        __eflags =  *__edi;
                                        if( *__edi != 0) {
L52:
                                            _t248 =  *__edi;
                                            do {
                                                event_queue_remove(_v0, _t212, 8, _t248, __edi, _t248);
                                                 *(_t248 + 52) =  &_v22;
                                                _v22 =  *(_t248 + 50) & 65535;
                                                while(1) {
                                                    _t179 = _v22 & 65535;
                                                    __eflags = _t179;
                                                    if(_t179 == 0) {
                                                        goto L83;
                                                    }
                                                    _t181 = _t179 - 1;
                                                    _v22 = _t181;
                                                     *(_t248 + 50) = _t181;
                                                    _t212 =  *(_t248 + 68);
                                                    _v100 =  *((short*)(_t248 + 76));
                                                     *__esp =  *(_t248 + 44);
                                                    _v96 =  *(_t248 + 72);
                                                     *( *(_t248 + 68))();
                                                    __eflags = event_gotsig;
                                                    if(event_gotsig == 0) {
                                                        continue;
                                                    }
L56:
                                                    _t224 = _v0;
                                                    __eflags =  *(_t224 + 12);
                                                    if( *(_t224 + 12) != 0) {
                                                        goto L25;
                                                    } else {
                                                        __eflags = _a4 & 1;
                                                        if((_a4 & 1) == 0) {
                                                            goto L25;
                                                        } else {
                                                            __eflags = 0;
L59:
                                                            __esp =  &(__esp[0xf]);
                                                            _pop(__ebx);
                                                            _pop(__esi);
                                                            _pop(__edi);
                                                            return;
                                                        }
                                                    }
                                                    goto L93;
                                                }
L83:
                                                _t248 =  *__edi;
                                                __eflags = _t248;
                                            } while(_t248 != 0);
                                            goto L56;
                                        } else {
                                            while(1) {
                                                _t165 = 1;
                                                __eflags = _t165 - _t218;
                                                if(_t165 == _t218) {
                                                    goto L81;
                                                }
                                                __edi = _t238[_t165];
                                                _t212 =  *__edi;
                                                __eflags = _t212;
                                                if(_t212 == 0) {
                                                    continue;
                                                } else {
                                                    goto L52;
                                                }
                                                goto L93;
                                            }
                                            goto L81;
                                        }
                                    }
                                }
                            }
                        }
                    } else {
                        gettime( &_v40);
                        _t235 =  &_v32;
                        __eflags =  &(1[(signed int)( &_v40)]);
                        if( &(1[(signed int)( &_v40)]) == 0) {
                            goto L38;
                        } else {
                            _t218 =  *(_t212 + 56);
                            _t243 = _v40;
                            __eflags = _t218 - _t243;
                            if(__eflags == 0) {
                                __eflags =  *((intOrPtr*)(_t212 + 60)) - _v36;
                                _t188 =  *((intOrPtr*)(_t212 + 60)) - _v36 <= 0;
                            } else {
                                _t188 = __eflags <= 0;
                                __eflags = _t188;
                            }
                            __eflags = _t188;
                            if(_t188 != 0) {
                                goto L36;
                            } else {
                                _t190 = _t218 - _t243;
                                _t233 =  *((intOrPtr*)(_t212 + 60)) - _v36;
                                _v32 = _t190;
                                __eflags = _t233;
                                _v28 = _t233;
                                if(_t233 < 0) {
                                    _v32 = _t190 - 1;
                                    _v28 = _t233 + 1000000;
                                }
                                __eflags = _v32;
                                if(_v32 < 0) {
                                    _v92 = "timeout_next";
                                    _v96 = 765;
                                    _v100 = "event.c";
                                     *__esp = "tv->tv_sec >= 0";
                                    __assert_fail();
                                    _push(_t251);
                                    __esp = __esp - 8;
                                    _v112 = _v100;
                                     *__esp = current_base;
                                    L22();
                                    return;
                                } else {
                                    __eflags = _v28;
                                    if(_v28 >= 0) {
L37:
                                        _t235 =  &_v32;
                                        goto L38;
                                    } else {
                                        _v92 = "timeout_next";
                                        _v96 = 766;
                                        _v100 = "event.c";
                                         *__esp = "tv->tv_usec >= 0";
                                        __assert_fail();
                                        goto L80;
                                    }
                                }
                            }
                        }
                    }
                } else {
                    goto L36;
                }
            }
        }
L93:
    }
    goto L32;
}

event_base_loop(
    signed int __ebx,                      // r1
    signed int _a4,                        // _cfa_4
    signed int _a8                         // _cfa_8
)
{// addr = 0x0804EF30
    signed int _v18;                       // _cfa_ffffffee
    signed int _v24;                       // _cfa_ffffffe8
    char _v28;                             // _cfa_ffffffe4
    intOrPtr _v32;                         // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    char* _v52;                            // _cfa_ffffffcc
    intOrPtr _v56;                         // _cfa_ffffffc8
    signed int _v60;                       // _cfa_ffffffc4
    char* _v64;                            // _cfa_ffffffc0
    char* _v68;                            // _cfa_ffffffbc
    char* _v72;                            // _cfa_ffffffb8
    _unknown_ _v84;                        // _cfa_ffffffac (outparam)
    signed int _t127;                      // _t127
    signed int _t134;                      // _t134
    signed int _t135;                      // _t135
    signed int _t136;                      // _t136
    signed int _t137;                      // _t137
    signed int _t138;                      // _t138
    signed int _t140;                      // _t140
    signed int _t148;                      // _t148
    signed short _t150;                    // _t150
    signed int _t157;                      // _t157
    signed int _t159;                      // _t159
    signed int _t167;                      // _t167
    signed int _t169;                      // _t169
    signed int _t170;                      // _t170
    char* _t171;                           // _t171
    signed int _t174;                      // _t174
    signed int _t176;                      // _t176
    signed int _t177;                      // _t177
    signed int _t183;                      // _t183
    signed int _t191;                      // _t191
    char* _t193;                           // _t193
    signed int _t195;                      // _t195
    signed int* _t196;                     // _t196
    intOrPtr _t201;                        // _t201
    signed int _t203;                      // _t203
    _unknown_ _t206;                       // _t206

    _t172 = __ebx;
    _push(__edi);
    _push(_t204);
    _push(__ebx);
    __esp = __esp - 60;
    _t174 = _a4;
    _v52 =  *((intOrPtr*)(_a4 + 4));
    _v56 =  *_a4;
    if( *((intOrPtr*)(_t174 + 28)) != 0) {
        evsignal_base = _t174;
    }
    _v60 = _a4 + 412;
    while(1) {
L3:
        _t127 =  *(_v56 + 16);
        _v68 = 0;
        _v72 = _v52;
         *__esp = _a4;
         *_t127();
        if( &(1[_t127]) == 0) {
            break;
        }
        _t176 = _a4;
        if( *(_t176 + 16) != 0) {
             *(_t176 + 16) = 0;
            goto L10;
        } else {
            while(event_gotsig != 0) {
                _t170 = event_sigcb;
                event_gotsig = 0;
                if(_t170 == 0) {
                    continue;
                } else {
                     *_t170();
                    _t171 =  &(1[_t170]);
                    if(_t171 != 0) {
                        continue;
                    } else {
                        __errno_location();
                         *_t171 = 4;
L10:
                        __esp =  &(__esp[0xf]);
                        _pop(__ebx);
                        _pop(__esi);
                        _pop(__edi);
                        return;
                    }
                }
                goto L71;
            }
            __eflags = use_monotonic;
            if(use_monotonic == 0) {
                gettime( &_v28);
                _t134 = _a4;
                _t177 = _v28;
                _t172 =  *(_t134 + 404);
                __eflags = _t177 - _t172;
                if(__eflags == 0) {
L60:
                    _t191 = _v24;
                    __eflags = _t191 -  *((intOrPtr*)(_t134 + 408));
                    _t135 = _t191 -  *((intOrPtr*)(_t134 + 408)) >= 0;
                } else {
                    _t191 = _v24;
                    _t135 = __eflags >= 0;
                    __eflags = _t135;
                }
                __eflags = _t135;
                if(_t135 != 0) {
L58:
                    _t136 = _a4;
                     *(_t136 + 408) = _t191;
                     *(_t136 + 404) = _t177;
                } else {
                    _t204 = _t172 - _t177;
                    _t172 =  *((intOrPtr*)(_a4 + 408)) - _t191;
                    __eflags = _t172;
                    if(_t172 < 0) {
                        _t204 = _t204 - 1;
                        _t172 = _t172 + 1000000;
                    }
                    _v72 = -1;
                    _t167 = _v60;
                     *__esp = _t167;
                    event_tree_RB_MINMAX();
                    __eflags = _t167;
                    _t203 = _t167;
                    if(_t167 != 0) {
                        do {
                             *(_t203 + 56) =  *(_t203 + 56) - _t204;
                            _t169 =  *(_t203 + 60) - _t172;
                            __eflags = _t169;
                             *(_t203 + 60) = _t169;
                            if(_t169 < 0) {
                                 *(_t203 + 56) =  *(_t203 + 56) - 1;
                                 *(_t203 + 60) =  *(_t203 + 60) + 1000000;
                            }
                            event_tree_RB_NEXT(_t203);
                            __eflags = _t169;
                            _t203 = _t169;
                        } while(_t169 != 0);
                    } else {
                    }
                }
            }
            _t137 =  *(_a4 + 12);
            __eflags = _t137;
            if(_t137 != 0) {
L14:
                _v24 = 0;
                _v28 = 0;
                goto L15;
            } else {
                __eflags = _a8 & 2;
                if((_a8 & 2) == 0) {
                    event_tree_RB_MINMAX(_v60, -1);
                    _t193 = 0;
                    __eflags = _t137;
                    _t172 = _t137;
                    if(_t137 == 0) {
L16:
                        _t138 = _a4;
                        __eflags =  *(_t138 + 8);
                        if( *(_t138 + 8) <= 0) {
                            goto L10;
                        } else {
                            _t140 =  *(_v56 + 20);
                            _v68 = _t193;
                            _v72 = _v52;
                             *__esp = _a4;
                             *_t140();
                            __eflags =  &(1[_t140]);
                            if( &(1[_t140]) == 0) {
                                break;
                            } else {
                                gettime( &_v36);
                                _v72 = -1;
                                _t134 = _v60;
                                 *__esp = _t134;
                                event_tree_RB_MINMAX();
                                __eflags = _t134;
                                _t172 = _t134;
                                if(_t134 != 0) {
                                    while(1) {
                                        __eflags =  *(_t172 + 56) - _v36;
                                        if(__eflags != 0) {
                                            goto L20;
                                        }
L24:
                                        __eflags =  *((intOrPtr*)(_t172 + 60)) - _v32;
                                        _t134 =  *((intOrPtr*)(_t172 + 60)) - _v32 > 0;
                                        __eflags = _t134;
                                        if(_t134 == 0) {
L21:
                                            event_tree_RB_NEXT(_t172);
                                            _t204 = _t134;
                                            _t134 = _a4;
                                            event_queue_remove(_t134, _t172, 1, _t172, __edi, _t204);
                                            event_del(_t172, __edi, _t204, _t172);
                                            _v68 = 1;
                                            event_active(_t172, __edi, _t204, _t172, 1);
                                            __eflags = _t204;
                                            if(_t204 != 0) {
                                                _t172 = _t204;
                                                __eflags =  *(_t172 + 56) - _v36;
                                                if(__eflags != 0) {
                                                    goto L20;
                                                }
                                            }
                                        }
                                        goto L25;
L20:
                                        _t134 = __eflags > 0;
                                        __eflags = _t134;
                                        if(_t134 == 0) {
                                            goto L21;
                                        }
                                        goto L25;
                                    }
                                } else {
                                }
L25:
                                _t195 = _a4;
                                __edi =  *(_t195 + 12);
                                __eflags = __edi;
                                if(__edi == 0) {
                                    __eflags = _a8 & 2;
                                    if((_a8 & 2) == 0) {
                                        continue;
                                    } else {
                                        goto L37;
                                    }
                                } else {
                                    _t177 =  *(_t195 + 24);
                                    __eflags = _t177;
                                    if(_t177 <= 0) {
L59:
                                        _v64 = "event_process_active";
                                        _v68 = 320;
                                        _v72 = "event.c";
                                         *__esp = "activeq != ((void *)0)";
                                        __assert_fail();
                                        goto L60;
                                    } else {
                                        _t196 =  *(_t195 + 20);
                                        __edi =  *_t196;
                                        _t204 =  *__edi;
                                        __eflags =  *__edi;
                                        if( *__edi != 0) {
L30:
                                            _t204 =  *__edi;
                                            do {
                                                event_queue_remove(_a4, _t172, 8, _t204, __edi, _t204);
                                                 *(_t204 + 52) =  &_v18;
                                                _v18 =  *(_t204 + 50) & 65535;
                                                while(1) {
                                                    _t148 = _v18 & 65535;
                                                    __eflags = _t148;
                                                    if(_t148 == 0) {
                                                        goto L61;
                                                    }
                                                    _t150 = _t148 - 1;
                                                    _v18 = _t150;
                                                     *(_t204 + 50) = _t150;
                                                    _t172 =  *(_t204 + 68);
                                                    _v72 =  *((short*)(_t204 + 76));
                                                     *__esp =  *(_t204 + 44);
                                                    _v68 =  *(_t204 + 72);
                                                     *( *(_t204 + 68))();
                                                    __eflags = event_gotsig;
                                                    if(event_gotsig == 0) {
                                                        continue;
                                                    }
L34:
                                                    _t183 = _a4;
                                                    __eflags =  *(_t183 + 12);
                                                    if( *(_t183 + 12) != 0) {
                                                        goto L3;
                                                    } else {
                                                        __eflags = _a8 & 1;
                                                        if((_a8 & 1) == 0) {
                                                            goto L3;
                                                        } else {
                                                            __eflags = 0;
L37:
                                                            __esp =  &(__esp[0xf]);
                                                            _pop(__ebx);
                                                            _pop(__esi);
                                                            _pop(__edi);
                                                            return;
                                                        }
                                                    }
                                                    goto L71;
                                                }
L61:
                                                _t204 =  *__edi;
                                                __eflags = _t204;
                                            } while(_t204 != 0);
                                            goto L34;
                                        } else {
                                            while(1) {
                                                _t134 = 1;
                                                __eflags = _t134 - _t177;
                                                if(_t134 == _t177) {
                                                    goto L59;
                                                }
                                                __edi = _t196[_t134];
                                                _t172 =  *__edi;
                                                __eflags = _t172;
                                                if(_t172 == 0) {
                                                    continue;
                                                } else {
                                                    goto L30;
                                                }
                                                goto L71;
                                            }
                                            goto L59;
                                        }
                                    }
                                }
                            }
                        }
                    } else {
                        gettime( &_v36);
                        _t193 =  &_v28;
                        __eflags =  &(1[(signed int)( &_v36)]);
                        if( &(1[(signed int)( &_v36)]) == 0) {
                            goto L16;
                        } else {
                            _t177 =  *(_t172 + 56);
                            _t201 = _v36;
                            __eflags = _t177 - _t201;
                            if(__eflags == 0) {
                                __eflags =  *((intOrPtr*)(_t172 + 60)) - _v32;
                                _t157 =  *((intOrPtr*)(_t172 + 60)) - _v32 <= 0;
                            } else {
                                _t157 = __eflags <= 0;
                                __eflags = _t157;
                            }
                            __eflags = _t157;
                            if(_t157 != 0) {
                                goto L14;
                            } else {
                                _t159 = _t177 - _t201;
                                _t191 =  *((intOrPtr*)(_t172 + 60)) - _v32;
                                _v28 = _t159;
                                __eflags = _t191;
                                _v24 = _t191;
                                if(_t191 < 0) {
                                    _v28 = _t159 - 1;
                                    _v24 = _t191 + 1000000;
                                }
                                __eflags = _v28;
                                if(_v28 < 0) {
                                    _v64 = "timeout_next";
                                    _v68 = 765;
                                    _v72 = "event.c";
                                     *__esp = "tv->tv_sec >= 0";
                                    __assert_fail();
                                    _push(_t206);
                                    __esp = __esp - 8;
                                    event_base_loop(_t172, current_base, _v72);
                                    return;
                                } else {
                                    __eflags = _v24;
                                    if(_v24 >= 0) {
L15:
                                        _t193 =  &_v28;
                                        goto L16;
                                    } else {
                                        _v64 = "timeout_next";
                                        _v68 = 766;
                                        _v72 = "event.c";
                                         *__esp = "tv->tv_usec >= 0";
                                        __assert_fail();
                                        goto L58;
                                    }
                                }
                            }
                        }
                    }
                } else {
                    goto L14;
                }
            }
        }
L71:
    }
    goto L10;
}

event_loop(
    signed int _a4                         // _cfa_4
)
{// addr = 0x0804F380
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)

    return event_base_loop(__ebx, current_base, _a4);
}

event_dispatch()
{// addr = 0x0804F3A0
    return event_loop(0);
}

event_base_dispatch(
    signed int _a4                         // _cfa_4
)
{// addr = 0x0804F3C0
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)

    return event_base_loop(__ebx, _a4, 0);
}

event_base_priority_init(
    intOrPtr _a4,                          // _cfa_4
    signed int _a8                         // _cfa_8
)
{// addr = 0x0804F3E0
    char* _v20;                            // _cfa_ffffffec
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    _unknown_ __ebx;                       // r1
    _unknown_ __edi;                       // r4
    _unknown_ __esi;                       // r5
    intOrPtr _t38;                         // _t38
    void* _t41;           // _t41
    void* _t46;           // _t46
    intOrPtr* _t48;                        // _t48
    void* _t52;           // _t52
    _unknown_ _t54;                        // _t54
    signed int _t58;                       // _t58
    intOrPtr _t59;                         // _t59
    intOrPtr _t61;                         // _t61
    signed int _t67;                       // _t67
    signed int _t68;                       // _t68
    signed int _t69;                       // _t69

    _t59 = _a4;
    _t68 = _a8;
    if( *((intOrPtr*)(_t59 + 12)) == 0) {
        _t38 =  *((intOrPtr*)(_t59 + 24));
        if(_t38 != 0) {
            if(_t38 == _t68) {
                goto L2;
            }
            if(_t38 <= 0) {
L14:
                free( *(_a4 + 20));
                goto L2;
            }
            _t58 = 0;
            do {
                _t52 =  *( *(_a4 + 20) + _t58 * 4);
                _t58 = _t58 + 1;
                free(_t52);
            } while( *(_a4 + 24) > _t58);
            goto L14;
        }
L2:
         *(_a4 + 24) = _t68;
        _t41 = calloc(_t68, _t68 * 4);
         *(_a4 + 20) = _t41;
        if(_t41 == 0) {
            _v20 = "event_base_priority_init";
            event_err(_t54, 1, "%s: calloc");
        }
        if( *(_a4 + 24) <= 0) {
L7:
            return 0;
        } else {
            _t67 = 0;
            do {
                _t61 = _a4;
                _t69 = _t67 * 4;
                _t57 = _t69 +  *((intOrPtr*)(_t61 + 20));
                 *(_t69 +  *((intOrPtr*)(_t61 + 20))) = malloc(8);
                _t46 =  *(_a4 + 20);
                if( *((intOrPtr*)(_t46 + _t69)) == 0) {
                    _v20 = "event_base_priority_init";
                    event_err(_t57, 1, "%s: malloc");
                    _t46 =  *(_a4 + 20);
                }
                _t48 =  *((intOrPtr*)(_t46 + _t69));
                _t67 = _t67 + 1;
                 *_t48 = 0;
                _t48[1] = _t48;
            } while( *(_a4 + 24) > _t67);
            goto L7;
        }
    }
    return -1;
}

event_priority_init(
    signed int _a4                         // _cfa_4
)
{// addr = 0x0804F510
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)

    return event_base_priority_init(current_base, _a4);
}

event_init()
{// addr = 0x0804F530
    struct timespec _v20;   // _cfa_ffffffec
    char* _v36;                            // _cfa_ffffffdc
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    intOrPtr* __ebx;                       // r1
    signed int __esi;                      // r5
    intOrPtr* _t25;                        // _t25
    intOrPtr* _t31;                        // _t31

    _t25 = calloc(1, 416);
    __ebx = _t25;
    if(_t25 == 0) {
        event_err(__ebx, 1, "%s: calloc");
    }
    event_sigcb = 0;
    event_gotsig = 0;
    if(clock_gettime(1,  &_v20) == 0) {
        use_monotonic = 1;
    }
    gettime(__ebx + 404);
    __edx = eventops;
    __ebx[0x64] = __ebx + 396;
    _t31 = __ebx + 28;
    __ebx[0x67] = 0;
    __ebx[0x63] = 0;
    __ebx[7] = 0;
    __ebx[8] = _t31;
    __ebx[0x1e] = -1;
    __ebx[0x1f] = -1;
    __ebx[1] = 0;
    if(__edx == 0) {
L12:
        _v36 = "event_init";
        event_errx(1, "%s: no event mechanism available");
    } else {
        __esi = 0;
        while(1) {
            _t31 =  *((intOrPtr*)(__edx + 4));
            __esi = __esi + 1;
             *__ebx = __edx;
             *__esp = __ebx;
             *_t31();
            __edx =  *((intOrPtr*)(__esi * 4 +  &eventops));
            __ebx[1] = _t31;
            if(__edx == 0) {
                break;
            }
            if(_t31 == 0) {
                continue;
            }
            goto L8;
        }
        _t31 = __ebx[1];
        if(_t31 == 0) {
            goto L12;
        }
    }
L8:
    __eax = getenv("EVENT_SHOW_METHOD");
    if(_t31 != 0) {
        event_msgx("libevent using: %s\n",  *((intOrPtr*)( *__ebx)));
    }
    event_base_priority_init(__ebx, 1);
    current_base = __ebx;
    return __ebx;
}

bufferevent_settimeout(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804F690
    __eax = _a4;
     *((intOrPtr*)(__eax + 208)) = _a8;
     *((intOrPtr*)(__eax + 212)) = _a12;
    return __eax;
}

bufferevent_base_set(
    _unknown_ __eax,                       // r0
    intOrPtr __ebx,                        // r1
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804F6B0
    intOrPtr _v0;                          // _cfa_0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _t23;                         // _t23
    _unknown_ _t35;                        // _t35

    _v12 = __ebx;
    _v8 = __esi;
    _v24 = _a8;
     *__esp = _a4;
    L1();
    if(__eax + 1 == 0) {
        return -1;
    } else {
        __eax = __ebx + 84;
        __ebx = _v12;
        _a4 = __esi;
        __esi = _v8;
        _a8 = __eax;
        __esp = __ebp;
        _pop(__ebp);
        _push(_t35);
        __ecx = _v16;
        if( *((intOrPtr*)(__ecx + 80)) == 128) {
            _t23 = _v0;
            __edx =  *(_t23 + 24);
             *((intOrPtr*)(__ecx + 40)) = _t23;
             *(__ecx + 64) = ( *(_t23 + 24) >> 31) + __edx >> 1;
            return 0;
        } else {
            return -1;
        }
    }
}

bufferevent_disable(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    signed short _a8                       // _cfa_8
)
{// addr = 0x0804F700
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    _unknown_ _t19;                        // _t19
    signed int _t21;                       // _t21
    intOrPtr _t25;                         // _t25
    signed int _t28;                       // _t28

    _v16 = __ebx;
    _t21 = _a8 & 65535;
    _v12 = __esi;
    _v8 = __edi;
    _t25 = _a4;
    _t28 = _t21;
    if((_t28 & 2) != 0) {
        if(event_del(_t21, _t25, _t28, _t25) + 1 != 0) {
            goto L1;
        } else {
            goto L5;
        }
    } else {
L1:
        _t29 = _t28 & 4;
        if((_t28 & 4) != 0) {
            if(event_del(_t21, _t25, _t29, _t25 + 84) + 1 != 0) {
                goto L2;
            } else {
L5:
                _t19 = -1;
            }
        } else {
L2:
            _t19 = 0;
             *(_t25 + 216) =  *(_t25 + 216) &  !_t21;
        }
    }
    return _t19;
}

bufferevent_add(
    _unknown_ __eax,                       // r0
    intOrPtr __edx                         // r3
)
{// addr = 0x0804F770
    intOrPtr _v8;                          // _cfa_fffffff8
    char _v12;                             // _cfa_fffffff4
    intOrPtr _v24;                         // _cfa_ffffffe8

    __edx = __edx;
    __ecx = 0;
    if(__edx != 0) {
        _v8 = 0;
        __ecx =  &_v12;
        _v12 = __edx;
    }
    _v24 = __ecx;
    return event_add(__ebx, __edi, __esi, __eax);
}

bufferevent_enable(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    signed short _a8                       // _cfa_8
)
{// addr = 0x0804F7A0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    _unknown_ _t22;                        // _t22
    signed int _t24;                       // _t24
    intOrPtr _t30;                         // _t30
    signed short _t33;                     // _t33

    _v12 = __esi;
    _t33 = _a8 & 65535;
    _v16 = __ebx;
    _v8 = __edi;
    _t30 = _a4;
    _t24 = _t33;
    if((_t24 & 2) != 0) {
        if(bufferevent_add(_t30,  *((intOrPtr*)(_t30 + 208))) + 1 != 0) {
            goto L1;
        } else {
            goto L5;
        }
    } else {
L1:
        if((_t24 & 4) != 0) {
            if(bufferevent_add(_t30 + 84,  *((intOrPtr*)(_t30 + 212))) + 1 != 0) {
                goto L2;
            } else {
L5:
                _t22 = -1;
            }
        } else {
L2:
             *(_t30 + 216) =  *(_t30 + 216) | _t33;
            _t22 = 0;
        }
    }
    return _t22;
}

int bufferevent_read(
    intOrPtr __ebx,                        // r1
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    void* _a8,            // _cfa_8
    int _a12                               // _cfa_c
)
{// addr = 0x0804F810
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    int _t14;                              // _t14
    int _t21;                              // _t21
    void** _t24;          // _t24

    _v12 = __ebx;
    _t21 = _a12;
    _v8 = __esi;
    _t24 =  *(_a4 + 168);
    _t14 = _t24[4];
    if(_t21 > _t14) {
        _t21 = _t14;
    }
    memcpy(_a8,  *_t24, _t21);
    if(_t21 != 0) {
        evbuffer_drain(_t21, _t24, _t24, _t21);
    }
    return _t21;
}

bufferevent_write(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804F870
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    _unknown_ _t20;                        // _t20
    _unknown_ _t25;                        // _t25
    intOrPtr _t28;                         // _t28
    intOrPtr _t31;                         // _t31

    _v12 = __esi;
    _v8 = __edi;
    _t31 = _a4;
    _t28 = _a12;
    _v16 = __ebx;
    _t20 = evbuffer_add(__ebx, _t28, _t31,  *((intOrPtr*)(_t31 + 172)), _a8, _t28);
    _t25 = _t20;
    if(_t20 != -1 && _t28 != 0 && ( *(_t31 + 216) & 4) != 0) {
        __edx =  *((intOrPtr*)(_t31 + 212));
        bufferevent_add(_t31 + 84,  *((intOrPtr*)(_t31 + 212)));
    }
    return _t25;
}

bufferevent_write_buffer(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr* _a8                          // _cfa_8
)
{// addr = 0x0804F8E0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    _unknown_ _t15;                        // _t15
    _unknown_ _t20;                        // _t20
    intOrPtr* _t23;                        // _t23

    __edi = __edi;
    _v8 = __esi;
    _t23 = _a8;
    _v12 = __ebx;
    _t15 = bufferevent_write(__ebx, __edi, _t23, _a4,  *_t23, _t23[4]);
    _t20 = _t15;
    if(_t15 != -1) {
        evbuffer_drain(_t20, _t23, _t23, _t23[4]);
    }
    return _t20;
}

bufferevent_free(
    signed int _a4                         // _cfa_4
)
{// addr = 0x0804F930
    __ebx = _a4;
    event_del(__ebx, __edi, __esi, __ebx);
    event_del(__ebx, __edi, __esi, __ebx + 84);
    evbuffer_free( *((intOrPtr*)(__ebx + 168)));
    evbuffer_free( *((intOrPtr*)(__ebx + 172)));
    _a4 = __ebx;
    __esp = __esp + 4;
    _pop(__ebx);
    _pop(__ebp);
    goto __imp__free;
}

bufferevent_priority_set(
    intOrPtr __ebx,                        // r1
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x0804F980
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)

    _v12 = __ebx;
    _t20 = _a8;
    _v8 = __esi;
    _t26 = _a4;
    if(event_priority_set(_a4, _a8) + 1 == 0 || event_priority_set(_t26 + 84, _t20) + 1 == 0) {
        return -1;
    } else {
        return 0;
    }
}

bufferevent_new(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12,                         // _cfa_c
    intOrPtr _a16,                         // _cfa_10
    intOrPtr _a20                          // _cfa_14
)
{// addr = 0x0804F9E0
    _unknown_ _v28;                        // _cfa_ffffffe4 (outparam)
    _unknown_ _v32;                        // _cfa_ffffffe0 (outparam)
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    intOrPtr __ebx;                        // r1
    intOrPtr __esi;                        // r5
    void* _t24;           // _t24
    intOrPtr _t26;                         // _t26
    intOrPtr _t27;                         // _t27

    __ebx = 0;
    __esi = _a4;
    _t24 = calloc(1, 220);
    if(_t24 != 0) {
        __ebx = _t24;
        _t26 = evbuffer_new();
         *((intOrPtr*)(__ebx + 168)) = _t26;
        if(_t26 == 0) {
L6:
             *__esp = __ebx;
            __ebx = 0;
            free();
        } else {
            _t27 = evbuffer_new();
             *((intOrPtr*)(__ebx + 172)) = _t27;
            if(_t27 == 0) {
                evbuffer_free( *((intOrPtr*)(__ebx + 168)));
                goto L6;
            } else {
                event_set(__ebx, __esi, 2, bufferevent_readcb, __ebx);
                event_set(__ebx + 84, __esi, 4, bufferevent_writecb, __ebx);
                 *((short*)(__ebx + 216)) = 4;
                 *((intOrPtr*)(__ebx + 192)) = _a8;
                 *((intOrPtr*)(__ebx + 196)) = _a12;
                 *((intOrPtr*)(__ebx + 200)) = _a16;
                 *((intOrPtr*)(__ebx + 204)) = _a20;
            }
        }
    }
    return __ebx;
}

intOrPtr bufferevent_writecb(
    _unknown_ __edi,                       // r4
    intOrPtr _a4,                          // _cfa_4
    short _a8,                             // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x0804FAC0
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v16;                             // _cfa_fffffff0
    intOrPtr _v24;                         // _cfa_ffffffe8 (outparam)
    intOrPtr __ebx;                        // r1
    _unknown_ _t31;                        // _t31
    int _t34;                              // _t34
    intOrPtr _t36;                         // _t36
    _unknown_ _t38;                        // _t38
    intOrPtr _t39;                         // _t39
    char* _t41;                            // _t41
    intOrPtr _t42;                         // _t42
    intOrPtr _t43;                         // _t43
    _unknown_ _t44;                        // _t44

    __edi = __edi;
    _push(_t38);
    __esp = __esp - 20;
    _t42 = _a4;
    _t39 = _a12;
    if(_a8 == 1) {
        _t43 = 66;
L15:
        _a8 = _t43;
        _a4 = _t39;
        _a12 =  *((intOrPtr*)(_t39 + 204));
        __esp = __esp + 20;
        _pop(__ebx);
        _pop(__ebp);
        goto __ecx;
    }
    __eax =  *((intOrPtr*)(__ebx + 172));
    __ecx =  *((intOrPtr*)( *((intOrPtr*)(__ebx + 172)) + 16));
    __eflags = __ecx;
    if(__ecx != 0) {
        __eax = evbuffer_write(__ebx, __esi, __eax, __edx);
        __eflags = __eax - -1;
        if(__eax == -1) {
            _t34 =  *(__errno_location());
            __eflags = _t34 - 11;
            if(_t34 != 11) {
                __eflags = _t34 - 4;
                if(_t34 != 4) {
                    __eflags = _t34 - 115;
                    _t43 = 34;
                    if(_t34 != 115) {
                        goto L15;
                    }
                }
            }
            _t36 =  *((intOrPtr*)( *((intOrPtr*)(_t39 + 172)) + 16));
            __eflags = _t36;
            if(_t36 == 0) {
                goto L7;
            } else {
                _t42 =  *((intOrPtr*)(_t39 + 212));
                _t31 = _t39 + 84;
                __esp = __esp + 20;
                _pop(__ebx);
                _pop(__ebp);
                _push(_t44);
                _t41 = 0;
                __esp = __esp - 24;
                if(_t42 != 0) {
                    _v12 = 0;
                    _t41 =  &_v16;
                    _v16 = _t42;
                }
                _v24 = _t41;
                return event_add(_t39, __edi, __esi, _t31);
            }
        } else {
            __eflags = __eax;
            __edx = 18;
            if(__eflags == 0) {
                goto L15;
            }
            if(__eflags <= 0) {
                goto L15;
            }
            __eax =  *((intOrPtr*)(__ebx + 172));
            __edx =  *((intOrPtr*)(__eax + 16));
            __eflags =  *((intOrPtr*)(__eax + 16));
            if( *((intOrPtr*)(__eax + 16)) != 0) {
                __edx =  *((intOrPtr*)(__ebx + 212));
                __eax = __ebx + 84;
                L1();
            }
            goto L5;
        }
    } else {
L5:
        __ecx =  *((intOrPtr*)(__ebx + 196));
        __eflags = __ecx;
        if(__ecx != 0) {
            __eax =  *((intOrPtr*)(__ebx + 172));
            __eax =  *((intOrPtr*)( *((intOrPtr*)(__ebx + 172)) + 16));
            __eflags = __eax -  *((intOrPtr*)(__ebx + 184));
            if(__eax <=  *((intOrPtr*)(__ebx + 184))) {
                __eax =  *((intOrPtr*)(__ebx + 204));
                _a4 = __ebx;
                _a8 =  *((intOrPtr*)(__ebx + 204));
                __esp = __esp + 20;
                _pop(__ebx);
                _pop(__ebp);
                goto __ecx;
            }
        }
L7:
        __esp = __esp + 20;
        _pop(__ebx);
        return _t36;
    }
}

intOrPtr bufferevent_readcb(
    intOrPtr __edx,                        // r3
    signed int _a4,                        // _cfa_4
    short _a8,                             // _cfa_8
    signed int _a12                        // _cfa_c
)
{// addr = 0x0804FBC0
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v16;                             // _cfa_fffffff0
    intOrPtr* _v20;                        // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr __ebx;                        // r1
    intOrPtr __esi;                        // r5
    _unknown_ _t35;                        // _t35
    intOrPtr _t39;                         // _t39
    _unknown_ _t41;                        // _t41
    signed int _t42;                       // _t42
    char* _t46;                            // _t46
    _unknown_ _t51;                        // _t51

    _push(__esi);
    _push(_t41);
    __esp = __esp - 16;
    _t42 = _a12;
    if(_a8 == 1) {
L13:
        _t36 =  *((intOrPtr*)(_t42 + 204));
        _a8 = 65;
        _a4 = _t42;
        _a12 =  *((intOrPtr*)(_t42 + 204));
        __esp = __esp + 16;
        _pop(__ebx);
        _pop(__esi);
        _pop(__ebp);
        goto __ecx;
    }
    __eax =  *((intOrPtr*)(__ebx + 180));
    _v24 = __ecx;
    __eflags = __eax - 1;
    asm("sbb edx, edx");
    _v20 = __eax;
    __eax =  *((intOrPtr*)(__ebx + 168));
     *__esp =  *((intOrPtr*)(__ebx + 168));
    __eax = evbuffer_read(__ebx, __edi, __esi);
    __eflags = __eax - -1;
    if(__eax == -1) {
        __eax = __errno_location();
        __eax =  *__eax;
        __eflags = __eax - 11;
        if(__eax != 11) {
            __eflags = __eax - 4;
            __edx = 33;
            if(__eax != 4) {
                goto L13;
            }
        }
        __edx =  *((intOrPtr*)(__ebx + 208));
        __eax = __ebx;
        __esp = __esp + 16;
        _pop(__ebx);
        _pop(__esi);
        _pop(__ebp);
        _push(_t51);
        _t46 = 0;
        __esp = __esp - 24;
        if(__edx != 0) {
            _v12 = 0;
            _t46 =  &_v16;
            _v16 = __edx;
        }
        _v24 = _t46;
        return event_add(_t42, __edi, __esi, _t35);
    } else {
        __eflags = __eax;
        __edx = 17;
        if(__eflags == 0) {
            goto L13;
        }
        if(__eflags <= 0) {
            goto L13;
        }
        __edx =  *((intOrPtr*)(__ebx + 208));
        __eax = __ebx;
        L1();
        __eax =  *((intOrPtr*)(__ebx + 176));
        __esi =  *((intOrPtr*)(__ebx + 168));
        __eflags =  *((intOrPtr*)(__ebx + 176));
        __edx =  *((intOrPtr*)(__esi + 16));
        if( *((intOrPtr*)(__ebx + 176)) != 0) {
            __eflags = 65 - _t36;
            if(65 >= _t36) {
                goto L8;
            } else {
                goto L15;
            }
        } else {
L8:
            _t36 =  *((intOrPtr*)(_t42 + 180));
            __eflags = _t36;
            if(_t36 == 0) {
L10:
                __eflags =  *((intOrPtr*)(_t42 + 192));
                if( *((intOrPtr*)(_t42 + 192)) != 0) {
                    _a4 = _t42;
                    _a8 =  *((intOrPtr*)(_t42 + 204));
                    __esp = __esp + 16;
                    _pop(__ebx);
                    _pop(__esi);
                    _pop(__ebp);
                    goto __ecx;
                }
L15:
                __esp = __esp + 16;
                _pop(__ebx);
                _pop(__esi);
                return _t36;
            } else {
                __eflags = 65 - _t36;
                if(65 > _t36) {
                    event_del(_t42, __edi, __esi, _t42);
                    _a12 = _t42;
                    _a8 = bufferevent_read_pressure_cb;
                    _a4 = __esi;
                    __esp = __esp + 16;
                    _pop(__ebx);
                    _pop(__esi);
                    _pop(__ebp);
                    _push(_t51);
                    _t39 = _a4;
                     *((intOrPtr*)(_t39 + 20)) = _a8;
                     *((intOrPtr*)(_t39 + 24)) = _a12;
                    return _t39;
                } else {
                    goto L10;
                }
            }
        }
    }
}

intOrPtr bufferevent_read_pressure_cb(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a12,                         // _cfa_c
    intOrPtr _a16                          // _cfa_10
)
{// addr = 0x0804FCF0
    intOrPtr _v12;                         // _cfa_fffffff4
    char _v16;                             // _cfa_fffffff0
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    intOrPtr _v24;                         // _cfa_ffffffe8 (outparam)
    _unknown_ __ebx;                       // r1
    _unknown_ _t16;                        // _t16
    _unknown_ _t18;                        // _t18
    intOrPtr _t19;                         // _t19
    intOrPtr _t20;                         // _t20
    char* _t21;                            // _t21
    _unknown_ _t22;                        // _t22

    _push(_t18);
    __esp = __esp - 20;
    _t19 = _a16;
    _t20 = _a4;
    __edx = _a12;
    _t15 =  *((intOrPtr*)(_t19 + 180));
    if( *((intOrPtr*)(_t19 + 180)) == 0 || __eax > __edx) {
        _t16 = evbuffer_setcb(_t20, 0, 0);
        if(( *(_t19 + 216) & 2) != 0) {
            __edx =  *((intOrPtr*)(_t19 + 208));
            _t15 = _t19;
            __esp = __esp + 20;
            _pop(__ebx);
            _pop(__ebp);
            _push(_t22);
            _t21 = 0;
            __esp = __esp - 24;
            if(__edx != 0) {
                _v12 = 0;
                _t21 =  &_v16;
                _v16 = __edx;
            }
            _v24 = _t21;
            return event_add(_t19, __edi, __esi, _t15);
        } else {
            goto L6;
        }
    } else {
L6:
        __esp = __esp + 20;
        _pop(__ebx);
        return _t16;
    }
}

bufferevent_setwatermark(
    _unknown_ __edi,                       // r4
    _unknown_ __esi,                       // r5
    intOrPtr _a4,                          // _cfa_4
    short _a8,                             // _cfa_8
    intOrPtr _a12,                         // _cfa_c
    intOrPtr _a16                          // _cfa_10
)
{// addr = 0x0804FD50
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v20;                       // _cfa_ffffffec (outparam)
    char* _v24;                            // _cfa_ffffffe8 (outparam)
    intOrPtr __ebx;                        // r1
    intOrPtr _t31;                         // _t31
    intOrPtr _t33;                         // _t33
    _unknown_ _t35;                        // _t35
    intOrPtr _t36;                         // _t36
    intOrPtr _t37;                         // _t37
    intOrPtr _t38;                         // _t38
    char* _t39;                            // _t39
    signed int _t40;                       // _t40
    intOrPtr _t42;                         // _t42
    intOrPtr _t43;                         // _t43
    _unknown_ _t44;                        // _t44

    __esi = __esi;
    __edi = __edi;
    _push(_t35);
    _t40 = _a8;
    _t31 = _a4;
    _t37 = _a12;
    _t36 = _a16;
    if((_t40 & 2) != 0) {
         *((intOrPtr*)(__eax + 176)) = __ecx;
         *((intOrPtr*)(__eax + 180)) = __ebx;
    }
    if((_t40 & 4) != 0) {
         *((intOrPtr*)(_t31 + 184)) = _t37;
         *((intOrPtr*)(_t31 + 188)) = _t36;
    }
    _t42 =  *((intOrPtr*)(_t31 + 168));
    _a16 = _t31;
    _a8 = 0;
    _a4 = _t42;
    _a12 =  *((intOrPtr*)(_t42 + 16));
    _pop(__ebx);
    _pop(__ebp);
    _push(_t44);
    _t44 = __esp;
    _push(_t36);
    __esp = __esp - 20;
    _t36 = _a16;
    _t38 = _a4;
    _t43 = _a12;
    _t33 =  *((intOrPtr*)(_t36 + 180));
    if(_t33 == 0 || _t33 > _t43) {
        _t33 = evbuffer_setcb(_t38, 0, 0);
        if(( *(_t36 + 216) & 2) != 0) {
            _t40 =  *(_t36 + 208);
            _t31 = _t36;
            __esp = __esp + 20;
            _pop(__ebx);
            _pop(__ebp);
            _push(_t44);
            _t39 = 0;
            __esp = __esp - 24;
            if(_t40 != 0) {
                _v16 = 0;
                _t39 =  &_v20;
                _v20 = _t40;
            }
            _v24 = _t39;
            return event_add(_t36, __edi, __esi, _t31);
        } else {
            goto L7;
        }
    } else {
L7:
        __esp = __esp + 20;
        _pop(__ebx);
        return _t33;
    }
}

event_set_log_callback(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x0804FDB0
    __eax = _a4;
    log_fn = __eax;
    return __eax;
}

event_vsnprintf(
    char* __eax,                           // r0
    intOrPtr __ebx,                        // r1
    char* __ecx,                           // r2
    int __edx,                             // r3
    intOrPtr __esi,                        // r5
    void* _a4             // _cfa_4
)
{// addr = 0x0804FDC0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    int _t13;                              // _t13

    __edx = __edx;
    __ecx = __ecx;
    _v12 = __ebx;
    _v8 = __esi;
    if(__edx != 0) {
        _t13 = vsnprintf(__eax, __edx, __ecx, _a4);
        __eax[__edx - 1] = 0;
        if(_t13 < 0) {
            goto L1;
        } else {
            if(_t13 >= __edx) {
                goto L1;
            }
        }
    } else {
L1:
        _t13 = -1;
    }
    return _t13;
}

event_snprintf(
    char* _a4,                             // _cfa_4
    int _a8,                               // _cfa_8
    char* _a12,                            // _cfa_c
    char _a16                              // _cfa_10
)
{// addr = 0x0804FE10
    char* _v8;                             // _cfa_fffffff8

    __ecx = _a12;
    _v8 =  &_a16;
    __edx = _a8;
    return event_vsnprintf(_a4, __ebx, _a12, _a8, __esi,  &_a16);
}

_warn_helper(
    intOrPtr __eax,                        // r0
    intOrPtr __ebx,                        // r1
    char* __ecx,                           // r2
    int __edx,                             // r3
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    void* _a4             // _cfa_4
)
{// addr = 0x0804FE30
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    char _v1040;                           // _cfa_fffffbf0
    char* _v1044;                          // _cfa_fffffbec
    char* _v1056;                          // _cfa_fffffbe0 (outparam)
    char* _v1060;                          // _cfa_fffffbdc (outparam)
    char* _v1064;                          // _cfa_fffffbd8 (outparam)
    char* _t31;                            // _t31
    signed int _t32;                       // _t32
    signed int _t33;                       // _t33
    signed int* _t42;                      // _t42
    _unknown_ _t43;                        // _t43
    unsigned int _t49;                     // _t49

    __ecx = __ecx;
    _v12 = __esi;
    _v8 = __edi;
    _v16 = __ebx;
    if(__ecx == 0) {
        _v1040 = 0;
        _v1044 =  &_v1040;
    } else {
        _v1044 =  &_v1040;
        event_vsnprintf( &_v1040, __ebx, __ecx, 1024, __eax, _a4);
    }
    if(__edx < 0) {
L8:
        _t30 = log_fn;
        if(_t30 == 0) {
            __eflags = __eax - 1;
            _t31 = "msg";
            if(__eflags == 0) {
L17:
                _v1060 = _t31;
                _t30 = __imp__stderr;
                _v1056 =  &_v1040;
                __eax = fprintf(__imp__stderr, "[%s] %s\n");
L10:
                return;
            }
            if(__eflags <= 0) {
                __eflags = __eax;
                _t31 = "debug";
                if(__eax == 0) {
                    goto L17;
                }
L16:
                _t31 = "???";
                goto L17;
            }
            __eflags = __eax - 2;
            _t31 = "warn";
            if(__eax == 2) {
                goto L17;
            }
            __eflags = __eax - 3;
            _t31 = "err";
            if(__eax == 3) {
                goto L17;
            }
            goto L16;
        }
        _v1064 =  &_v1040;
         *__esp = __eax;
         *_t30();
        goto L10;
    } else {
        _t42 =  &_v1040;
        do {
            _t32 =  *_t42;
            _t42 =  &(_t42[1]);
            _t33 =  !_t32;
            _t49 = _t32 - 16843009 & _t33 & -2139062144;
        } while(_t49 == 0);
        if((_t49 & 32896) == 0) {
            _t49 = _t49 >> 16;
            _t42 =  &(_t42[0]);
        }
        asm("sbb ebx, 0x3");
        _t43 = _t42 - _v1044;
        if(_t43 <= 1020) {
            __eax = strerror(__edx);
            event_snprintf( &_v1040 + _t43, 1024 - _t43, ": %s", _t33);
        }
        goto L8;
    }
}

_event_debugx(
    char* _a4,                             // _cfa_4
    char _a8                               // _cfa_8
)
{// addr = 0x0804FFA0
    char* _v8;                             // _cfa_fffffff8

    __edx = -1;
    __ecx = _a4;
    _v8 =  &_a8;
    _warn_helper(0, __ebx, _a4, -1, __edi, __esi,  &_a8);
    return 0;
}

event_msgx(
    char* _a4,                             // _cfa_4
    char _a8                               // _cfa_8
)
{// addr = 0x0804FFC0
    char* _v8;                             // _cfa_fffffff8

    __edx = -1;
    __ecx = _a4;
    _v8 =  &_a8;
    _warn_helper(1, __ebx, _a4, -1, __edi, __esi,  &_a8);
    return 1;
}

event_warnx(
    char* _a4,                             // _cfa_4
    char _a8                               // _cfa_8
)
{// addr = 0x0804FFF0
    char* _v8;                             // _cfa_fffffff8

    __edx = -1;
    __ecx = _a4;
    _v8 =  &_a8;
    _warn_helper(2, __ebx, _a4, -1, __edi, __esi,  &_a8);
    return 2;
}

event_errx(
    int _a4,                               // _cfa_4
    char* _a8,                             // _cfa_8
    char _a12                              // _cfa_c
)
{// addr = 0x08050020
    char* _v8;                             // _cfa_fffffff8
    char _v20;                             // _cfa_ffffffec
    char* _v24;                            // _cfa_ffffffe8
    char* _v40;                            // _cfa_ffffffd8
    _unknown_ __ebx;                       // r1
    intOrPtr _t13;                         // _t13
    _unknown_ _t19;                        // _t19

    _v8 =  &_a12;
    _warn_helper(3, _t13, _a8, -1, __edi, __esi,  &_a12);
    exit(_a4);
    _push(_t19);
    _push(_t13);
    __esp = __esp - 20;
    _v40 =  &_v20;
    _warn_helper(2,  &_v20, _v24,  *(__errno_location()), __edi, __esi,  &_v20);
    __esp = __esp + 20;
    _pop(__ebx);
    return 2;
}

event_warn(
    char* _a4,                             // _cfa_4
    char _a8                               // _cfa_8
)
{// addr = 0x08050050
    char* _v12;                            // _cfa_fffffff4
    char* __ebx;                           // r1
    intOrPtr* _t4;                         // _t4

    __ebx =  &_a8;
    _v12 =  &_a8;
    _t4 = __errno_location();
    __ecx = _a4;
     *__esp =  &_a8;
    __edx =  *_t4;
    _warn_helper(2,  &_a8, _a4,  *_t4, __edi, __esi);
    return 2;
}

event_err(
    _unknown_ __ebx,                       // r1
    int _a4,                               // _cfa_4
    char* _a8,                             // _cfa_8
    char _a12                              // _cfa_c
)
{// addr = 0x08050080
    char* _v12;                            // _cfa_fffffff4
    intOrPtr* _t5;                         // _t5
    _unknown_ _t11;                        // _t11

    _push(__ebx);
    __esp = __esp - 20;
    _v12 =  &_a12;
    _t5 = __errno_location();
    __ecx = _a8;
     *__esp =  &_a12;
    __edx =  *_t5;
    _warn_helper(3,  &_a12, _a8,  *_t5, __edi, __esi);
    exit(_a4);
    _push(_t11);
    return 0;
}

select_recalc()
{// addr = 0x080500B0
    return 0;
}

select_dealloc(
    void* _a4,            // _cfa_4
    void* _a8             // _cfa_8
)
{// addr = 0x080500C0
    void* _t13;           // _t13
    void* _t14;           // _t14
    void* _t15;           // _t15
    void* _t16;           // _t16
    void* _t17;           // _t17
    void* _t18;           // _t18

    __ebx = _a8;
     *__esp = _a4;
    evsignal_dealloc();
    _t13 =  *(__ebx + 8);
    if(_t13 != 0) {
         *__esp = _t13;
        L1();
    }
    _t14 =  *(__ebx + 12);
    if(_t14 != 0) {
         *__esp = _t14;
        L1();
    }
    _t15 =  *(__ebx + 16);
    if(_t15 != 0) {
         *__esp = _t15;
        L1();
    }
    _t16 =  *(__ebx + 20);
    if(_t16 != 0) {
         *__esp = _t16;
        L1();
    }
    _t17 =  *(__ebx + 24);
    if(_t17 != 0) {
         *__esp = _t17;
        L1();
    }
    _t18 =  *(__ebx + 28);
    if(_t18 != 0) {
         *__esp = _t18;
        L1();
    }
    asm("cld");
    _t13 = memset(__ebx, 0, 8 << 2);
    _a4 = __ebx;
    __esp =  &(__esp[4]);
    _pop(__ebx);
    _pop(__edi);
    _pop(__ebp);
    goto __imp__free;
}

select_del(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08050150
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v32;                         // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _t36;                         // _t36
    intOrPtr _t38;                         // _t38
    intOrPtr* _t45;                        // _t45
    signed int _t58;                       // _t58
    signed int _t65;                       // _t65
    intOrPtr* _t67;                        // _t67

     *__esp = __ebx;
    _v12 = __esi;
    _v8 = __edi;
    _t36 = _a8;
    _t45 = _a4;
    _t58 =  *((short*)(_t36 + 48));
    if((_t58 & 8) != 0) {
        _a4 = _t36;
        __esp = _t67;
        _pop(__ebp);
        _push(_t67);
        __esp = __esp - 24;
        _v32 = 0;
        _v36 = 0;
        _t38 =  *((intOrPtr*)(_v8 + 44));
         *__esp = _t38;
        sigaction();
        return _t38;
    } else {
        _t65 =  *(_t36 + 44);
        if( *_t45 >= _t65) {
            if((_t58 & 2) != 0) {
                asm("rol eax, cl");
                _t52 = _t45[2];
                 *(_t52 + (_t65 >> 5) * 4) =  *(_t45[2] + (_t65 >> 5) * 4) & -2;
                 *((intOrPtr*)(_t45[6] + _t65 * 4)) = 0;
            }
            if((_t58 & 4) != 0) {
                _t62 = _t45[3];
                _t54 = _t65 >> 5;
                asm("rol eax, cl");
                 *(_t62 + _t54 * 4) =  *(_t45[3] + (_t65 >> 5) * 4) & -2;
                 *((intOrPtr*)(_t45[7] + _t65 * 4)) = 0;
            }
        }
        return 0;
    }
}

select_resize(
    _unknown_ __eax,                       // r0
    intOrPtr __ebx,                        // r1
    unsigned int __edx,                    // r3
    intOrPtr __edi,                        // r4
    intOrPtr __esi                         // r5
)
{// addr = 0x08050200
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    int _v20;                              // _cfa_ffffffec
    unsigned int _v24;                     // _cfa_ffffffe8
    signed int _v28;                       // _cfa_ffffffe4
    int _v36;                              // _cfa_ffffffdc (outparam)
    int _v40;                              // _cfa_ffffffd8 (outparam)
    void* _t53;           // _t53
    _unknown_ _t55;                        // _t55
    void* _t57;           // _t57
    void* _t59;           // _t59
    void* _t61;           // _t61
    signed int _t63;                       // _t63
    void* _t65;           // _t65
    void* _t67;           // _t67
    unsigned int _t68;                     // _t68
    int _t83;                              // _t83
    signed int _t86;                       // _t86
    signed int _t87;                       // _t87
    void* _t93;           // _t93

    _v12 = __esi;
    _v8 = __edi;
    _v16 = __ebx;
    _v40 = __edx;
    _v24 =  *(__eax + 4);
     *__esp =  *((intOrPtr*)(__eax + 8));
    _t53 = realloc();
    if(_t53 == 0) {
L7:
         *__esp =  &M08052E68;
        event_warn();
        _t55 = -1;
    } else {
         *((intOrPtr*)(__eax + 8)) = _t53;
        _t57 = realloc( *(__eax + 16), __edx);
        if(_t57 == 0) {
            goto L7;
        } else {
             *(__eax + 16) = _t57;
            _t59 = realloc( *(__eax + 12), __edx);
            if(_t59 == 0) {
                goto L7;
            } else {
                 *(__eax + 12) = _t59;
                _t61 = realloc( *(__eax + 20), __edx);
                _t93 = _t61;
                if(_t61 == 0) {
                    goto L7;
                } else {
                    _t63 = __edx >> 2;
                    _t83 = _t63 << 7;
                     *(__eax + 20) = _t93;
                    _v28 = _t63 << 5;
                    _t65 = realloc( *(__eax + 24), _t83);
                    if(_t65 == 0) {
                        goto L7;
                    } else {
                         *(__eax + 24) = _t65;
                        _t67 = realloc( *(__eax + 28), _t83);
                        if(_t67 == 0) {
                            goto L7;
                        } else {
                             *(__eax + 28) = _t67;
                            _t68 =  *(__eax + 4);
                            _v40 = 0;
                            _v36 = __edx - _t68;
                            _t86 = _v24 >> 2 << 5;
                             *__esp = _t68 +  *((intOrPtr*)(__eax + 8));
                            memset();
                            memset( *(__eax + 12) +  *(__eax + 4), 0, __edx - _t71);
                            _v28 = _v28 - _t86;
                            _t87 = _t86 << 2;
                            _v40 = 0;
                            _v20 = _v28 << 2;
                            _v36 = _v20;
                             *__esp =  *(__eax + 24) + _t87;
                            memset();
                            memset( *(__eax + 28) + _t87, 0, _v20);
                            _t55 = 0;
                             *(__eax + 4) = __edx;
                        }
                    }
                }
            }
        }
    }
    return _t55;
}

select_add(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    signed int* _a4,                       // _cfa_4
    signed int* _a8                        // _cfa_8
)
{// addr = 0x08050380
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v20;                       // _cfa_ffffffec
    signed int _v24;                       // _cfa_ffffffe8
    signed int _v28;                       // _cfa_ffffffe4
    intOrPtr _v32;                         // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    char _v156;                            // _cfa_ffffff64
    void _v160;                            // _cfa_ffffff60
    int _v188;                             // _cfa_ffffff44 (outparam)
    int _v192;                             // _cfa_ffffff40 (outparam)
    signed char _t77;                      // _t77
    signed int _t95;                       // _t95
    _unknown_ _t97;                        // _t97
    intOrPtr _t99;                         // _t99
    signed int _t100;                      // _t100
    signed int _t103;                      // _t103
    signed int _t117;                      // _t117
    _unknown_ _t119;                       // _t119
    _unknown_ _t120;                       // _t120
    signed int _t121;                      // _t121
    signed int _t122;                      // _t122
    signed int _t123;                      // _t123
    signed int* _t125;                     // _t125
    intOrPtr _t126;                        // _t126
    intOrPtr _t127;                        // _t127
    signed int* _t131;                     // _t131
    intOrPtr _t132;                        // _t132
    intOrPtr* _t136;                       // _t136

    _v8 = __edi;
    _t125 = _a8;
    _v12 = __esi;
    _t131 = _a4;
    _v16 = __ebx;
    _t77 = _t125[0xc];
    _v24 = _t77;
    if((_t77 & 8) != 0) {
        _a4 = _t125;
        _t99 = _v16;
        _t132 = _v12;
        _t126 = _v8;
        __esp = _t136;
        _pop(__ebp);
        _push(_t136);
        __esp = __esp - 168;
        _v40 = _t99;
        _t100 = _v20;
        _v36 = _t132;
        _v32 = _t126;
        _t127 =  *((intOrPtr*)(_t100 + 40));
        if(( *(_t100 + 48) & 6) != 0) {
            _v188 = "evsignal_add";
            event_errx(1, "%s: EV_SIGNAL incompatible use");
        }
        _t133 =  *((intOrPtr*)(_t100 + 44));
        memset( &_v160, 0, 140);
        _v160 = evsignal_handler;
         *__esp =  &_v156;
        sigfillset();
        _v28 = _v28 | 268435456;
        evsignal_base = _t127;
        _v188 = 0;
        _v192 =  &_v160;
         *__esp =  *((intOrPtr*)(_t100 + 44));
        sigaction();
        _t119 = -1;
        if( &_v156 + 1 != 0) {
            _t119 = 0;
            if( *((intOrPtr*)(_t127 + 128)) == 0) {
                 *((intOrPtr*)(_t127 + 128)) = 1;
                _v192 = 0;
                event_add( &_v160, _t127, _t133, _t127 + 36);
                _t119 = 0;
            }
        }
        return _t119;
    } else {
        _t103 = _t125[0xb];
        if( *_t131 >= _t103) {
L8:
            if((_v24 & 2) != 0) {
                _t122 = _t125[0xb];
                 *(_t131[2] + (_t122 >> 5) * 4) =  *(_t131[2] + (_t122 >> 5) * 4) | 1 << (_t122 & 31);
                 *(_t131[6] + _t122 * 4) = _t125;
            }
            _t120 = 0;
            if((_v24 & 4) != 0) {
                _t121 = _t125[0xb];
                 *(_t131[3] + (_t121 >> 5) * 4) =  *(_t131[3] + (_t121 >> 5) * 4) | 1 << (_t121 & 31);
                 *(_t131[7] + _t121 * 4) = _t125;
                _t120 = 0;
            }
        } else {
            _t117 = _t131[1];
            _t123 = _t117;
            _v20 = _t117;
            if(_t117 <= 3) {
                _t123 = 4;
                _v20 = 4;
            }
            _t95 = _t103 + 32 >> 5 << 2;
            if(_t95 > _v20) {
                do {
                    _t123 = _t123 + _t123;
                } while(_t123 < _t95);
            }
            if(_t123 != _t117) {
                _t97 = select_resize(_t131, _t103, _t123, _t125, _t131);
                _t120 = -1;
                if(_t97 == 0) {
                    _v24 = _t125[0xc];
                     *_t131 = _t125[0xb];
                    goto L8;
                }
            } else {
                 *_t131 = _t103;
                goto L8;
            }
        }
        return _t120;
    }
}

select_dispatch(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr* _a8,                         // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x08050490
    signed int _v20;                       // _cfa_ffffffec
    char _v21;                             // _cfa_ffffffeb
    signed int _v28;                       // _cfa_ffffffe4
    intOrPtr _v44;                         // _cfa_ffffffd4
    signed int _v48;                       // _cfa_ffffffd0
    void* _v52;           // _cfa_ffffffcc (outparam)
    intOrPtr _v56;                         // _cfa_ffffffc8 (outparam)
    _unknown_ __ebx;                       // r1
    _unknown_ __edi;                       // r4
    _unknown_ __esi;                       // r5
    intOrPtr* _t70;                        // _t70
    intOrPtr _t79;                         // _t79
    _unknown_ _t83;                        // _t83
    signed char _t96;                      // _t96
    signed char _t100;                     // _t100
    intOrPtr _t107;                        // _t107
    signed int _t109;                      // _t109
    signed char _t114;                     // _t114
    signed int _t118;                      // _t118
    signed int _t121;                      // _t121
    intOrPtr* _t123;                       // _t123
    signed char _t125;                     // _t125

    __esp = __esp - 44;
    _t70 = _a8;
    _t107 = _a4;
    _t123 = _t70;
    memcpy( *(_t70 + 16),  *(_t70 + 8),  *(_t70 + 4));
    memcpy( *(_t123 + 20),  *(_t123 + 12),  *(_t123 + 4));
    _v48 = 0;
    _v44 = _a12;
    _v52 =  *(_t123 + 20);
    _v56 = _t123[4];
    _t79 = 1 +  *_t123;
     *__esp = _t79;
    select();
    if(1 + _t79 == 0) {
        if( *(__errno_location()) != 4) {
             *__esp = "select";
            event_warn();
            _t83 = -1;
            goto L20;
        } else {
            evsignal_process(_t81, _t107);
            __esp = __esp + 44;
            return 0;
        }
    } else {
        _t86 =  *((intOrPtr*)(_t107 + 132));
        if( *((intOrPtr*)(_t107 + 132)) != 0) {
            evsignal_process(_t86, _t107);
        }
        if( *_a8 >= 0) {
            _v28 = 0;
            _v20 = 0;
            do {
                _t121 = 0;
                _t109 = 0;
                _t118 = _v28 >> 5;
                _t114 = _v28 & 31;
                if(( *( *((intOrPtr*)(_a8 + 16)) + _t118 * 4) >> _t114 & 1) != 0) {
                    _t121 = 2;
                    _t109 =  *((intOrPtr*)( *((intOrPtr*)(_a8 + 24)) + _v20));
                }
                _v21 = 0;
                _t125 = 0;
                if(( *( *((intOrPtr*)(_a8 + 20)) + _t118 * 4) >> _t114 & 1) != 0) {
                    _t121 = _t121 | 4;
                    _t125 =  *((intOrPtr*)( *((intOrPtr*)(_a8 + 28)) + _v20));
                    _v21 = _t125 != 0;
                }
                if(_t109 != 0) {
                    _t100 =  *(_t109 + 48);
                    if((_t121 & _t100) != 0) {
                        if((_t100 & 16) == 0) {
                            event_del(_t109, _t121, _t125, _t109);
                        }
                        _v52 = 1;
                        event_active(_t109, _t121, _t125, _t109,  *(_t109 + 48) & _t121);
                    }
                }
                if(_t125 != _t109 && _v21 != 0) {
                    _t96 =  *(_t125 + 48);
                    if((_t121 & _t96) != 0) {
                        if((_t96 & 16) == 0) {
                            event_del(_t109, _t121, _t125, _t125);
                        }
                        _v52 = 1;
                        event_active(_t109, _t121 &  *(_t125 + 48), _t125, _t125, _t121 &  *(_t125 + 48));
                    }
                }
                _v28 = 1 + _v28;
                _v20 = _v20 + 4;
            } while( *_a8 >= _v28);
        }
        _t83 = 0;
L20:
        __esp = __esp + 44;
        return _t83;
    }
}

select_init(
    _unknown_ __edi,                       // r4
    _unknown_ __esi,                       // r5
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x08050670
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    void* __ebx;          // r1
    void* _t4;            // _t4

    __esi = __esi;
    __edi = __edi;
    if(getenv("EVENT_NOSELECT") == 0) {
        _t4 = calloc(1, 32);
        __ebx = _t4;
        if(_t4 == 0) {
            goto L1;
        }
        __edx = 8;
        select_resize(_t4, __ebx, 8, __edi, __esi);
        evsignal_init(_a4);
        return __ebx;
    }
L1:
    return 0;
}

poll_recalc()
{// addr = 0x080506D0
    return 0;
}

poll_dealloc(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr* _a8                          // _cfa_8
)
{// addr = 0x080506E0
    intOrPtr _t16;                         // _t16
    intOrPtr _t17;                         // _t17
    intOrPtr _t18;                         // _t18

    __ebx = _a8;
     *__esp = _a4;
    evsignal_dealloc();
    _t16 = __ebx[3];
    if(_t16 != 0) {
         *__esp = _t16;
        L1();
    }
    _t17 = __ebx[4];
    if(_t17 != 0) {
         *__esp = _t17;
        L1();
    }
    _t18 = __ebx[5];
    if(_t18 != 0) {
         *__esp = _t18;
        L1();
    }
    _t16 = __ebx[6];
    if(_t16 != 0) {
         *__esp = _t16;
        L1();
    }
     *__ebx = 0;
     *((intOrPtr*)(__ebx + 4)) = 0;
     *((intOrPtr*)(__ebx + 8)) = 0;
     *((intOrPtr*)(__ebx + 12)) = 0;
     *((intOrPtr*)(__ebx + 16)) = 0;
     *((intOrPtr*)(__ebx + 20)) = 0;
     *((intOrPtr*)(__ebx + 24)) = 0;
    _a4 = __ebx;
    __esp = __esp + 4;
    _pop(__ebx);
    _pop(__ebp);
    goto __imp__free;
}

poll_del(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08050770
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v20;                       // _cfa_ffffffec
    signed int _v24;                       // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    signed int _v32;                       // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v52;                         // _cfa_ffffffcc
    intOrPtr _v56;                         // _cfa_ffffffc8
    intOrPtr _t85;                         // _t85
    _unknown_ _t86;                        // _t86
    intOrPtr _t87;                         // _t87
    intOrPtr _t88;                         // _t88
    signed int _t100;                      // _t100
    intOrPtr _t104;                        // _t104
    intOrPtr* _t107;                       // _t107
    signed int _t108;                      // _t108
    signed int _t110;                      // _t110
    signed int _t113;                      // _t113
    intOrPtr* _t114;                       // _t114
    signed int _t122;                      // _t122
    signed int _t124;                      // _t124
    signed int _t125;                      // _t125
    intOrPtr _t130;                        // _t130
    _unknown_ _t133;                       // _t133
    intOrPtr _t134;                        // _t134
    intOrPtr* _t135;                       // _t135

    _t104 = _a8;
    _v16 = __ebx;
    _v12 = __esi;
    _v8 = __edi;
    _t110 =  *((short*)(_t104 + 48));
    _v36 = _a4;
    if((_t110 & 8) != 0) {
        _a4 = _t104;
        __esp = _t135;
        _pop(__ebp);
        _push(_t135);
        __esp = __esp - 24;
        _v52 = 0;
        _v56 = 0;
        _t85 =  *((intOrPtr*)(_v28 + 44));
         *__esp = _t85;
        sigaction();
        return _t85;
    } else {
        if((_t110 & 6) != 0) {
            _t86 = -1;
            _t100 =  *(_t104 + 44);
            _t130 =  *((intOrPtr*)(_v36 + 24));
            _v24 = _t100;
            _v28 = _t130;
            _t122 =  *((intOrPtr*)(_t130 + _t100 * 4)) - 1;
            _v32 = _t122;
            if(_t122 >= 0) {
                _t87 = _v36;
                _t124 = _t122 << 3;
                _v20 = _t124;
                _t133 = _t124 +  *((intOrPtr*)(_t87 + 12));
                if((_t110 & 2) != 0) {
                     *(_t133 + 4) =  *(_t133 + 4) & 65534;
                    _t110 =  *((short*)(_t104 + 48));
                     *((intOrPtr*)( *((intOrPtr*)(_t87 + 16)) + _v32 * 4)) = 0;
                }
                if((_t110 & 4) != 0) {
                     *(_t133 + 4) =  *(_t133 + 4) & 65531;
                     *((intOrPtr*)( *((intOrPtr*)(_v36 + 20)) + _v32 * 4)) = 0;
                }
                if( *(_t133 + 4) != 0) {
                    goto L2;
                } else {
                    _t134 = _v36;
                     *((intOrPtr*)(_v28 + _v24 * 4)) = 0;
                    _t113 =  *(_t134 + 4) - 1;
                     *(_t134 + 4) = _t113;
                    if(_v32 == _t113) {
                        goto L2;
                    } else {
                        _t88 =  *((intOrPtr*)(_t134 + 12));
                        _t114 = _t88 + _t113 * 8;
                        _t107 = _v20 + _t88;
                         *_t107 =  *_t114;
                        _t107[1] = _t114[1];
                        _t108 =  *(_t134 + 4);
                        _t125 = _v32;
                         *((intOrPtr*)( *((intOrPtr*)(_t134 + 16)) + _t125 * 4)) =  *((intOrPtr*)( *((intOrPtr*)(_t134 + 16)) + _t108 * 4));
                         *((intOrPtr*)( *((intOrPtr*)(_t134 + 20)) + _t125 * 4)) =  *((intOrPtr*)( *((intOrPtr*)(_t134 + 20)) + _t108 * 4));
                         *((intOrPtr*)( *((intOrPtr*)(_t134 + 24)) +  *( *((intOrPtr*)(_t134 + 12)) + _t125 * 8) * 4)) = _t125 + 1;
                        _t86 = 0;
                    }
                }
            }
        } else {
L2:
            _t86 = 0;
        }
        return _t86;
    }
}

poll_add(
    int __ebx,                             // r1
    int __edi,                             // r4
    _unknown_ __esi,                       // r5
    int _a4,                               // _cfa_4
    int _a8                                // _cfa_8
)
{// addr = 0x08050890
    int _v8;                               // _cfa_fffffff8
    signed int* _v12;                      // _cfa_fffffff4
    int _v16;                              // _cfa_fffffff0
    int _v20;                              // _cfa_ffffffec
    void* _v24;           // _cfa_ffffffe8
    signed int _v28;                       // _cfa_ffffffe4
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    char _v156;                            // _cfa_ffffff64
    void _v160;                            // _cfa_ffffff60
    int _v164;                             // _cfa_ffffff5c
    int _v168;                             // _cfa_ffffff58
    int _t108;                             // _t108
    signed char _t109;                     // _t109
    _unknown_ _t118;                       // _t118
    signed int _t121;                      // _t121
    signed char _t126;                     // _t126
    void* _t132;          // _t132
    int _t138;                             // _t138
    void* _t140;          // _t140
    void* _t142;          // _t142
    void* _t144;          // _t144
    int _t147;                             // _t147
    int _t153;                             // _t153
    void* _t154;          // _t154
    _unknown_ _t156;                       // _t156
    signed int _t157;                      // _t157
    int _t159;                             // _t159
    void* _t160;          // _t160
    int _t165;                             // _t165
    signed int _t167;                      // _t167
    intOrPtr _t171;                        // _t171
    signed int* _t175;                     // _t175
    _unknown_ _t178;                       // _t178

    _t170 = __edi;
    _t146 = __ebx;
    _push(__edi);
    _push(__esi);
    _push(__ebx);
    __esp = __esp - 28;
    _t108 = _a8;
    _t175 = _a4;
    _v20 = _t108;
    _t109 =  *((short*)(_t108 + 48));
    if((_t109 & 8) != 0) {
        _a4 = _v20;
        __esp = __esp + 28;
        _pop(__ebx);
        _pop(__esi);
        _pop(__edi);
        _pop(__ebp);
        _push(_t178);
        __esp = __esp - 168;
        _v16 = __ebx;
        _t147 = _a4;
        _v12 = _t175;
        _v8 = __edi;
        _t171 =  *((intOrPtr*)(_t147 + 40));
        if(( *(_t147 + 48) & 6) != 0) {
            _v164 = "evsignal_add";
            event_errx(1, "%s: EV_SIGNAL incompatible use");
        }
        _t176 =  *((intOrPtr*)(_t147 + 44));
        memset( &_v160, 0, 140);
        _v160 = evsignal_handler;
         *__esp =  &_v156;
        sigfillset();
        _v28 = _v28 | 268435456;
        evsignal_base = _t171;
        _v164 = 0;
        _v168 =  &_v160;
         *__esp =  *((intOrPtr*)(_t147 + 44));
        sigaction();
        _t156 = -1;
        if( &_v156 + 1 != 0) {
            _t156 = 0;
            if( *((intOrPtr*)(_t171 + 128)) == 0) {
                 *((intOrPtr*)(_t171 + 128)) = 1;
                _v168 = 0;
                event_add( &_v160, _t171, _t176, _t171 + 36);
                _t156 = 0;
            }
        }
        return _t156;
    } else {
        if((_t109 & 6) == 0) {
L22:
            _t118 = 0;
            goto L23;
        } else {
            _t157 =  *_t175;
            if(_t175[1] + 1 < _t157) {
L9:
                _t121 =  *(_v20 + 44);
                _t159 = _t175[2];
                if(_t121 < _t159) {
L16:
                    _t160 = _t175[6];
                    _v24 = _t160;
                    _t170 =  *((intOrPtr*)(_t160 + _t121 * 4)) - 1;
                    if(_t170 < 0) {
                        _t170 = _t175[1];
                        _t153 = _t170 + 1;
                        _t175[1] = _t153;
                        _t146 = _t175[3] + _t170 * 8;
                         *(_t175[4] + _t170 * 4) = 0;
                         *_t146 =  *(_v20 + 44);
                         *(_t146 + 4) = 0;
                         *(_t175[5] + _t170 * 4) = 0;
                         *(_v24 +  *(_v20 + 44) * 4) = _t153;
                    } else {
                        _t146 = _t175[3] + _t170 * 8;
                    }
                    _t165 = _v20;
                     *((short*)(_t146 + 6)) = 0;
                    _t126 =  *((short*)(_t165 + 48));
                    if((_t126 & 4) != 0) {
                         *(_t146 + 4) =  *(_t146 + 4) | 4;
                         *(_t175[5] + _t170 * 4) = _t165;
                        _t126 =  *((short*)(_t165 + 48));
                    }
                    if((_t126 & 2) == 0) {
                        goto L22;
                    } else {
                         *(_t146 + 4) =  *(_t146 + 4) | 1;
                         *(_t175[4] + _t170 * 4) = _v20;
                        __esp = __esp + 28;
                        _pop(__ebx);
                        _pop(__esi);
                        _pop(__edi);
                        return 0;
                    }
                } else {
                    _t146 = 32;
                    if(_t159 <= 31) {
L13:
                        if(_t121 >= _t146) {
                            goto L12;
                        }
                    } else {
                        _t146 = _t159 + _t159;
                        if(_t121 >= _t146) {
L12:
                            _t146 = _t146 + _t146;
                            goto L13;
                        }
                    }
                    _t132 = realloc(_t175[6], _t146 * 4);
                    _t154 = _t132;
                    if(_t132 == 0) {
                        goto L27;
                    } else {
                        _t167 = _t175[2];
                        _t175[6] = _t132;
                        memset(_t154 + _t167 * 4, 0, _t146 - _t167 << 2);
                        _t175[2] = _t146;
                        _t121 =  *(_v20 + 44);
                        goto L16;
                    }
                }
            } else {
                if(_t157 <= 31) {
                    _t170 = 32;
                    _t146 = 32;
                    _t138 = 256;
                } else {
                    _t170 = _t157 + _t157;
                    _t146 = _t170;
                    _t138 = _t157 << 4;
                }
                _t140 = realloc(_t175[3], _t138);
                if(_t140 == 0) {
L27:
                     *__esp = "realloc";
                    event_warn();
                    _t118 = -1;
L23:
                    __esp = __esp + 28;
                    _pop(__ebx);
                    _pop(__esi);
                    _pop(__edi);
                    return _t118;
                } else {
                    _t146 = _t146 << 2;
                    _t175[3] = _t140;
                    _t142 = realloc(_t175[4], _t146);
                    if(_t142 == 0) {
                        goto L27;
                    } else {
                        _t175[4] = _t142;
                        _t144 = realloc(_t175[5], _t146);
                        if(_t144 == 0) {
                            goto L27;
                        } else {
                            _t175[5] = _t144;
                             *_t175 = _t170;
                            goto L9;
                        }
                    }
                }
            }
        }
    }
}

poll_dispatch(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    signed int* _a12                       // _cfa_c
)
{// addr = 0x08050A90
    signed int _v20;                       // _cfa_ffffffec
    char _v21;                             // _cfa_ffffffeb
    intOrPtr _v28;                         // _cfa_ffffffe4
    signed int _v32;                       // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8 (outparam)
    _unknown_ __ebx;                       // r1
    _unknown_ __edi;                       // r4
    _unknown_ __esi;                       // r5
    intOrPtr _t63;                         // _t63
    intOrPtr _t64;                         // _t64
    intOrPtr _t67;                         // _t67
    signed int _t74;                       // _t74
    signed char _t76;                      // _t76
    signed char _t80;                      // _t80
    intOrPtr _t90;                         // _t90
    signed char _t91;                      // _t91
    signed int* _t95;                      // _t95
    intOrPtr _t102;                        // _t102
    signed int _t104;                      // _t104
    signed int _t111;                      // _t111
    intOrPtr _t113;                        // _t113
    signed char _t114;                     // _t114

    _t63 = -1;
    __esp = __esp - 28;
    _t95 = _a12;
    _t113 = _a4;
    if(_t95 != 0) {
        _t63 = ((_t95[1] + 999) * 274877907 >> 32 >> 6) - (_t95[1] + 999 >> 31) +  *_t95 * 1000;
    }
    _t102 =  *((intOrPtr*)(_a8 + 4));
    _v28 = _t102;
    _v36 = _t63;
    _v40 = _t102;
    _t64 =  *((intOrPtr*)(_a8 + 12));
     *__esp = _t64;
    poll();
    _t90 = _t64;
    if(_t64 == -1) {
        if( *(__errno_location()) != 4) {
             *__esp = 134557958;
            event_warn();
            _t67 = -1;
            goto L25;
        } else {
            evsignal_process(_t65, _t113);
            __esp = __esp + 28;
            return 0;
        }
    } else {
        _t70 =  *((intOrPtr*)(_t113 + 132));
        if( *((intOrPtr*)(_t113 + 132)) != 0) {
            evsignal_process(_t70, _t113);
        }
        if(_t90 != 0 && _v28 > 0) {
            _v32 = 0;
            _v20 = 0;
            do {
                _t74 =  *( *((intOrPtr*)(_a8 + 12)) + 6 + _v32 * 8) & 65535;
                if(_t74 != 0) {
                    _t104 = _t74;
                    if((_t104 & 24) != 0) {
                        _t104 = _t104 | 5;
                    }
                    _t111 = 0;
                    _t114 = 0;
                    if((_t104 & 1) != 0) {
                        _t111 = 2;
                        _t114 =  *((intOrPtr*)( *((intOrPtr*)(_a8 + 16)) + _v20));
                    }
                    if((_t104 & 4) == 0) {
                        if(_t111 == 0) {
                            goto L23;
                        } else {
                            _t91 = 0;
                            _v21 = 0;
                            goto L14;
                        }
L25:
                        __esp = __esp + 28;
                        return _t67;
                        goto L34;
                    } else {
                        _t111 = _t111 | 4;
                        _t91 =  *((intOrPtr*)( *((intOrPtr*)(_a8 + 20)) + _v20));
                        _v21 = _t91 != 0;
L14:
                        if(_t114 != 0) {
                            _t80 =  *(_t114 + 48);
                            if((_t111 & _t80) != 0) {
                                if((_t80 & 16) == 0) {
                                    event_del(_t91, _t111, _t114, _t114);
                                }
                                _v36 = 1;
                                event_active(_t91, _t111, _t114, _t114,  *(_t114 + 48) & _t111);
                            }
                        }
                        if(_t91 != _t114 && _v21 != 0) {
                            _t76 =  *(_t91 + 48);
                            if((_t111 & _t76) != 0) {
                                if((_t76 & 16) == 0) {
                                    event_del(_t91, _t111, _t114, _t91);
                                }
                                _v36 = 1;
                                event_active(_t91, _t111 &  *(_t91 + 48), _t114, _t91, _t111 &  *(_t91 + 48));
                            }
                        }
                    }
                }
L23:
                _v32 = _v32 + 1;
                _v20 = _v20 + 4;
            } while(_v32 != _v28);
        }
        _t67 = 0;
        goto L25;
    }
L34:
}

poll_init(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x08050C70
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    void* __ebx;          // r1
    void* _t4;            // _t4

    if(getenv("EVENT_NOPOLL") == 0) {
        _t4 = calloc(1, 28);
        __ebx = _t4;
        if(_t4 == 0) {
            goto L1;
        }
        evsignal_init(_a4);
        return __ebx;
    }
L1:
    return 0;
}

epoll_dealloc(
    int _a4,                               // _cfa_4
    int _a8                                // _cfa_8
)
{// addr = 0x08050CC0
    int _t12;                              // _t12
    int _t13;                              // _t13

    __ebx = _a8;
     *__esp = _a4;
    evsignal_dealloc();
    _t12 =  *__ebx;
    if(_t12 != 0) {
         *__esp = _t12;
        L1();
    }
    _t13 =  *(__ebx + 8);
    if(_t13 != 0) {
         *__esp = _t13;
        L1();
    }
    _t12 =  *(__ebx + 16);
    if(_t12 >= 0) {
        _t12 = close(_t12);
    }
     *__ebx = 0;
     *(__ebx + 4) = 0;
     *(__ebx + 8) = 0;
     *(__ebx + 12) = 0;
     *(__ebx + 16) = 0;
    _a4 = __ebx;
    __esp =  &(__esp[1]);
    _pop(__ebx);
    _pop(__ebp);
    goto __imp__free;
}

epoll_del(
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08050D30
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr* _v20;                        // _cfa_ffffffec
    char _v24;                             // _cfa_ffffffe8
    char* _v32;                            // _cfa_ffffffe0
    signed int _v36;                       // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    _unknown_ __ebx;                       // r1
    _unknown_ __esi;                       // r5
    signed char _t31;                      // _t31
    _unknown_ _t32;                        // _t32
    intOrPtr _t36;                         // _t36
    _unknown_ _t40;                        // _t40
    signed int _t41;                       // _t41
    intOrPtr* _t43;                        // _t43
    intOrPtr _t44;                         // _t44
    _unknown_ _t46;                        // _t46
    signed char _t49;                      // _t49
    intOrPtr _t50;                         // _t50
    _unknown_ _t51;                        // _t51
    intOrPtr* _t52;                        // _t52

    _push(_t51);
    _push(_t40);
    __esp = __esp - 32;
    _t44 = _a8;
    _t52 = _a4;
    _v24 = 0;
    _v20 = 0;
    _t31 =  *((short*)(_t44 + 48));
    _v16 = 0;
    if((_t31 & 8) != 0) {
        _t32 = evsignal_del(_t44);
        __esp = __esp + 32;
        _pop(__ebx);
        _pop(__esi);
        return _t32;
    } else {
        _t41 =  *(_t44 + 44);
        if(_t41 >= _t52[1]) {
L9:
            _t46 = 0;
        } else {
            _t49 = _t31 >> 1 & 1;
            _t43 = _t41 * 8 +  *_t52;
            if((_t31 & 4) != 0) {
                _t49 = _t49 | 4;
            }
            if(_t49 == 5) {
L13:
                _v24 = _t49;
                _t50 = 2;
                _v20 = _t43;
                 *_t43 = 0;
                goto L14;
            } else {
                if((_t49 & 1) == 0 || _t43[1] == 0) {
                    if((_t49 & 4) != 0) {
                        if( *_t43 == 0) {
                            goto L13;
                        } else {
                            _t50 = 3;
                            _v24 = 1;
                            _v20 = _t43;
                        }
                    } else {
                        goto L13;
                    }
L14:
                    _t43[1] = 0;
                } else {
                    _v20 = _t43;
                    _t50 = 3;
                    _v24 = 4;
                     *_t43 = 0;
                }
            }
            _v40 = _t50;
            _v32 =  &_v24;
            _v36 = _t41;
            _t36 = _t52[4];
             *__esp = _t36;
            epoll_ctl();
            _t46 = -1;
            if(_t36 + 1 != 0) {
                goto L9;
            }
        }
        __esp = __esp + 32;
        _pop(__ebx);
        _pop(__esi);
        return _t46;
    }
}

epoll_dispatch(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    signed int* _a12                       // _cfa_c
)
{// addr = 0x08050E20
    signed char* _v20;                     // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _v28;                         // _cfa_ffffffe4
    signed int _v32;                       // _cfa_ffffffe0
    intOrPtr _v48;                         // _cfa_ffffffd0
    intOrPtr _v52;                         // _cfa_ffffffcc
    signed char* _v56;                     // _cfa_ffffffc8 (outparam)
    _unknown_ __ebx;                       // r1
    _unknown_ __edi;                       // r4
    _unknown_ __esi;                       // r5
    intOrPtr _t58;                         // _t58
    intOrPtr _t60;                         // _t60
    intOrPtr _t64;                         // _t64
    signed char _t70;                      // _t70
    signed int _t78;                       // _t78
    intOrPtr _t81;                         // _t81
    signed char _t82;                      // _t82
    signed int* _t83;                      // _t83
    intOrPtr* _t84;                        // _t84
    signed char* _t85;                     // _t85
    intOrPtr _t86;                         // _t86
    intOrPtr _t94;                         // _t94
    signed char _t95;                      // _t95
    signed char* _t96;                     // _t96
    intOrPtr _t97;                         // _t97

    _t58 = -1;
    __esp = __esp - 44;
    _t83 = _a12;
    _t81 = _a8;
    _t94 = _a4;
    _t96 =  *(_t81 + 8);
    if(_t83 != 0) {
        _t78 = _t83[1] + 999;
        _v32 = _t78;
        _v32 = _v32 >> 31;
        _t58 = (_t78 * 274877907 >> 32 >> 6) - _v32 +  *_t83 * 1000;
    }
    _v48 = _t58;
    _v56 = _t96;
    _v52 =  *((intOrPtr*)(_t81 + 12));
    _t60 =  *((intOrPtr*)(_t81 + 16));
     *__esp = _t60;
    epoll_wait();
    _v24 = _t60;
    if(_t60 + 1 == 0) {
        if( *(__errno_location()) != 4) {
             *__esp = "epoll_wait";
            event_warn();
            _t64 = -1;
            goto L28;
        } else {
            evsignal_process(_t62, _t94);
            __esp = __esp + 44;
            return 0;
        }
    } else {
        _t67 =  *((intOrPtr*)(_t94 + 132));
        if( *((intOrPtr*)(_t94 + 132)) != 0) {
            evsignal_process(_t67, _t94);
        }
        if(_v24 > 0) {
            _v20 = _t96;
            _v28 = 0;
            goto L17;
            do {
                do {
L17:
                    _t85 = _v20;
                    _t70 =  *_t85;
                    _t84 = _t85[4];
                    if((_t70 & 16) != 0 || (_t70 & 8) != 0) {
                        _t70 = _t70 | 5;
                    }
                    _t86 = 0;
                    _t82 = 0;
                    if((_t70 & 1) != 0) {
                        _t82 =  *_t84;
                        _t86 = 2;
                    }
                    if((_t70 & 4) != 0) {
                        _t95 = _t84[1];
                        _t97 = _t95 != 0;
L7:
                        if(_t82 != 0 && ( *(_t82 + 48) & 16) == 0) {
                            event_del(_t82, _t95, _t97, _t82);
                        }
                        if(_t95 != _t82 && _t97 != 0) {
                            if(( *(_t95 + 48) & 16) == 0) {
                                event_del(_t82, _t95, _t97, _t95);
                            }
                        }
                        if(_t82 != 0) {
                            _v52 = 1;
                            event_active(_t82, _t95, _t97, _t82, 2);
                        }
                        if(_t97 != 0) {
                            goto L25;
                        } else {
                            goto L16;
                        }
                    } else {
                        if(_t86 == 0) {
                            goto L16;
                        } else {
                            _t95 = 0;
                            _t97 = 0;
                            goto L7;
                        }
                    }
                    goto L27;
L25:
                    _v52 = 1;
                    event_active(_t82, _t95, _t97, _t95, 4);
                    _v28 = _v28 + 1;
                    _v20 =  &(_v20[0xc]);
                } while(_v28 != _v24);
                goto L27;
L16:
                _v28 = _v28 + 1;
                _v20 =  &(_v20[0xc]);
            } while(_v28 != _v24);
        }
L27:
        _t64 = 0;
L28:
        __esp = __esp + 44;
        return _t64;
    }
}

epoll_recalc(
    void** _a8,           // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x08050FE0
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    signed int __ebx;                      // r1
    void** __esi;         // r5
    void* _t15;           // _t15
    intOrPtr _t23;                         // _t23
    signed int _t24;                       // _t24

    __esi = _a8;
    _t23 = _a12;
    __ebx = __esi[1];
    if(__ebx < _t23) {
        do {
            __ebx = __ebx + __ebx;
        } while(_t23 > __ebx);
        _t15 = realloc( *__esi, __ebx * 8);
        __ecx = _t15;
        if(_t15 == 0) {
             *__esp = "realloc";
            event_warn();
            return -1;
        }
        _t24 = __esi[1];
         *__esi = _t15;
        memset(__ecx + _t24 * 8, 0, __ebx - _t24 << 3);
        __esi[1] = __ebx;
        return 0;
    }
    return 0;
}

epoll_add(
    signed int _a4,                        // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08051060
    signed int _v20;                       // _cfa_ffffffec
    signed int _v24;                       // _cfa_ffffffe8
    char _v28;                             // _cfa_ffffffe4
    char* _v48;                            // _cfa_ffffffd0
    signed int _v52;                       // _cfa_ffffffcc
    signed int _v56;                       // _cfa_ffffffc8
    _unknown_ __ebx;                       // r1
    intOrPtr __edi;                        // r4
    _unknown_ __esi;                       // r5
    signed int _t33;                       // _t33
    signed int _t37;                       // _t37
    intOrPtr _t39;                         // _t39
    _unknown_ _t42;                        // _t42
    signed int _t43;                       // _t43
    signed int _t45;                       // _t45
    signed int _t46;                       // _t46
    signed int _t48;                       // _t48
    signed int _t50;                       // _t50
    signed int _t52;                       // _t52
    _unknown_ _t54;                        // _t54
    signed int _t55;                       // _t55

    __edi = _a8;
    _v28 = 0;
    _v24 = 0;
    _v20 = 0;
    _t46 =  *((short*)(__edi + 48));
    if((_t46 & 8) != 0) {
        return evsignal_add(_t42, __edi, _t54, __edi);
    } else {
        _t33 = _a4;
        _t55 =  *(__edi + 44);
        _t43 = _t55;
        if(_t55 >=  *((intOrPtr*)(_t33 + 4))) {
            _v52 = _t55;
            _v56 = _t33;
             *__esp =  *((intOrPtr*)(__edi + 40));
            _t33 = epoll_recalc() + 1;
            if(_t33 == 0) {
                goto L17;
            } else {
                _t46 =  *((short*)(__edi + 48));
                _t55 =  *(__edi + 44);
                goto L2;
            }
        } else {
L2:
            _t48 = _a4;
            _t45 = (_t43 << 3) +  *_t48;
            asm("sbb edx, edx");
            _t50 = (_t48 & -2) + 3;
            asm("sbb eax, eax");
            _t37 = _t33 + 1;
            if( *((intOrPtr*)(_t45 + 4)) != 0) {
                _t37 = _t37 | 4;
                _t50 = 3;
            }
            if((_t46 & 2) != 0) {
                _t37 = _t37 | 1;
            }
            if((_t46 & 4) != 0) {
                _t37 = _t37 | 4;
            }
            _v28 = _t37;
            _v24 = _t45;
            _v48 =  &_v28;
            _v52 = _t55;
            _v56 = _t50;
            _t39 =  *((intOrPtr*)(_a4 + 16));
             *__esp = _t39;
            epoll_ctl();
            if(_t39 + 1 == 0) {
L17:
                return -1;
            } else {
                _t52 =  *((short*)(__edi + 48));
                if((_t52 & 2) != 0) {
                     *_t45 = __edi;
                }
                if((_t52 & 4) != 0) {
                     *((intOrPtr*)(_t45 + 4)) = __edi;
                    return 0;
                }
                return 0;
            }
        }
    }
}

void* epoll_init(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x08051170
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    int _v24;                              // _cfa_ffffffe8
    int _v36;                              // _cfa_ffffffdc
    char* _v40;                            // _cfa_ffffffd8 (outparam)
    int _t25;                              // _t25
    void* _t27;           // _t27
    void* _t30;           // _t30
    void* _t33;           // _t33
    void _t34;                             // _t34
    void* _t40;           // _t40
    int _t42;                              // _t42
    int _t45;                              // _t45

     *__esp = "EVENT_NOEPOLL";
    _v16 = __ebx;
    _v12 = __esi;
    _v8 = __edi;
    if(getenv() == 0) {
        _t25 =  &_v24;
        _v40 =  &_v24;
         *__esp = 7;
        getrlimit();
        if( &_v24 != 0) {
L11:
            _t45 = 32000;
L5:
             *__esp = _t45;
            epoll_create();
            _t42 = _t25;
            if(_t25 == -1) {
                 *__esp = "epoll_create";
                event_warn();
                _t27 = 0;
L2:
                return _t27;
            }
            _v36 = 1;
            _v40 = 2;
             *__esp = _t25;
            fcntl();
            if(_t25 + 1 == 0) {
                event_warn("fcntl(%d, F_SETFD)", _t42);
            }
            _t30 = calloc(1, 20);
            _t40 = _t30;
            if(_t30 == 0) {
                goto L1;
            }
             *(_t30 + 16) = _t42;
            _t33 = malloc(_t45 + _t45 * 2 << 2);
             *(_t40 + 8) = _t33;
            if(_t33 == 0) {
L15:
                free(_t40);
                _t27 = 0;
                goto L2;
            }
             *(_t40 + 12) = _t45;
            _t34 = calloc(_t45, 8);
             *_t40 = _t34;
            if(_t34 == 0) {
                free( *(_t40 + 8));
                goto L15;
            }
             *(_t40 + 4) = _t45;
            evsignal_init(_a4);
            _t27 = _t40;
            goto L2;
        }
        _t25 = _v24;
        _t45 = _t25 - 1;
        if(_t25 == -1) {
            goto L11;
        }
        goto L5;
    }
L1:
    _t27 = 0;
    goto L2;
}

signed int evsignal_dealloc(
    signed int _a4                         // _cfa_4
)
{// addr = 0x080512B0
    char* _v16;                            // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    char* _v24;                            // _cfa_ffffffe8 (outparam)
    intOrPtr _v48;                         // _cfa_ffffffd0
    _unknown_ _v52;                        // _cfa_ffffffcc
    _unknown_ __ebx;                       // r1
    _unknown_ __edi;                       // r4
    intOrPtr __esi;                        // r5
    signed int _t31;                       // _t31
    int _t38;                              // _t38
    _unknown_ _t39;                        // _t39
    signed int _t40;                       // _t40
    signed char _t41;                      // _t41
    intOrPtr _t42;                         // _t42
    intOrPtr _t43;                         // _t43
    _unknown_ _t44;                        // _t44

    _push(_t39);
    __esp = __esp - 20;
    _t40 = _a4;
    if( *((intOrPtr*)(_t40 + 128)) != 0) {
        event_del(_t40, _t42, __esi, _t40 + 36);
         *((intOrPtr*)(_t40 + 128)) = 0;
    }
    _t31 =  *(_t40 + 28);
    if(_t31 != 0) {
        _v16 = "evsignal_dealloc";
        _v20 = 189;
        _v24 = "signal.c";
         *__esp = "(((&base->sig.signalqueue)->tqh_first) == ((void *)0))";
        __assert_fail();
        _push(_t44);
        _push(_t42);
        _push(__esi);
        _push(_t40);
        __esp = __esp - 12;
        _t43 = _v24;
        _t41 =  *((intOrPtr*)(_t43 + 28));
         *((intOrPtr*)(_t43 + 132)) = 0;
        if(_t41 != 0) {
            do {
                _t31 =  *(_t41 + 44);
                __esi =  *((intOrPtr*)(_t43 + 136 + _t31 * 4));
                if(__esi != 0) {
                    if(( *(_t41 + 48) & 16) == 0) {
                        event_del(_t41, _t43, __esi, _t41);
                    }
                    _v48 = __si;
                    event_active(_t41, _t43, __esi, _t41, 8);
                    _t31 =  *(_t41 + 44);
                     *((intOrPtr*)(_t43 + 136 + _t31 * 4)) = 0;
                }
                goto L8;
L8:
                _t41 =  *((intOrPtr*)(_t41 + 16));
            } while(_t41 != 0);
        } else {
        }
        __esp = __esp + 12;
        _pop(__ebx);
        _pop(__esi);
        _pop(__edi);
        return _t31;
    } else {
        close( *(_t40 + 120));
         *(_t40 + 120) = -1;
        _t38 = close( *(_t40 + 124));
         *(_t40 + 124) = -1;
        __esp = __esp + 20;
        _pop(__ebx);
        return _t38;
    }
}

signed int evsignal_process(
    _unknown_ __eax,                       // r0
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x08051330
    intOrPtr _v20;                         // _cfa_ffffffec
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    signed char __ebx;                     // r1
    intOrPtr __edi;                        // r4
    intOrPtr __esi;                        // r5
    signed int _t18;                       // _t18

    __edi = _a4;
    __ebx =  *((intOrPtr*)(__edi + 28));
     *((intOrPtr*)(__edi + 132)) = 0;
    if(__ebx != 0) {
        goto L4;
    } else {
        return __eax;
    }
    do {
        goto L4;
    } while(__ebx != 0);
    return _t18;
L4:
    _t18 =  *(__ebx + 44);
    __esi =  *((intOrPtr*)(__edi + 136 + _t18 * 4));
    if(__esi != 0) {
        if(( *(__ebx + 48) & 16) == 0) {
            event_del(__ebx, __edi, __esi, __ebx);
        }
        _v20 = __si;
        event_active(__ebx, __edi, __esi, __ebx, 8);
        _t18 =  *(__ebx + 44);
         *((intOrPtr*)(__edi + 136 + _t18 * 4)) = 0;
    }
    __ebx =  *((intOrPtr*)(__ebx + 16));
}

evsignal_del(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x080513B0
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _t6;                          // _t6

    _v20 = 0;
    _v24 = 0;
    _t6 =  *((intOrPtr*)(_a4 + 44));
     *__esp = _t6;
    sigaction();
    return _t6;
}

evsignal_add(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x080513E0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v24;                       // _cfa_ffffffe8
    char _v152;                            // _cfa_ffffff68
    void _v156;                            // _cfa_ffffff64
    int _v164;                             // _cfa_ffffff5c (outparam)
    int _v168;                             // _cfa_ffffff58 (outparam)
    intOrPtr _t37;                         // _t37
    intOrPtr _t41;                         // _t41

    _v16 = __ebx;
    _t37 = _a4;
    _v12 = __esi;
    _v8 = __edi;
    _t41 =  *((intOrPtr*)(_t37 + 40));
    if(( *(_t37 + 48) & 6) != 0) {
        _v164 = "evsignal_add";
        event_errx(1, "%s: EV_SIGNAL incompatible use");
    }
    _t44 =  *((intOrPtr*)(_t37 + 44));
    memset( &_v156, 0, 140);
    _v156 = evsignal_handler;
     *__esp =  &_v152;
    sigfillset();
    _v24 = _v24 | 268435456;
    evsignal_base = _t41;
    _v164 = 0;
    _v168 =  &_v156;
     *__esp =  *((intOrPtr*)(_t37 + 44));
    sigaction();
    __edx = -1;
    if( &_v152 + 1 != 0) {
        __edx = 0;
        if( *((intOrPtr*)(_t41 + 128)) == 0) {
             *((intOrPtr*)(_t41 + 128)) = 1;
            _v168 = 0;
            event_add( &_v156, _t41, _t44, _t41 + 36);
            __edx = 0;
        }
    }
    return __edx;
}

void evsignal_handler(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    signed int _a4                         // _cfa_4
)
{// addr = 0x080514D0
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    signed int _v20;                       // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    intOrPtr* _t20;                        // _t20
    intOrPtr _t21;                         // _t21
    int _t22;                              // _t22
    signed int _t25;                       // _t25
    intOrPtr _t28;                         // _t28
    intOrPtr* _t31;                        // _t31

    _v16 = __ebx;
    _t25 = _a4;
    _v12 = __esi;
    _v8 = __edi;
    _t20 = __errno_location();
    _t31 = _t20;
    _t28 =  *_t20;
    _t21 = evsignal_base;
    if(_t21 == 0) {
        _v20 = _t25;
        _t22 = event_warn("%s: received signal %s, but have no base configured", "evsignal_handler");
    } else {
         *((intOrPtr*)(_t21 + 136 + _t25 * 4)) =  *((intOrPtr*)(_t21 + 136 + _t25 * 4)) + 1;
         *(_t21 + 132) = 1;
        _t22 = write( *(_t21 + 120), 134557972, 1);
         *_t31 = _t28;
    }
    return _t22;
}

evsignal_init(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x08051550
    _unknown_ _v12;                        // _cfa_fffffff4 (outparam)
    _unknown_ _v16;                        // _cfa_fffffff0 (outparam)
    int _v20;                              // _cfa_ffffffec (outparam)
    short _v24;                            // _cfa_ffffffe8 (outparam)
    intOrPtr __ebx;                        // r1
    int _t38;                              // _t38
    int _t42;                              // _t42
    signed int _t50;                       // _t50

    __ebx = _a4;
    if(socketpair(1, 1, 0, __ebx + 120) + 1 == 0) {
        _v20 = "evsignal_init";
        event_err(__ebx, 1, "%s: socketpair");
    }
    _v20 = 1;
    _v24 = 2;
    _t38 =  *(__ebx + 120);
     *__esp = _t38;
    fcntl();
    if(_t38 + 1 == 0) {
        event_warn("fcntl(%d, F_SETFD)",  *(__ebx + 120));
    }
    _v20 = 1;
    _v24 = 2;
    _t42 =  *(__ebx + 124);
     *__esp = _t42;
    fcntl();
    if(_t42 + 1 == 0) {
        event_warn("fcntl(%d, F_SETFD)",  *(__ebx + 124));
    }
     *(__ebx + 132) = 0;
    memset(__ebx + 136, 0, 260);
    _v20 = 2048;
    _v24 = 4;
     *__esp =  *(__ebx + 120);
    fcntl();
    _t50 = event_set(__ebx + 36,  *(__ebx + 124), 2, evsignal_cb, __ebx + 36);
     *(__ebx + 116) =  *(__ebx + 116) | 16;
     *((intOrPtr*)(__ebx + 76)) = __ebx;
    return _t50;
}

intOrPtr evsignal_cb(
    _unknown_ __ebx,                       // r1
    _unknown_ __edi,                       // r4
    _unknown_ __esi,                       // r5
    int _a4,                               // _cfa_4
    intOrPtr* _a8,                         // _cfa_8
    int _a12                               // _cfa_c
)
{// addr = 0x080516A0
    intOrPtr _v4;                          // _cfa_fffffffc
    _unknown_ _v16;                        // _cfa_fffffff0
    char* _v20;                            // _cfa_ffffffec (outparam)
    intOrPtr _v24;                         // _cfa_ffffffe8 (outparam)
    char _v28;                             // _cfa_ffffffe4 (outparam)
    char _v32;                             // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8
    intOrPtr _v44;                         // _cfa_ffffffd4
    char* _v48;                            // _cfa_ffffffd0
    signed short _v52;                     // _cfa_ffffffcc
    int _v56;                              // _cfa_ffffffc8
    intOrPtr* _v68;                        // _cfa_ffffffbc
    intOrPtr _v72;                         // _cfa_ffffffb8
    int _v76;                              // _cfa_ffffffb4
    short _v100;                           // _cfa_ffffff9c
    signed char _t101;                     // _t101
    signed char _t102;                     // _t102
    intOrPtr _t110;                        // _t110
    intOrPtr _t112;                        // _t112
    intOrPtr _t116;                        // _t116
    signed char _t117;                     // _t117
    intOrPtr _t121;                        // _t121
    intOrPtr _t128;                        // _t128
    short* _t133;                          // _t133
    int _t135;                             // _t135
    int _t136;                             // _t136
    _unknown_ _t139;                       // _t139
    int _t141;                             // _t141
    _unknown_ _t144;                       // _t144
    signed int _t149;                      // _t149
    int _t150;                             // _t150
    intOrPtr* _t157;                       // _t157
    signed int _t158;                      // _t158
    intOrPtr* _t162;                       // _t162
    signed int _t163;                      // _t163
    _unknown_ _t166;                       // _t166
    intOrPtr* _t167;                       // _t167

    _push(__ebx);
    __esp = __esp - 20;
    _t135 = _a12;
    if(read(_a4,  &signals.4440, 100) + 1 == 0) {
        _v20 = "evsignal_cb";
        event_err(_t135, 1, "%s: read");
    }
    _a8 = 0;
    _a4 = _t135;
    __esp = __esp + 20;
    _pop(__ebx);
    _pop(__ebp);
    _push(_t166);
    _t167 = __esp;
    _push(__edi);
    _push(__esi);
    _push(_t135);
    __esp = __esp - 44;
    _t136 = _a4;
    _t157 = _a8;
    _t162 =  *((intOrPtr*)(_t136 + 40));
    _v40 =  *_t162;
    _t101 =  *(_t136 + 80);
    _v36 =  *((intOrPtr*)(_t162 + 4));
    if((_t101 & -61600) != 0) {
        _v48 = "event_add";
        _v52 = 635;
        _v56 = "event.c";
         *__esp = "!(ev->ev_flags & ~(0xf000 | 0x9f))";
        __assert_fail();
        _push(_t167);
        __esp = __esp - 40;
        _t141 = _v56;
        _v68 = _t157;
        _t158 = 0;
        _t149 = _v52 & 65535;
        _v76 = _t136;
        _v72 = _t162;
        _t102 =  *(_t141 + 80);
        if((_t102 & 2) != 0) {
            _t158 =  *(_t141 + 48) & 6;
        }
        if((_t102 & 8) != 0) {
            _t158 = _t158 |  *(_v4 + 76);
        }
        if((_t102 & 1) != 0) {
            _t158 = _t158 | 1;
        }
        if((_t102 & 4) != 0) {
            _t158 = _t158 | 8;
        }
        _t163 = _t149 & 15;
        if(_a4 != 0 && (_t163 & 1 & _t158) != 0) {
            gettime( &_v32);
            _t110 = _v4;
            _t139 =  *((intOrPtr*)(_t110 + 56)) - _v32;
            _t112 =  *((intOrPtr*)(_t110 + 60)) - _v28;
            _v44 = _t112;
            if(_t112 < 0) {
                _t139 = _t139 - 1;
                _v44 = _t112 + 1000000;
            }
            _v100 = 0;
             *__esp =  &_v32;
            gettimeofday();
            _t150 = _a4;
             *_a4 = _t139 + _v32;
            _t116 = _v44 + _v28;
             *((intOrPtr*)(_t150 + 4)) = _t116;
            if(_t116 > 999999) {
                 *_t150 =  *_t150 + 1;
                 *((intOrPtr*)(_t150 + 4)) =  *((intOrPtr*)(_t150 + 4)) - 1000000;
            }
        }
        return _t163 & _t158;
    } else {
        if(_t157 != 0) {
            if((_t101 & 1) != 0) {
                event_queue_remove(_t162, _t136, 1, _t136, _t157, _t162);
                _t101 =  *(_t136 + 80);
            }
            if((_t101 & 8) != 0 && ( *(_t136 + 76) & 1) != 0) {
                if( *((short*)(_t136 + 50)) != 0) {
                    _t133 =  *((intOrPtr*)(_t136 + 52));
                    if(_t133 != 0) {
                         *_t133 = 0;
                    }
                }
                event_queue_remove(_t162, _t136, 8, _t136, _t157, _t162);
            }
            gettime( &_v28);
             *((intOrPtr*)(_t136 + 56)) = _v28 +  *_t157;
            _t128 = _v24 + _t157[1];
             *((intOrPtr*)(_t136 + 60)) = _t128;
            if(_t128 > 999999) {
                 *((intOrPtr*)(_t136 + 56)) =  *((intOrPtr*)(_t136 + 56)) + 1;
                 *((intOrPtr*)(_t136 + 60)) =  *((intOrPtr*)(_t136 + 60)) - 1000000;
            }
            event_queue_insert(_t162, _t136, 1, _t136, _t157, _t162);
        }
        _t117 =  *((short*)(_t136 + 48));
        if((_t117 & 6) != 0) {
            _t144 = 2;
            if(( *(_t136 + 80) & 10) != 0) {
                goto L13;
            } else {
                goto L20;
            }
        } else {
L13:
            if((_t117 & 8) == 0 || ( *(_t136 + 80) & 4) != 0) {
                __esp = __esp + 44;
                _pop(__ebx);
                _pop(__esi);
                _pop(__edi);
                return 0;
            } else {
                _t144 = 4;
L20:
                event_queue_insert(_t162, _t136, _t144, _t136, _t157, _t162);
                _v56 = _t136;
                _t121 = _v40;
                 *__esp = _t121;
                 *((intOrPtr*)(_v44 + 8))();
                __esp = __esp + 44;
                _pop(__ebx);
                _pop(__esi);
                _pop(__edi);
                return _t121;
            }
        }
    }
}

evbuffer_drain(
    intOrPtr __ebx,                        // r1
    intOrPtr __esi,                        // r5
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08051700
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _t22;                         // _t22
    intOrPtr* _t26;                        // _t26

    __edx = _a4;
    _v12 = __ebx;
    __eax = _a8;
    _v8 = __esi;
    __ecx = __edx[4];
    if(__ecx > __eax) {
         *__edx =  *__edx + __eax;
        __edx[2] = __edx[2] + __eax;
        __edx[4] = __edx[4] - __eax;
    } else {
        __eax =  *((intOrPtr*)(__edx + 4));
        __edx[4] = 0;
        __edx[2] = 0;
         *__edx =  *((intOrPtr*)(__edx + 4));
    }
    _t22 =  *((intOrPtr*)(__edx + 16));
    if(_t22 != __ecx) {
        _t26 =  *((intOrPtr*)(__edx + 20));
        if(_t26 != 0) {
            __eax =  *((intOrPtr*)(__edx + 24));
            _v20 = _t22;
            _v24 = __ecx;
             *__esp = __edx;
            _v16 =  *((intOrPtr*)(__edx + 24));
             *_t26();
        }
    }
}

evbuffer_setcb(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x08051770
    __eax = _a4;
     *((intOrPtr*)(__eax + 20)) = _a8;
     *((intOrPtr*)(__eax + 24)) = _a12;
    return __eax;
}

evbuffer_find(
    void** _a4,           // _cfa_4
    signed char* _a8,                      // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x08051790
    int _v20;                              // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    _unknown_ _v36;                        // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    _unknown_ __ebx;                       // r1
    void** _t16;          // _t16
    void* _t23;           // _t23
    void* _t26;           // _t26
    void* _t27;           // _t27

    _t16 = _a4;
    _t27 =  *_t16;
    _t26 = _t27 + _t16[4];
    if(_t27 >= _t26) {
L6:
        _v24 = 0;
    } else {
        _v20 =  *_a8 & 255;
        while(1) {
            _t23 = memchr(_t27, _v20, _t26 - _t27);
            if(_t23 == 0) {
                goto L6;
            }
            _v24 = _t23;
            if(_t26 < _t23 + _a12) {
                goto L6;
            } else {
                _t28 = _a12;
                asm("cld");
                asm("repe cmpsb");
                if(_a12 != _t28) {
                    _t27 = _v24 + 1;
                    if(_t26 <= _t27) {
                        goto L6;
                    } else {
                        continue;
                    }
                }
            }
            goto L7;
        }
        goto L6;
    }
L7:
    return _v24;
}

evbuffer_write(
    intOrPtr __ebx,                        // r1
    intOrPtr __esi,                        // r5
    void** _a4,           // _cfa_4
    int _a8                                // _cfa_8
)
{// addr = 0x08051810
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    int _t16;                              // _t16
    intOrPtr _t21;                         // _t21
    void** _t25;          // _t25

    _v8 = __esi;
    _t25 = _a4;
    _v12 = __ebx;
    _t16 = write(_a8,  *_t25, _t25[4]);
    _t21 = _t16;
    if(_t16 != -1 && _t16 != 0) {
        evbuffer_drain(_t21, _t25, _t25, _t16);
        return _t21;
    } else {
        return _t21;
    }
}

int evbuffer_remove(
    intOrPtr __ebx,                        // r1
    intOrPtr __esi,                        // r5
    void** _a4,           // _cfa_4
    void* _a8,            // _cfa_8
    int _a12                               // _cfa_c
)
{// addr = 0x08051870
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    int _t12;                              // _t12
    int _t19;                              // _t19
    void** _t22;          // _t22

    _v8 = __esi;
    _t22 = _a4;
    _v12 = __ebx;
    _t19 = _a12;
    _t12 = _t22[4];
    if(_t19 > _t12) {
        _t19 = _t12;
    }
    memcpy(_a8,  *_t22, _t19);
    evbuffer_drain(_t19, _t22, _t22, _t19);
    return _t19;
}

void* evbuffer_align(
    void** __eax          // r0
)
{// addr = 0x080518C0
    _unknown_ _v20;                        // _cfa_ffffffec (outparam)
    _unknown_ _v24;                        // _cfa_ffffffe8 (outparam)
    void* _t12;           // _t12

    memmove(__eax[1],  *__eax, __eax[4]);
    _t12 = __eax[1];
    __eax[2] = 0;
     *__eax = _t12;
    return _t12;
}

evbuffer_expand(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    void** _a4,           // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08051900
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v24;                         // _cfa_ffffffe8
    _unknown_ _t18;                        // _t18
    void* _t22;           // _t22
    intOrPtr _t28;                         // _t28
    _unknown_ _t31;                        // _t31
    void** _t34;          // _t34

    _v12 = __esi;
    _t34 = _a4;
    _v8 = __edi;
    __ecx = _a8;
    _t31 = 0;
    _v16 = __ebx;
    __edx =  *((intOrPtr*)(_t34 + 8));
    _t28 =  *((intOrPtr*)(_t34 + 12));
    _t18 = __edx +  *((intOrPtr*)(_t34 + 16)) + __ecx;
    if(_t18 <= _t28) {
L3:
        return _t31;
    }
    if(__edx < __ecx) {
        if(_t28 > 255) {
            do {
L6:
                _t28 = _t28 + _t28;
            } while(_t18 > _t28);
L7:
            if( *((intOrPtr*)(_t34 + 4)) !=  *_t34) {
                evbuffer_align(_t34);
            }
            _v24 = _t28;
            _t31 = -1;
             *__esp =  *_t34;
            _t22 = realloc();
            if(_t22 != 0) {
                _t31 = 0;
                 *_t34 = _t22;
                 *((intOrPtr*)(_t34 + 4)) = _t22;
                 *((intOrPtr*)(_t34 + 12)) = _t28;
            }
            goto L3;
        }
        _t28 = 256;
        if(_t18 <= 256) {
            goto L7;
        }
        goto L6;
    }
    evbuffer_align(_t34);
    goto L3;
}

int evbuffer_read(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    int _a4,                               // _cfa_4
    int _a8,                               // _cfa_8
    int _a12                               // _cfa_c
)
{// addr = 0x08051990
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    int _v20;                              // _cfa_ffffffec
    char* _v36;                            // _cfa_ffffffdc
    intOrPtr _v48;                         // _cfa_ffffffd0
    char* _v52;                            // _cfa_ffffffcc (outparam)
    char* _v56;                            // _cfa_ffffffc8 (outparam)
    int _t45;                              // _t45
    int _t46;                              // _t46
    signed int _t50;                       // _t50
    int _t52;                              // _t52
    int _t54;                              // _t54
    char* _t55;                            // _t55
    int _t56;                              // _t56
    int _t58;                              // _t58
    int _t61;                              // _t61

    _v12 = __esi;
    _t61 = _a4;
    _v16 = __ebx;
    _t52 = _a12;
    _v8 = __edi;
    _t58 = _a8;
    _v20 = 4096;
    _v56 = 21531;
     *__esp = _t58;
    _v36 =  *(_t61 + 16);
    _v52 =  &_v20;
    ioctl();
    if( &(((char*)( &_v20))[0]) == 0) {
L2:
        _v20 = 4096;
L3:
        if(_t52 < 0 || _t52 > _v20) {
            _t52 = _v20;
        }
        if(evbuffer_expand(_t52, _t58, _t61, _t61, _t52) + 1 != 0) {
            _t45 = read(_t58,  &(( *(_t61 + 16))[ *_t61]), _t52);
            _t54 = _t45;
            if(_t45 == -1) {
                goto L6;
            }
            _t46 = 0;
            if(_t54 != 0) {
                _v20 = _t54;
                _t55 =  &(( *(_t61 + 16))[_t54]);
                 *(_t61 + 16) = _t55;
                if(_v36 != _t55) {
                    __ecx =  *((intOrPtr*)(_t61 + 20));
                    if(__ecx != 0) {
                        _v52 = _t55;
                         *__esp = _t61;
                        _v48 =  *((intOrPtr*)(_t61 + 24));
                        _v56 = _v36;
                         *__ecx();
                    }
                }
                _t46 = _v20;
            }
L7:
            return _t46;
        }
L6:
        _t46 = -1;
        goto L7;
    }
    _t56 = _v20;
    if(_t56 != 0) {
        if(_t56 <= 4096 || _t56 <= _t52) {
            goto L3;
        } else {
            _t50 =  *(_t61 + 12) << 2;
            if(_t56 > _t50) {
                _v20 = _t50;
            }
            if(_v20 > 4095) {
                goto L3;
            }
            goto L2;
        }
    }
    goto L2;
}

evbuffer_add(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr* _a4,                         // _cfa_4
    void* _a8,            // _cfa_8
    int _a12                               // _cfa_c
)
{// addr = 0x08051A90
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v32;                         // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc (outparam)
    intOrPtr _v40;                         // _cfa_ffffffd8 (outparam)
    _unknown_ _t26;                        // _t26
    intOrPtr* _t33;                        // _t33
    intOrPtr _t35;                         // _t35
    _unknown_ _t36;                        // _t36
    intOrPtr _t39;                         // _t39
    int _t41;                              // _t41
    intOrPtr _t44;                         // _t44

    _v16 = __ebx;
    _t33 = _a4;
    _v8 = __edi;
    _t41 = _a12;
    _v12 = __esi;
    _t44 = _t33[4];
    _t35 = _t44;
    _t26 = _t44 + _t33[2] + _t41;
    if(_t26 > _t33[3]) {
        evbuffer_expand(_t33, _t41, _t44, _t33, _t41);
        _t36 = -1;
        if(_t26 + 1 != 0) {
            _t35 = _t33[4];
            goto L1;
        }
    } else {
L1:
        memcpy(_t35 +  *_t33, _a8, _t41);
        _t39 = _t41 +  *((intOrPtr*)(_t33 + 16));
         *((intOrPtr*)(_t33 + 16)) = _t39;
        if(_t41 == 0) {
L5:
            _t36 = 0;
        } else {
            __ecx =  *((intOrPtr*)(_t33 + 20));
            if(__ecx == 0) {
                goto L5;
            } else {
                _v36 = _t39;
                _v40 = _t44;
                 *__esp = _t33;
                _v32 = _t33[6];
                 *__ecx();
                _t36 = 0;
            }
        }
    }
    return _t36;
}

evbuffer_add_buffer(
    intOrPtr __ebx,                        // r1
    intOrPtr __edi,                        // r4
    intOrPtr __esi,                        // r5
    intOrPtr* _a4,                         // _cfa_4
    intOrPtr* _a8                          // _cfa_8
)
{// addr = 0x08051B30
    intOrPtr _v8;                          // _cfa_fffffff8
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    intOrPtr _v32;                         // _cfa_ffffffe0
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr _v40;                         // _cfa_ffffffd8 (outparam)
    intOrPtr _t48;                         // _t48
    intOrPtr _t65;                         // _t65
    intOrPtr* _t70;                        // _t70
    intOrPtr* _t71;                        // _t71
    intOrPtr* _t73;                        // _t73
    intOrPtr* _t76;                        // _t76

    _v12 = __esi;
    _t76 = _a4;
    _v8 = __edi;
    _t73 = _a8;
    _v16 = __ebx;
    if(_t76[4] != 0) {
        _v36 = _t73[4];
        _t48 =  *_t73;
         *__esp = _t76;
        _v40 = _t48;
        evbuffer_add(__ebx, _t73, _t76);
        _t65 = _t48;
        if(_t48 == 0) {
            evbuffer_drain(_t65, _t76, _t73, _t73[4]);
        }
L6:
        return _t65;
    }
    _v20 = _t73[4];
    _v24 = _t76[3];
     *_t76 =  *_t73;
     *_t73 =  *_t76;
     *((intOrPtr*)(_t76 + 4)) =  *((intOrPtr*)(_t73 + 4));
     *((intOrPtr*)(_t73 + 4)) =  *((intOrPtr*)(_t76 + 4));
     *((intOrPtr*)(_t76 + 8)) =  *((intOrPtr*)(_t73 + 8));
     *((intOrPtr*)(_t73 + 8)) =  *((intOrPtr*)(_t76 + 8));
     *((intOrPtr*)(_t76 + 12)) =  *((intOrPtr*)(_t73 + 12));
     *((intOrPtr*)(_t76 + 16)) = _v20;
     *((intOrPtr*)(_t73 + 16)) = 0;
     *((intOrPtr*)(_t73 + 12)) = _v24;
    if(_v20 == 0) {
L7:
        _t65 = 0;
        goto L6;
    }
    _t70 =  *((intOrPtr*)(_t73 + 20));
    if(_t70 != 0) {
        _v36 = 0;
         *__esp = _t73;
        _v32 = _t73[6];
        _v40 = _v20;
         *_t70();
    }
    _t71 =  *((intOrPtr*)(_t76 + 20));
    if(_t71 == 0) {
        goto L7;
    } else {
        _t65 = 0;
        _v40 = 0;
         *__esp = _t76;
        _v32 = _t76[6];
        _v36 = _v20;
         *_t71();
        goto L6;
    }
}

void* evbuffer_readline(
    void** _a4            // _cfa_4
)
{// addr = 0x08051C30
    int _v20;                              // _cfa_ffffffec
    void* _v24;           // _cfa_ffffffe8
    char* _v36;                            // _cfa_ffffffdc (outparam)
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)
    _unknown_ __ebx;                       // r1
    void* __edi;          // r4
    void* __esi;          // r5
    void** _t30;          // _t30
    signed int _t32;                       // _t32
    void* _t34;           // _t34
    signed int _t46;                       // _t46
    signed int _t49;                       // _t49
    int _t51;                              // _t51

    _t30 = _a4;
    __esi = _t30[4];
    __edi =  *_t30;
    if(__esi == 0) {
L15:
        _v24 = 0;
        return _v24;
    } else {
        _t32 =  *__edi & 255;
        if(_t32 == 13 || _t32 == 10) {
            _t51 = 0;
            _v20 = 1;
            goto L9;
        } else {
            while(1) {
                _t51 = 1;
                if(_t51 == __esi) {
                    goto L15;
                }
                _t49 =  *(__edi + _t51) & 255;
                if(_t49 == 13 || _t49 == 10) {
                    if(__esi == _t51) {
                        goto L15;
                    } else {
                        _v20 = _t51 + 1;
L9:
                        _t34 = malloc(_v20);
                        if(_t34 == 0) {
                            _v36 = "evbuffer_readline";
                            fprintf(__imp__stderr, "%s: out of memory\n");
                            evbuffer_drain(_t51, __esi, _a4, _t51);
                            _v24 = 0;
                        } else {
                            _v24 = _t34;
                            memcpy(_t34, __edi, _t51);
                             *((char*)(_v24 + _t51)) = 0;
                            if(__esi - 1 > _t51) {
                                _t46 =  *(__edi + _t51 + 1) & 255;
                                __edx =  *(__edi + _t51) & 255;
                                if(_t46 == 13 || _t46 == 10) {
                                    _v20 = _v20 + (_t46 != __dl & 255);
                                }
                            }
                            evbuffer_drain(_t51, __esi, _a4, _v20);
                        }
                        return _v24;
                    }
                } else {
                    continue;
                }
                goto L19;
            }
            goto L15;
        }
    }
L19:
}

evbuffer_add_vprintf(
    intOrPtr __ebx,                        // r1
    _unknown_ __edi,                       // r4
    int __esi,                             // r5
    void** _a4,           // _cfa_4
    char* _a8,                             // _cfa_8
    void* _a12            // _cfa_c
)
{// addr = 0x08051D40
    void* _v20;           // _cfa_ffffffec
    char* _v36;                            // _cfa_ffffffdc
    char _v48;                             // _cfa_ffffffd0
    intOrPtr _v52;                         // _cfa_ffffffcc
    char* _v56;                            // _cfa_ffffffc8
    char* _v68;                            // _cfa_ffffffbc
    char* _v96;                            // _cfa_ffffffa0 (outparam)
    _unknown_ _v100;                       // _cfa_ffffff9c (outparam)
    intOrPtr _t36;                         // _t36
    int _t41;                              // _t41
    void* _t50;           // _t50
    intOrPtr _t51;                         // _t51
    _unknown_ _t53;                        // _t53
    intOrPtr* _t54;                        // _t54
    intOrPtr _t55;                         // _t55
    void* _t56;           // _t56
    intOrPtr _t59;                         // _t59
    void** _t61;          // _t61
    _unknown_ _t64;                        // _t64

    _t62 = __esi;
    _push(__edi);
    _push(__esi);
    _push(__ebx);
    __esp = __esp - 44;
    _t61 = _a4;
    _v36 =  *((intOrPtr*)(_t61 + 16));
    evbuffer_expand(__ebx, _t61, __esi, _t61, 64);
    while(1) {
        _t36 =  *((intOrPtr*)(_t61 + 16));
        _t55 =  *((intOrPtr*)(_t61 + 12));
        _t50 =  *_t61;
        _t53 = _t36 +  *((intOrPtr*)(_t61 + 8));
        if(_t53 > _t55) {
            break;
        }
        _t56 = _a12;
        _t62 = _t55 - _t53;
        _v20 = _t56;
        _t41 = vsnprintf(_t50 + _t36, _t62, _a8, _t56);
        _t51 = _t41;
        if(_t41 < 0) {
L5:
            _t51 = -1;
            goto L6;
        } else {
            if(_t62 > _t41) {
                _t54 =  *((intOrPtr*)(_t61 + 20));
                _t59 = _t41 +  *((intOrPtr*)(_t61 + 16));
                 *((intOrPtr*)(_t61 + 16)) = _t59;
                if(_t54 == 0) {
L6:
                    __esp = __esp + 44;
                    _pop(__ebx);
                    _pop(__esi);
                    _pop(__edi);
                    return;
                } else {
                    _v52 = _t59;
                    _v48 =  *((intOrPtr*)(_t61 + 24));
                     *__esp = _t61;
                    _v56 = _v36;
                     *_t54();
                    __esp = __esp + 44;
                    _pop(__ebx);
                    _pop(__esi);
                    _pop(__edi);
                    return;
                }
            } else {
                if(evbuffer_expand(_t51, _t61, _t62, _t61, _t41 + 1) + 1 != 0) {
                    continue;
                } else {
                    goto L5;
                }
            }
        }
L11:
    }
    _v48 = "evbuffer_add_vprintf";
    _v52 = 143;
    _v56 = "buffer.c";
     *__esp = "buf->totallen >= used";
    __assert_fail();
    _push(_t64);
    __esp = __esp - 40;
    _v68 =  &_v48;
    _v96 =  &_v48;
    evbuffer_add_vprintf(_t50, _t61, _t62, _v56, _v52);
    return;
    goto L11;
}

evbuffer_add_printf(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    char _a12                              // _cfa_c
)
{// addr = 0x08051E20
    char* _v8;                             // _cfa_fffffff8
    char* _v36;                            // _cfa_ffffffdc
    _unknown_ _v40;                        // _cfa_ffffffd8 (outparam)

    _v8 =  &_a12;
    _v36 =  &_a12;
    return evbuffer_add_vprintf(__ebx, __edi, __esi, _a4, _a8);
}

evbuffer_free(
    intOrPtr _a4                           // _cfa_4
)
{// addr = 0x08051E50
    __ebx = _a4;
    __eax =  *((intOrPtr*)(__ebx + 4));
    if(__eax != 0) {
         *__esp = __eax;
        L1();
    }
    _a4 = __ebx;
    __esp = __esp + 4;
    _pop(__ebx);
    _pop(__ebp);
    goto __imp__free;
}

void* evbuffer_new()
{// addr = 0x08051E80
    _unknown_ _v8;                         // _cfa_fffffff8 (outparam)

    return calloc(1, 28);
}

fgetln(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr* _a8                          // _cfa_8
)
{// addr = 0x08051EA0
    char _v12;                             // _cfa_fffffff4
    intOrPtr _v36;                         // _cfa_ffffffdc
    intOrPtr* _v40;                        // _cfa_ffffffd8
    intOrPtr* __ebx;                       // r1

    __ebx = _a8;
    _v12 = 0;
    _v36 = _a4;
    _v40 = __ebx;
     *__esp =  &_v12;
    getline();
    __edx = 0;
    if( &_v12 + 1 != 0) {
         *__ebx =  *__ebx - 1;
        __edx = _v12;
    }
    return __edx;
}

signed char* strlcpy(
    char* _a4,                             // _cfa_4
    signed int _a8,                        // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x08051EE0
    char* __ebx;                           // r1
    _unknown_ __esi;                       // r5
    intOrPtr _t5;                          // _t5
    signed int _t9;                        // _t9
    signed int _t10;                       // _t10
    signed char* _t11;                     // _t11
    signed int _t12;                       // _t12

    _t5 = _a12;
    _t12 = _a8;
    _t10 = _t12;
    if(_t5 == 0) {
        goto L7;
    } else {
        __ebx = _a4;
        _t10 = _t12;
        __ecx = _t5;
        while(1) {
            __ecx = __ecx - 1;
            if(__ecx == 0) {
                break;
            }
            _t9 =  *_t10 & 255;
            _t10 = _t10 + 1;
             *__ebx = _t9;
            __ebx = __ebx + 1;
            if(_t9 != 0) {
                continue;
            } else {
                if(__ecx == 0) {
                    break;
                }
            }
            goto L5;
        }
         *__ebx = 0;
        while(1) {
L7:
            _t11 = _t10 + 1;
            if(( *_t10 & 255) == 0) {
                goto L5;
            }
            _t10 =  &(_t11[1]);
            if(( *_t11 & 255) != 0) {
                continue;
            } else {
            }
            goto L5;
        }
    }
L5:
    return  &(_t11[ !_t12]);
}

__libc_csu_fini(
    _unknown_ __eax                        // r0
)
{// addr = 0x08051F40
    __eax = __eax;
    return __eax;
}

__libc_csu_init(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8,                          // _cfa_8
    intOrPtr _a12                          // _cfa_c
)
{// addr = 0x08051F50
    intOrPtr _v20;                         // _cfa_ffffffec
    intOrPtr _v24;                         // _cfa_ffffffe8
    _unknown_ __ebx;                       // r1
    _unknown_ __edi;                       // r4
    signed int __esi;                      // r5
    _unknown_ _t11;                        // _t11
    _unknown_ _t17;                        // _t17
    _unknown_ _t18;                        // _t18
    signed int _t21;                       // _t21

    __i686.get_pc_thunk.bx(_t11);
    _t18 = _t17 + 9209;
    __esp = __esp - 12;
    _init();
    _t21 = _t18 - 240 - _t18 - 240 >> 2;
    if(_t21 != 0) {
        __esi = 0;
        do {
            _v20 = _a12;
            _v24 = _a8;
             *__esp = _a4;
             *((intOrPtr*)(_t18 + __esi * 4 - 240))();
            __esi = __esi + 1;
        } while(__esi < _t21);
    }
    __esp = __esp + 12;
}

__i686.get_pc_thunk.bx(
    _unknown_ __eax                        // r0
)
{// addr = 0x08051FAA
    __eax = __eax;
    return __eax;
}

__stat(
    intOrPtr _a4,                          // _cfa_4
    intOrPtr _a8                           // _cfa_8
)
{// addr = 0x08051FB0
    intOrPtr _v12;                         // _cfa_fffffff4
    intOrPtr _v16;                         // _cfa_fffffff0
    _unknown_ __ebx;                       // r1
    intOrPtr _t6;                          // _t6
    intOrPtr _t7;                          // _t7
    _unknown_ _t8;                         // _t8

    _t6 = __i686.get_pc_thunk.bx(_a8);
     *__esp = 3;
    _v12 = _t6;
    _t7 = _a4;
    _v16 = _t7;
    __xstat();
    return _t7;
}

__do_global_ctors_aux()
{// addr = 0x08051FF0
    intOrPtr* __ebx;                       // r1

    __eax = __CTOR_LIST__;
    if(__eax != -1) {
        __ebx =  &__CTOR_LIST__;
        do {
            __ebx = __ebx - 4;
             *__eax();
            __eax =  *__ebx;
        } while(__eax != -1);
    }
}

_fini()
{// addr = 0x0805201C
    _unknown_ __ebx;                       // r1
    _unknown_ _t1;                         // _t1

    __esp = __esp - 4;
    L1();
    _pop(__ebx);
    __eax = __do_global_dtors_aux();
    _pop(__ecx);
    return __eax;
}

L08052028()
{
    _unknown_ _t1;                         // _t1

    _pop(__ebx);
    __eax = __do_global_dtors_aux();
    _pop(__ecx);
    _pop(__ebx);
    __esp = __ebp;
    _pop(__ebp);
    return __eax;
}

L08052028()
{
    _unknown_ _t1;                         // _t1

    _pop(__ebx);
    __eax = @rec __do_global_dtors_aux@__do_global_dtors_aux@();
    _pop(__ecx);
    _pop(__ebx);
    __esp = __ebp;
    _pop(__ebp);
    return __eax;
}

// Statistics:
//    1839 Register nodes
//    3142 Temporaries nodes
//     675 Casts
//    1342 Statements
//     424 Labels
//     297 Gotos
//     241 Blocks
//   24577 Nodes
//      11 Assembly nodes
//     301 Unknown Types


Total time: 1 seconds.
